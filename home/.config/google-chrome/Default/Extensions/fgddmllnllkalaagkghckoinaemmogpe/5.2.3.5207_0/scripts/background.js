/*! For license information please see background.js.LICENSE.txt */
!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=356)}([,function(module,exports){var check=function(it){return it&&it.Math==Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof window&&window)||Function("return this")()},,,function(module,exports,__webpack_require__){var global=__webpack_require__(1),shared=__webpack_require__(55),has=__webpack_require__(7),uid=__webpack_require__(58),NATIVE_SYMBOL=__webpack_require__(59),USE_SYMBOL_AS_UID=__webpack_require__(90),WellKnownSymbolsStore=shared("wks"),Symbol=global.Symbol,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol:Symbol&&Symbol.withoutSetter||uid;module.exports=function(name){return has(WellKnownSymbolsStore,name)||(NATIVE_SYMBOL&&has(Symbol,name)?WellKnownSymbolsStore[name]=Symbol[name]:WellKnownSymbolsStore[name]=createWellKnownSymbol("Symbol."+name)),WellKnownSymbolsStore[name]}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"isNullOrEmpty",(function(){return isNullOrEmpty})),__webpack_require__.d(__webpack_exports__,"fixedEncodeURIComponent",(function(){return fixedEncodeURIComponent})),__webpack_require__.d(__webpack_exports__,"getRandomIntInclusive",(function(){return getRandomIntInclusive})),__webpack_require__.d(__webpack_exports__,"capitalize",(function(){return capitalize})),__webpack_require__.d(__webpack_exports__,"calculateRandomPosition",(function(){return calculateRandomPosition})),__webpack_require__.d(__webpack_exports__,"versionCompare",(function(){return versionCompare})),__webpack_require__.d(__webpack_exports__,"sortAndGroupBy",(function(){return sortAndGroupBy})),__webpack_require__.d(__webpack_exports__,"escapeRegExp",(function(){return escapeRegExp})),__webpack_require__.d(__webpack_exports__,"currentInfo",(function(){return currentInfo})),__webpack_require__.d(__webpack_exports__,"setLanguage",(function(){return setLanguage})),__webpack_require__.d(__webpack_exports__,"localize",(function(){return localize})),__webpack_require__.d(__webpack_exports__,"localizeLocation",(function(){return localizeLocation})),__webpack_require__.d(__webpack_exports__,"isRegularUser",(function(){return isRegularUser})),__webpack_require__.d(__webpack_exports__,"defaultPreferences",(function(){return defaultPreferences})),__webpack_require__.d(__webpack_exports__,"ICONS",(function(){return ICONS})),__webpack_require__.d(__webpack_exports__,"isPaymentMethodIAP",(function(){return isPaymentMethodIAP})),__webpack_require__.d(__webpack_exports__,"isInAppPurchasesRenewable",(function(){return isInAppPurchasesRenewable})),__webpack_require__.d(__webpack_exports__,"isLastInAppPurchasesFailure",(function(){return isLastInAppPurchasesFailure})),__webpack_require__.d(__webpack_exports__,"getTimeDelta",(function(){return getTimeDelta})),__webpack_require__.d(__webpack_exports__,"isInGracePeriod",(function(){return isInGracePeriod})),__webpack_require__.d(__webpack_exports__,"getLastIAPFatalError",(function(){return getLastIAPFatalError})),__webpack_require__.d(__webpack_exports__,"isSubscriptionExpired",(function(){return isSubscriptionExpired})),__webpack_require__.d(__webpack_exports__,"sha256",(function(){return sha256}));__webpack_require__(12),__webpack_require__(80),__webpack_require__(24);const currentInfo={state:"ready",selectedLocation:{name:"",country_code:"",is_smart_location:!1,is_country:!1,id:0},previousConnection:{id:0,protocol:""},smartLocation:{name:"",country_code:"",id:0},system:{browser:{},os:{}},networkStatus:"has internet",showWelcome:!1,recommendedLocationsList:[],allLocationsList:[],app:{version:"",latest_version:"",latest_version_url:""},preferences:{preferred_protocol:"auto"},subscription:{},website_url:"https://www.ujsrxts.com",connectingTimes:[],localizedStrings:{},ratingData:__webpack_require__(52).a.defaultRatingData,isNewProtocol:!1,flags:{showKeysModal:!1},raw:{}},defaultPreferences={"chrome.auto_connect":!1,"chrome.prevent_webrtc_leaks":!0,"chrome.desktop_notification":!0,httpsEverywhere:!0,httpsPeriodicity:86400,language:"",hideLocation:!0,helpImprove:!1},ICONS={connected:{text:"✓",color:"#0f866c"},connecting:{text:"···",color:"#fd9b3f"},default:{text:"",color:[0,0,0,0]},error:{text:"✕",color:"#cf1369"}},isNullOrEmpty=str=>null==str||""===str,fixedEncodeURIComponent=str=>encodeURIComponent(str).replace(/[!'()*]/g,c=>"%"+c.charCodeAt(0).toString(16)),capitalize=str=>`${str.charAt(0).toUpperCase()}${str.slice(1)}`,getRandomIntInclusive=(min,max)=>{const cMin=Math.ceil(min),fMax=Math.floor(max);return Math.floor(Math.random()*(fMax-cMin+1))+cMin},calculateRandomPosition=srcCoords=>{if("object"!=typeof srcCoords)return srcCoords;const DEGREES_TO_RADIANS=Math.PI/180,RADIANS_TO_DEGREES=180/Math.PI,bearing=getRandomIntInclusive(-180,180),distance=getRandomIntInclusive(100,1e3),latA=srcCoords.lat*DEGREES_TO_RADIANS,lonA=srcCoords.lon*DEGREES_TO_RADIANS,angularDistance=distance/6378137,trueCourse=bearing*DEGREES_TO_RADIANS,lat=Math.asin(Math.sin(latA)*Math.cos(angularDistance)+Math.cos(latA)*Math.sin(angularDistance)*Math.cos(trueCourse));return{lat:lat*RADIANS_TO_DEGREES,lon:((lonA+Math.atan2(Math.sin(trueCourse)*Math.sin(angularDistance)*Math.cos(latA),Math.cos(angularDistance)-Math.sin(latA)*Math.sin(lat))+Math.PI)%(2*Math.PI)-Math.PI)*RADIANS_TO_DEGREES}},versionCompare=(v1,v2,options)=>{const lexicographical=options&&options.lexicographical,zeroExtend=options&&options.zeroExtend;v2||(v2=v1);let v1parts=v1.split("."),v2parts=v2.split(".");const isValidPart=x=>(lexicographical?/^\d+[A-Za-z]*$/:/^\d+$/).test(x);if(!v1parts.every(isValidPart)||!v2parts.every(isValidPart))return NaN;if(zeroExtend){for(;v1parts.length<v2parts.length;)v1parts.push("0");for(;v2parts.length<v1parts.length;)v2parts.push("0")}lexicographical||(v1parts=v1parts.map(Number),v2parts=v2parts.map(Number));for(let i=0;i<v1parts.length;i+=1){if(v2parts.length===i)return 1;if(v1parts[i]>v2parts[i])return 1;if(v1parts[i]!==v2parts[i])return-1}return v1parts.length!==v2parts.length?-1:0},setLanguage=_locale=>{let locale=isNullOrEmpty(_locale)?(navigator.language||"").split("-")[0]:_locale,localeFileUrl=chrome.runtime.getURL("/_locales")+"/[XX]/messages.json";const fetchDefaultLang=function(error){return fetch(localeFileUrl.replace("[XX]","en")).then((function(response){return response.json()})).then((function(strings){return{strings:strings,locale:"en"}}))};return isNullOrEmpty(locale)?fetchDefaultLang():fetch(localeFileUrl.replace("[XX]",locale)).then((function(response){return response.json()})).then((function(strings){return{strings:strings,locale:locale}})).catch(fetchDefaultLang)},localize=localeKey=>{window.localizedStrings||setLanguage();let obj=(window.localizedStrings||{})[localeKey]||"";return obj&&"object"==typeof obj&&obj.message||""},localizeLocation=_location=>{if(!_location)return;let location;return"object"==typeof _location?(location={..._location},_location.name&&(location.name=localize("_locationName_"+_location.name.replace(/[ \-()]/g,"_"))||_location.name),_location.country&&(location.country=localize("_locationName_"+_location.country.replace(/[ \-()]/g,"_"))||_location.country),_location.region&&(location.region=localize("_locationName_"+_location.region.replace(/[ \-()]/g,"_"))||_location.region)):location=localize("_locationName_"+_location.replace(/[ \-()]/g,"_"))||_location,location},sortAndGroupBy=(data,factor,filterBy)=>{const sortOrderMap={},groupedData=(filterBy?data.filter(filterBy):data).reduce((result,val,index)=>{const key=val[factor];return hasOwnProperty.call(result,key)?result[key].push(val):Object.assign(result,{[key]:[val]}),result},{});data.forEach(item=>{sortOrderMap[item[factor]]=sortOrderMap[item[factor]]?Math.min(sortOrderMap[item[factor]],item.sort_order):item.sort_order});const keys=Object.keys(groupedData);keys.sort((a,b)=>sortOrderMap[a]-sortOrderMap[b]);const sortedGroupedData={};return keys.forEach(key=>{sortedGroupedData[key]=groupedData[key],sortedGroupedData[key].sort((loc1,loc2)=>loc1.sort_order-loc2.sort_order)}),sortedGroupedData},escapeRegExp=str=>str.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),isRegularUser=subscriptionInfo=>"ACTIVE"===subscriptionInfo.status&&"full"===subscriptionInfo.plan_type,getTimeDelta=(_date1,_date2)=>{_date2=_date2||(new Date).getTime()/1e3;let date1=new Date(1e3*_date1),rawDifference=new Date(1e3*_date2)-date1,seconds=Math.floor(rawDifference/1e3),minutes=Math.floor(seconds/60),hours=Math.floor(minutes/60),days=Math.floor(hours/24);return hours-=24*days,minutes=24*days*60-60*hours,seconds-=24*days*60*60-60*hours*60-60*minutes,{days:days,hours:hours,minutes:minutes,seconds:seconds,rawDifference:rawDifference}},isSubscriptionExpired=subscriptionObj=>getTimeDelta(subscriptionObj.expiration_time).rawDifference>0,isInGracePeriod=subscriptionObj=>isSubscriptionExpired(subscriptionObj)&&["ACTIVE","FREE_TRIAL_ACTIVE","MULTI_DEVICE_FREE_TRIAL_ACTIVE"].includes(subscriptionObj.status),isPaymentMethodIAP=subscriptionObj=>subscriptionObj.is_using_in_app_purchase&&("app_store_auto_renewable"===subscriptionObj.payment_method||"app_store_non_renewable"===subscriptionObj.payment_method),isInAppPurchasesRenewable=subscriptionObj=>subscriptionObj.is_using_in_app_purchase&&"app_store_auto_renewable"===subscriptionObj.payment_method&&!0===subscriptionObj.auto_bill,isLastInAppPurchasesFailure=subscriptionObj=>subscriptionObj.is_using_in_app_purchase&&"app_store_auto_renewable"===subscriptionObj.payment_method&&!0===subscriptionObj.last_auto_bill_failure,getLastIAPFatalError=subscriptionObj=>{let iapStatus=null;return!1===isPaymentMethodIAP(subscriptionObj)?null:("FREE_TRIAL_EXPIRED"===subscriptionObj.status&&isLastInAppPurchasesFailure(subscriptionObj)&&!0===subscriptionObj.auto_bill?iapStatus="FREE_TRIAL_IAP_RENEWAL_FAILED":"FREE_TRIAL_EXPIRED"===subscriptionObj.status&&!0===isSubscriptionExpired(subscriptionObj)&&!1===subscriptionObj.auto_bill?iapStatus="FREE_TRIAL_IAP_NON_RENEWAL_EXPIRED":isSubscriptionExpired(subscriptionObj)&&!isInGracePeriod(subscriptionObj)&&!0===subscriptionObj.auto_bill?iapStatus="SUBSCRIPTION_EXPIRED_NOGRACE_AUTOBILL_ON":isSubscriptionExpired(subscriptionObj)&&!isInGracePeriod(subscriptionObj)&&!1===subscriptionObj.auto_bill&&(iapStatus="SUBSCRIPTION_EXPIRED_NOGRACE_AUTOBILL_OFF"),iapStatus)},sha256=async message=>{const msgBuffer=(new TextEncoder).encode(message),hashBuffer=await crypto.subtle.digest("SHA-256",msgBuffer);return Array.from(new Uint8Array(hashBuffer)).map(b=>b.toString(16).padStart(2,"0")).join("")}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(10),definePropertyModule=__webpack_require__(13),createPropertyDescriptor=__webpack_require__(20);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var fails=__webpack_require__(6);module.exports=!fails((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(28),addToUnscopables=__webpack_require__(89),Iterators=__webpack_require__(21),InternalStateModule=__webpack_require__(17),defineIterator=__webpack_require__(64),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",(function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})}),(function(){var state=getInternalState(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?(state.target=void 0,{value:void 0,done:!0}):"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}}),"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(10),IE8_DOM_DEFINE=__webpack_require__(57),anObject=__webpack_require__(5),toPrimitive=__webpack_require__(41),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var global=__webpack_require__(1),createNonEnumerableProperty=__webpack_require__(9),has=__webpack_require__(7),setGlobal=__webpack_require__(39),inspectSource=__webpack_require__(46),InternalStateModule=__webpack_require__(17),getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(String).split("String");(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||createNonEnumerableProperty(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:createNonEnumerableProperty(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",(function(){return"function"==typeof this&&getInternalState(this).source||inspectSource(this)}))},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var path=__webpack_require__(93),global=__webpack_require__(1),aFunction=function(variable){return"function"==typeof variable?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports,__webpack_require__){var set,get,has,NATIVE_WEAK_MAP=__webpack_require__(94),global=__webpack_require__(1),isObject=__webpack_require__(11),createNonEnumerableProperty=__webpack_require__(9),objectHas=__webpack_require__(7),sharedKey=__webpack_require__(45),hiddenKeys=__webpack_require__(43),WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},,function(module,exports){module.exports=!1},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var global=__webpack_require__(1),getOwnPropertyDescriptor=__webpack_require__(47).f,createNonEnumerableProperty=__webpack_require__(9),redefine=__webpack_require__(14),setGlobal=__webpack_require__(39),copyConstructorProperties=__webpack_require__(95),isForced=__webpack_require__(67);module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(13).f,has=__webpack_require__(7),TO_STRING_TAG=__webpack_require__(4)("toStringTag");module.exports=function(it,TAG,STATIC){it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)&&defineProperty(it,TO_STRING_TAG,{configurable:!0,value:TAG})}},function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__(112),anObject=__webpack_require__(5),toObject=__webpack_require__(32),toLength=__webpack_require__(30),toInteger=__webpack_require__(31),requireObjectCoercible=__webpack_require__(29),advanceStringIndex=__webpack_require__(116),regExpExec=__webpack_require__(117),max=Math.max,min=Math.min,floor=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d\d?)/g;fixRegExpWellKnownSymbolLogic("replace",2,(function(REPLACE,nativeReplace,maybeCallNative,reason){var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,REPLACE_KEEPS_$0=reason.REPLACE_KEEPS_$0,UNSAFE_SUBSTITUTE=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(searchValue,replaceValue){var O=requireObjectCoercible(this),replacer=null==searchValue?void 0:searchValue[REPLACE];return void 0!==replacer?replacer.call(searchValue,O,replaceValue):nativeReplace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){if(!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE&&REPLACE_KEEPS_$0||"string"==typeof replaceValue&&-1===replaceValue.indexOf(UNSAFE_SUBSTITUTE)){var res=maybeCallNative(nativeReplace,regexp,this,replaceValue);if(res.done)return res.value}var rx=anObject(regexp),S=String(this),functionalReplace="function"==typeof replaceValue;functionalReplace||(replaceValue=String(replaceValue));var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}for(var results=[];;){var result=regExpExec(rx,S);if(null===result)break;if(results.push(result),!global)break;""===String(result[0])&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode))}for(var it,accumulatedResult="",nextSourcePosition=0,i=0;i<results.length;i++){result=results[i];for(var matched=String(result[0]),position=max(min(toInteger(result.index),S.length),0),captures=[],j=1;j<result.length;j++)captures.push(void 0===(it=result[j])?it:String(it));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);void 0!==namedCaptures&&replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(void 0,replacerArgs))}else replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue);position>=nextSourcePosition&&(accumulatedResult+=S.slice(nextSourcePosition,position)+replacement,nextSourcePosition=position+matched.length)}return accumulatedResult+S.slice(nextSourcePosition)}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length,m=captures.length,symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==namedCaptures&&(namedCaptures=toObject(namedCaptures),symbols=SUBSTITUTION_SYMBOLS),nativeReplace.call(replacement,symbols,(function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(0===n)return match;if(n>m){var f=floor(n/10);return 0===f?match:f<=m?void 0===captures[f-1]?ch.charAt(1):captures[f-1]+ch.charAt(1):match}capture=captures[n-1]}return void 0===capture?"":capture}))}}))},,,,function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__(54),requireObjectCoercible=__webpack_require__(29);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},function(module,exports,__webpack_require__){var requireObjectCoercible=__webpack_require__(29);module.exports=function(argument){return Object(requireObjectCoercible(argument))}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(33);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports,__webpack_require__){var classof=__webpack_require__(73),Iterators=__webpack_require__(21),ITERATOR=__webpack_require__(4)("iterator");module.exports=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){var global=__webpack_require__(1),DOMIterables=__webpack_require__(118),ArrayIteratorMethods=__webpack_require__(12),createNonEnumerableProperty=__webpack_require__(9),wellKnownSymbol=__webpack_require__(4),ITERATOR=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(window,undefined){"use strict";var MODEL="model",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",MOBILE="mobile",TABLET="tablet",SMARTTV="smarttv",util={extend:function(regexes,extensions){var mergedRegexes={};for(var i in regexes)extensions[i]&&extensions[i].length%2==0?mergedRegexes[i]=extensions[i].concat(regexes[i]):mergedRegexes[i]=regexes[i];return mergedRegexes},has:function(str1,str2){return"string"==typeof str1&&-1!==str2.toLowerCase().indexOf(str1.toLowerCase())},lowerize:function(str){return str.toLowerCase()},major:function(version){return"string"==typeof version?version.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(str){return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},mapper={rgx:function(ua,arrays){for(var j,k,p,q,matches,match,i=0;i<arrays.length&&!matches;){var regex=arrays[i],props=arrays[i+1];for(j=k=0;j<regex.length&&!matches;)if(matches=regex[j++].exec(ua))for(p=0;p<props.length;p++)match=matches[++k],"object"==typeof(q=props[p])&&q.length>0?2==q.length?"function"==typeof q[1]?this[q[0]]=q[1].call(this,match):this[q[0]]=q[1]:3==q.length?"function"!=typeof q[1]||q[1].exec&&q[1].test?this[q[0]]=match?match.replace(q[1],q[2]):void 0:this[q[0]]=match?q[1].call(this,match,q[2]):void 0:4==q.length&&(this[q[0]]=match?q[3].call(this,match.replace(q[1],q[2])):void 0):this[q]=match||void 0;i+=2}},str:function(str,map){for(var i in map)if("object"==typeof map[i]&&map[i].length>0){for(var j=0;j<map[i].length;j++)if(util.has(map[i][j],str))return"?"===i?void 0:i}else if(util.has(map[i],str))return"?"===i?void 0:i;return str}},maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[NAME,VERSION],[/(opios)[\/\s]+([\w\.]+)/i],[[NAME,"Opera Mini"],VERSION],[/\s(opr)\/([\w\.]+)/i],[[NAME,"Opera"],VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[NAME,VERSION],[/(konqueror)\/([\w\.]+)/i],[[NAME,"Konqueror"],VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[NAME,"IE"],VERSION],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[NAME,"Edge"],VERSION],[/(yabrowser)\/([\w\.]+)/i],[[NAME,"Yandex"],VERSION],[/(Avast)\/([\w\.]+)/i],[[NAME,"Avast Secure Browser"],VERSION],[/(AVG)\/([\w\.]+)/i],[[NAME,"AVG Secure Browser"],VERSION],[/(puffin)\/([\w\.]+)/i],[[NAME,"Puffin"],VERSION],[/(focus)\/([\w\.]+)/i],[[NAME,"Firefox Focus"],VERSION],[/(opt)\/([\w\.]+)/i],[[NAME,"Opera Touch"],VERSION],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[NAME,"UCBrowser"],VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[NAME,/_/g," "],VERSION],[/(windowswechat qbcore)\/([\w\.]+)/i],[[NAME,"WeChat(Win) Desktop"],VERSION],[/(micromessenger)\/([\w\.]+)/i],[[NAME,"WeChat"],VERSION],[/(brave)\/([\w\.]+)/i],[[NAME,"Brave"],VERSION],[/(qqbrowserlite)\/([\w\.]+)/i],[NAME,VERSION],[/(QQ)\/([\d\.]+)/i],[NAME,VERSION],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(MetaSr)[\/\s]?([\w\.]+)/i],[NAME],[/(LBBROWSER)/i],[NAME],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[VERSION,[NAME,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[VERSION,[NAME,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[NAME,VERSION],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[VERSION,[NAME,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[NAME,/(.+)/,"$1 WebView"],VERSION],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[NAME,/(.+(?:g|us))(.+)/,"$1 $2"],VERSION],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[VERSION,[NAME,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[NAME,"Sailfish Browser"],VERSION],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[NAME,VERSION],[/(dolfin)\/([\w\.]+)/i],[[NAME,"Dolphin"],VERSION],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[NAME,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[NAME,"Chrome"],VERSION],[/(coast)\/([\w\.]+)/i],[[NAME,"Opera Coast"],VERSION],[/fxios\/([\w\.-]+)/i],[VERSION,[NAME,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,[NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,NAME],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[NAME,"GSA"],VERSION],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,mapper.str,maps.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[NAME,VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[NAME,"Netscape"],VERSION],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[NAME,VERSION]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",util.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",util.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",util.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[MODEL,[VENDOR,"Apple"],[TYPE,TABLET]],[/(apple\s{0,1}tv)/i],[[MODEL,"Apple TV"],[VENDOR,"Apple"],[TYPE,SMARTTV]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[MODEL,mapper.str,maps.device.amazon.model],[VENDOR,"Amazon"],[TYPE,MOBILE]],[/android.+aft([bms])\sbuild/i],[MODEL,[VENDOR,"Amazon"],[TYPE,SMARTTV]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);/i],[MODEL,[VENDOR,"Apple"],[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\(bb10;\s(\w+)/i],[MODEL,[VENDOR,"BlackBerry"],[TYPE,MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[MODEL,[VENDOR,"Asus"],[TYPE,TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Tablet"],[TYPE,TABLET]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[MODEL,[VENDOR,"Sony"],[TYPE,MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,"console"]],[/android.+;\s(shield)\sbuild/i],[MODEL,[VENDOR,"Nvidia"],[TYPE,"console"]],[/(playstation\s[34portablevi]+)/i],[MODEL,[VENDOR,"Sony"],[TYPE,"console"]],[/(sprint\s(\w+))/i],[[VENDOR,mapper.str,maps.device.sprint.vendor],[MODEL,mapper.str,maps.device.sprint.model],[TYPE,MOBILE]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/(nexus\s9)/i],[MODEL,[VENDOR,"HTC"],[TYPE,TABLET]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29|ele-l29)/i],[MODEL,[VENDOR,"Huawei"],[TYPE,MOBILE]],[/android.+(bah2?-a?[lw]\d{2})/i],[MODEL,[VENDOR,"Huawei"],[TYPE,TABLET]],[/(microsoft);\s(lumia[\s\w]+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[MODEL,[VENDOR,"Microsoft"],[TYPE,"console"]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g," "],[VENDOR,"Microsoft"],[TYPE,MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[MODEL,[VENDOR,"Motorola"],[TYPE,MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,TABLET]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[VENDOR,util.trim],[MODEL,util.trim],[TYPE,SMARTTV]],[/hbbtv.+maple;(\d+)/i],[[MODEL,/^/,"SmartTV"],[VENDOR,"Samsung"],[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i],[MODEL,[VENDOR,"Sharp"],[TYPE,SMARTTV]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,TABLET]],[/smart-tv.+(samsung)/i],[VENDOR,[TYPE,SMARTTV],MODEL],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,MOBILE]],[/sie-(\w*)/i],[MODEL,[VENDOR,"Siemens"],[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[VENDOR,"Nokia"],MODEL,[TYPE,MOBILE]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[MODEL,[VENDOR,"Acer"],[TYPE,TABLET]],[/android.+([vl]k\-?\d{3})\s+build/i],[MODEL,[VENDOR,"LG"],[TYPE,TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,"LG"],MODEL,[TYPE,TABLET]],[/(lg) netcast\.tv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[MODEL,[VENDOR,"LG"],[TYPE,MOBILE]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[MODEL,[VENDOR,"Lenovo"],[TYPE,TABLET]],[/(lenovo)[_\s-]?([\w-]+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/linux;.+((jolla));/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[VENDOR,MODEL,[TYPE,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/crkey/i],[[MODEL,"Chromecast"],[VENDOR,"Google"],[TYPE,SMARTTV]],[/android.+;\s(glass)\s\d/i],[MODEL,[VENDOR,"Google"],[TYPE,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[MODEL,[VENDOR,"Google"],[TYPE,TABLET]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[MODEL,[VENDOR,"Google"],[TYPE,MOBILE]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]?[\w\s]+))\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,MOBILE]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]?[\w\s]+))\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,TABLET]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[MODEL,[VENDOR,"Meizu"],[TYPE,MOBILE]],[/(mz)-([\w-]{2,})/i],[[VENDOR,"Meizu"],MODEL,[TYPE,MOBILE]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[MODEL,[VENDOR,"OnePlus"],[TYPE,MOBILE]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[MODEL,[VENDOR,"RCA"],[TYPE,TABLET]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[MODEL,[VENDOR,"Dell"],[TYPE,TABLET]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[MODEL,[VENDOR,"Verizon"],[TYPE,TABLET]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[VENDOR,"Barnes & Noble"],MODEL,[TYPE,TABLET]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[MODEL,[VENDOR,"NuVision"],[TYPE,TABLET]],[/android.+;\s(k88)\sbuild/i],[MODEL,[VENDOR,"ZTE"],[TYPE,TABLET]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[MODEL,[VENDOR,"Swiss"],[TYPE,MOBILE]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[MODEL,[VENDOR,"Swiss"],[TYPE,TABLET]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[MODEL,[VENDOR,"Zeki"],[TYPE,TABLET]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[VENDOR,"Dragon Touch"],MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[MODEL,[VENDOR,"Insignia"],[TYPE,TABLET]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[MODEL,[VENDOR,"NextBook"],[TYPE,TABLET]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[VENDOR,"Voice"],MODEL,[TYPE,MOBILE]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[VENDOR,"LvTel"],MODEL,[TYPE,MOBILE]],[/android.+;\s(PH-1)\s/i],[MODEL,[VENDOR,"Essential"],[TYPE,MOBILE]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[MODEL,[VENDOR,"Envizen"],[TYPE,TABLET]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[MODEL,[VENDOR,"MachSpeed"],[TYPE,TABLET]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[MODEL,[VENDOR,"Rotor"],[TYPE,TABLET]],[/android.+(KS(.+))\s+build/i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[TYPE,util.lowerize],VENDOR,MODEL],[/[\s\/\(](smart-?tv)[;\)]/i],[[TYPE,SMARTTV]],[/(android[\w\.\s\-]{0,9});.+build/i],[MODEL,[VENDOR,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[VERSION,[NAME,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[VERSION,[NAME,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[NAME,VERSION],[/rv\:([\w\.]{1,9}).+(gecko)/i],[VERSION,NAME]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[NAME,VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[NAME,[VERSION,mapper.str,maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,"Windows"],[VERSION,mapper.str,maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,"BlackBerry"],VERSION],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[NAME,VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[NAME,"Symbian"],VERSION],[/\((series40);/i],[NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,"Firefox OS"],VERSION],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[NAME,VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,"Chromium OS"],VERSION],[/(sunos)\s?([\w\.\d]*)/i],[[NAME,"Solaris"],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[NAME,VERSION],[/(haiku)\s(\w+)/i],[NAME,VERSION],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[VERSION,/_/g,"."],[NAME,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[NAME,"Mac OS"],[VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[NAME,VERSION]]},UAParser=function(uastring,extensions){if("object"==typeof uastring&&(extensions=uastring,uastring=void 0),!(this instanceof UAParser))return new UAParser(uastring,extensions).getResult();var ua=uastring||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""),rgxmap=extensions?util.extend(regexes,extensions):regexes;return this.getBrowser=function(){var browser={name:void 0,version:void 0};return mapper.rgx.call(browser,ua,rgxmap.browser),browser.major=util.major(browser.version),browser},this.getCPU=function(){var cpu={architecture:void 0};return mapper.rgx.call(cpu,ua,rgxmap.cpu),cpu},this.getDevice=function(){var device={vendor:void 0,model:void 0,type:void 0};return mapper.rgx.call(device,ua,rgxmap.device),device},this.getEngine=function(){var engine={name:void 0,version:void 0};return mapper.rgx.call(engine,ua,rgxmap.engine),engine},this.getOS=function(){var os={name:void 0,version:void 0};return mapper.rgx.call(os,ua,rgxmap.os),os},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ua},this.setUA=function(uastring){return ua=uastring,this},this};UAParser.VERSION="0.7.22",UAParser.BROWSER={NAME:NAME,MAJOR:"major",VERSION:VERSION},UAParser.CPU={ARCHITECTURE:"architecture"},UAParser.DEVICE={MODEL:MODEL,VENDOR:VENDOR,TYPE:TYPE,CONSOLE:"console",MOBILE:MOBILE,SMARTTV:SMARTTV,TABLET:TABLET,WEARABLE:"wearable",EMBEDDED:"embedded"},UAParser.ENGINE={NAME:NAME,VERSION:VERSION},UAParser.OS={NAME:NAME,VERSION:VERSION},void 0!==exports?(void 0!==module&&module.exports&&(exports=module.exports=UAParser),exports.UAParser=UAParser):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return UAParser}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__);var $=window&&(window.jQuery||window.Zepto);if($&&!$.ua){var parser=new UAParser;$.ua=parser.getResult(),$.ua.get=function(){return parser.getUA()},$.ua.set=function(uastring){parser.setUA(uastring);var result=parser.getResult();for(var prop in result)$.ua[prop]=result[prop]}}}("object"==typeof window?window:this)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(36);const getLocationById=(locationsList,_id)=>{let id=parseInt(_id,10);for(let continent in locationsList)for(let country in locationsList[continent]){let foundLocationObj=locationsList[continent][country].find(location=>parseInt(location.id,10)===id);if(foundLocationObj)return foundLocationObj}};__webpack_exports__.a={filterLocationsByProtocol:(locationsList,targetProtocol)=>{const filterPredicate=loc=>"auto"===targetProtocol.toLowerCase()||loc.protocols.indexOf(targetProtocol.toLowerCase())>-1;if(Array.isArray(locationsList))return locationsList.filter(filterPredicate);const filteredLocs={};for(let country in locationsList)country&&Object.assign(filteredLocs,{[country]:locationsList[country].filter(filterPredicate)});return filteredLocs},getLocationByName:(locationsList,name)=>{for(let continent in locationsList)for(let country in locationsList[continent]){let foundLocationObj=locationsList[continent][country].find(location=>location.name===name);if(foundLocationObj)return foundLocationObj}},trimLocationName:loc=>{let countryTrimmedLocationName=loc.name.includes(" - ")?loc.name.slice(loc.name.indexOf(" - ")+3):loc.name;return/^\d+/.test(countryTrimmedLocationName)&&(countryTrimmedLocationName=loc.name),countryTrimmedLocationName},isValidRecommendedCountry:(countryLocations,recentLocations)=>0===recentLocations.length||countryLocations.length>1||!(countryLocations[0].id===recentLocations[0].id||recentLocations.length>1&&countryLocations[0].id===recentLocations[1].id),getRecentConnectedLocations:locationsList=>{let max1Time=new Date("0000-01-01T00:00:00Z").getTime(),max2Time=new Date("0000-01-01T00:00:00Z").getTime(),lastConnectedLocation1=null,lastConnectedLocation2=null;const recentLocations=[];for(let region in locationsList)if(region){const sublist=locationsList[region];for(let country in sublist)if(country)for(let i=0;i<sublist[country].length;i+=1){const lastConnectedTime=new Date(sublist[country][i].last_connected_time).getTime();lastConnectedTime>0&&lastConnectedTime>max1Time?(max2Time=max1Time,max1Time=lastConnectedTime,lastConnectedLocation2=lastConnectedLocation1,lastConnectedLocation1=sublist[country][i]):lastConnectedTime>0&&lastConnectedTime>max2Time&&(max2Time=lastConnectedTime,lastConnectedLocation2=sublist[country][i])}}return lastConnectedLocation1&&recentLocations.push(lastConnectedLocation1),lastConnectedLocation2&&recentLocations.push(lastConnectedLocation2),recentLocations},getLocationById:getLocationById,getRecentLocations:(allLocationsList,recentLocations)=>{let returnLocations=[];if(recentLocations&&allLocationsList)for(let locationId of recentLocations)returnLocations.push(getLocationById(allLocationsList,locationId));return returnLocations}}},function(module,exports,__webpack_require__){var global=__webpack_require__(1),createNonEnumerableProperty=__webpack_require__(9);module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},function(module,exports,__webpack_require__){var global=__webpack_require__(1),isObject=__webpack_require__(11),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;if("function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var activeXDocument,anObject=__webpack_require__(5),defineProperties=__webpack_require__(60),enumBugKeys=__webpack_require__(44),hiddenKeys=__webpack_require__(43),html=__webpack_require__(63),documentCreateElement=__webpack_require__(40),sharedKey=__webpack_require__(45),IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(content){return"<script>"+content+"<\/script>"},NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch(error){}var iframeDocument,iframe;NullProtoObject=activeXDocument?function(activeXDocument){activeXDocument.write(scriptTag("")),activeXDocument.close();var temp=activeXDocument.parentWindow.Object;return activeXDocument=null,temp}(activeXDocument):((iframe=documentCreateElement("iframe")).style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write(scriptTag("document.F=Object")),iframeDocument.close(),iframeDocument.F);for(var length=enumBugKeys.length;length--;)delete NullProtoObject.prototype[enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0,module.exports=Object.create||function(O,Properties){var result;return null!==O?(EmptyConstructor.prototype=anObject(O),result=new EmptyConstructor,EmptyConstructor.prototype=null,result[IE_PROTO]=O):result=NullProtoObject(),void 0===Properties?result:defineProperties(result,Properties)}},function(module,exports){module.exports={}},function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports,__webpack_require__){var shared=__webpack_require__(55),uid=__webpack_require__(58),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},function(module,exports,__webpack_require__){var store=__webpack_require__(56),functionToString=Function.toString;"function"!=typeof store.inspectSource&&(store.inspectSource=function(it){return functionToString.call(it)}),module.exports=store.inspectSource},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(10),propertyIsEnumerableModule=__webpack_require__(65),createPropertyDescriptor=__webpack_require__(20),toIndexedObject=__webpack_require__(28),toPrimitive=__webpack_require__(41),has=__webpack_require__(7),IE8_DOM_DEFINE=__webpack_require__(57),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError("Incorrect "+(name?name+" ":"")+"invocation");return it}},function(module,exports,__webpack_require__){"use strict";var re1,re2,regexpFlags=__webpack_require__(114),stickyHelpers=__webpack_require__(115),nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,UPDATES_LAST_INDEX_WRONG=(re1=/a/,re2=/b*/g,nativeExec.call(re1,"a"),nativeExec.call(re2,"a"),0!==re1.lastIndex||0!==re2.lastIndex),UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y||stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=void 0!==/()??/.exec("")[1];(UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y)&&(patchedExec=function(str){var lastIndex,reCopy,match,i,re=this,sticky=UNSUPPORTED_Y&&re.sticky,flags=regexpFlags.call(re),source=re.source,charsAdded=0,strCopy=str;return sticky&&(-1===(flags=flags.replace("y","")).indexOf("g")&&(flags+="g"),strCopy=String(str).slice(re.lastIndex),re.lastIndex>0&&(!re.multiline||re.multiline&&"\n"!==str[re.lastIndex-1])&&(source="(?: "+source+")",strCopy=" "+strCopy,charsAdded++),reCopy=new RegExp("^(?:"+source+")",flags)),NPCG_INCLUDED&&(reCopy=new RegExp("^"+source+"$(?!\\s)",flags)),UPDATES_LAST_INDEX_WRONG&&(lastIndex=re.lastIndex),match=nativeExec.call(sticky?reCopy:re,strCopy),sticky?match?(match.input=match.input.slice(charsAdded),match[0]=match[0].slice(charsAdded),match.index=re.lastIndex,re.lastIndex+=match[0].length):re.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&match&&(re.lastIndex=re.global?match.index+match[0].length:lastIndex),NPCG_INCLUDED&&match&&match.length>1&&nativeReplace.call(match[0],reCopy,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)})),match}),module.exports=patchedExec},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),requireObjectCoercible=__webpack_require__(29),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=String(requireObjectCoercible($this)),position=toInteger(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=S.charCodeAt(position))<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):second-56320+(first-55296<<10)+65536}};module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},,function(module,__webpack_exports__,__webpack_require__){"use strict";const defaultRatingData={activatedDate:Date.now()/1e3,currentConnectionStartTime:0,lastConnectionStartTime:0,successfulConnections:0,isRegularUser:!1,previousConnectionTime:0,isSuccessfulConnection:!1,everClickedMaxRating:!1,lastDiscardDate:0,lastFailedRateDate:0};__webpack_exports__.a={defaultRatingData:defaultRatingData,updateRatingDataFromState:(ratingParam,data)=>{let ratingData=ratingParam;return"ready"===data.oldstate&&"connecting"===data.newstate?ratingData.currentConnectionStartTime=Date.now()/1e3:"connecting"===data.oldstate&&"connected"===data.newstate?(Date.now()/1e3-ratingData.currentConnectionStartTime<10&&(ratingData.isSuccessfulConnection=!0,ratingData.successfulConnections+=1),ratingData.currentConnectionStartTime=0,ratingData.lastConnectionStartTime=Date.now()/1e3):"connected"===data.oldstate&&(ratingData.previousConnectionTime=Date.now()/1e3-ratingData.lastConnectionStartTime,ratingData.lastConnectionStartTime=0,ratingData.isSuccessfulConnection=!1),ratingData.isSubscriber=function(ratingData){return Date.now()/1e3-ratingData.activatedDate>=1296e3&&ratingData.successfulConnections>=5&&!0===ratingData.isRegularUser}(ratingData),ratingData}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(119);var EOF,$=__webpack_require__(22),DESCRIPTORS=__webpack_require__(10),USE_NATIVE_URL=__webpack_require__(79),global=__webpack_require__(1),defineProperties=__webpack_require__(60),redefine=__webpack_require__(14),anInstance=__webpack_require__(48),has=__webpack_require__(7),assign=__webpack_require__(120),arrayFrom=__webpack_require__(121),codeAt=__webpack_require__(50).codeAt,toASCII=__webpack_require__(123),setToStringTag=__webpack_require__(23),URLSearchParamsModule=__webpack_require__(124),InternalStateModule=__webpack_require__(17),NativeURL=global.URL,URLSearchParams=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),floor=Math.floor,pow=Math.pow,ALPHA=/[A-Za-z]/,ALPHANUMERIC=/[\d+\-.A-Za-z]/,DIGIT=/\d/,HEX_START=/^(0x|0X)/,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\dA-Fa-f]+$/,FORBIDDEN_HOST_CODE_POINT=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,TAB_AND_NEW_LINE=/[\u0009\u000A\u000D]/g,parseHost=function(url,input){var result,codePoints,index;if("["==input.charAt(0)){if("]"!=input.charAt(input.length-1))return"Invalid host";if(!(result=parseIPv6(input.slice(1,-1))))return"Invalid host";url.host=result}else if(isSpecial(url)){if(input=toASCII(input),FORBIDDEN_HOST_CODE_POINT.test(input))return"Invalid host";if(null===(result=parseIPv4(input)))return"Invalid host";url.host=result}else{if(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input))return"Invalid host";for(result="",codePoints=arrayFrom(input),index=0;index<codePoints.length;index++)result+=percentEncode(codePoints[index],C0ControlPercentEncodeSet);url.host=result}},parseIPv4=function(input){var partsLength,numbers,index,part,radix,number,ipv4,parts=input.split(".");if(parts.length&&""==parts[parts.length-1]&&parts.pop(),(partsLength=parts.length)>4)return input;for(numbers=[],index=0;index<partsLength;index++){if(""==(part=parts[index]))return input;if(radix=10,part.length>1&&"0"==part.charAt(0)&&(radix=HEX_START.test(part)?16:8,part=part.slice(8==radix?1:2)),""===part)number=0;else{if(!(10==radix?DEC:8==radix?OCT:HEX).test(part))return input;number=parseInt(part,radix)}numbers.push(number)}for(index=0;index<partsLength;index++)if(number=numbers[index],index==partsLength-1){if(number>=pow(256,5-partsLength))return null}else if(number>255)return null;for(ipv4=numbers.pop(),index=0;index<numbers.length;index++)ipv4+=numbers[index]*pow(256,3-index);return ipv4},parseIPv6=function(input){var value,length,numbersSeen,ipv4Piece,number,swaps,swap,address=[0,0,0,0,0,0,0,0],pieceIndex=0,compress=null,pointer=0,char=function(){return input.charAt(pointer)};if(":"==char()){if(":"!=input.charAt(1))return;pointer+=2,compress=++pieceIndex}for(;char();){if(8==pieceIndex)return;if(":"!=char()){for(value=length=0;length<4&&HEX.test(char());)value=16*value+parseInt(char(),16),pointer++,length++;if("."==char()){if(0==length)return;if(pointer-=length,pieceIndex>6)return;for(numbersSeen=0;char();){if(ipv4Piece=null,numbersSeen>0){if(!("."==char()&&numbersSeen<4))return;pointer++}if(!DIGIT.test(char()))return;for(;DIGIT.test(char());){if(number=parseInt(char(),10),null===ipv4Piece)ipv4Piece=number;else{if(0==ipv4Piece)return;ipv4Piece=10*ipv4Piece+number}if(ipv4Piece>255)return;pointer++}address[pieceIndex]=256*address[pieceIndex]+ipv4Piece,2!=++numbersSeen&&4!=numbersSeen||pieceIndex++}if(4!=numbersSeen)return;break}if(":"==char()){if(pointer++,!char())return}else if(char())return;address[pieceIndex++]=value}else{if(null!==compress)return;pointer++,compress=++pieceIndex}}if(null!==compress)for(swaps=pieceIndex-compress,pieceIndex=7;0!=pieceIndex&&swaps>0;)swap=address[pieceIndex],address[pieceIndex--]=address[compress+swaps-1],address[compress+--swaps]=swap;else if(8!=pieceIndex)return;return address},serializeHost=function(host){var result,index,compress,ignore0;if("number"==typeof host){for(result=[],index=0;index<4;index++)result.unshift(host%256),host=floor(host/256);return result.join(".")}if("object"==typeof host){for(result="",compress=function(ipv6){for(var maxIndex=null,maxLength=1,currStart=null,currLength=0,index=0;index<8;index++)0!==ipv6[index]?(currLength>maxLength&&(maxIndex=currStart,maxLength=currLength),currStart=null,currLength=0):(null===currStart&&(currStart=index),++currLength);return currLength>maxLength&&(maxIndex=currStart,maxLength=currLength),maxIndex}(host),index=0;index<8;index++)ignore0&&0===host[index]||(ignore0&&(ignore0=!1),compress===index?(result+=index?":":"::",ignore0=!0):(result+=host[index].toString(16),index<7&&(result+=":")));return"["+result+"]"}return host},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(char,set){var code=codeAt(char,0);return code>32&&code<127&&!has(set,char)?char:encodeURIComponent(char)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isSpecial=function(url){return has(specialSchemes,url.scheme)},includesCredentials=function(url){return""!=url.username||""!=url.password},cannotHaveUsernamePasswordPort=function(url){return!url.host||url.cannotBeABaseURL||"file"==url.scheme},isWindowsDriveLetter=function(string,normalized){var second;return 2==string.length&&ALPHA.test(string.charAt(0))&&(":"==(second=string.charAt(1))||!normalized&&"|"==second)},startsWithWindowsDriveLetter=function(string){var third;return string.length>1&&isWindowsDriveLetter(string.slice(0,2))&&(2==string.length||"/"===(third=string.charAt(2))||"\\"===third||"?"===third||"#"===third)},shortenURLsPath=function(url){var path=url.path,pathSize=path.length;!pathSize||"file"==url.scheme&&1==pathSize&&isWindowsDriveLetter(path[0],!0)||path.pop()},isSingleDot=function(segment){return"."===segment||"%2e"===segment.toLowerCase()},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},parseURL=function(url,input,stateOverride,base){var codePoints,char,bufferCodePoints,failure,segment,state=stateOverride||SCHEME_START,pointer=0,buffer="",seenAt=!1,seenBracket=!1,seenPasswordToken=!1;for(stateOverride||(url.scheme="",url.username="",url.password="",url.host=null,url.port=null,url.path=[],url.query=null,url.fragment=null,url.cannotBeABaseURL=!1,input=input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")),input=input.replace(TAB_AND_NEW_LINE,""),codePoints=arrayFrom(input);pointer<=codePoints.length;){switch(char=codePoints[pointer],state){case SCHEME_START:if(!char||!ALPHA.test(char)){if(stateOverride)return"Invalid scheme";state=NO_SCHEME;continue}buffer+=char.toLowerCase(),state=SCHEME;break;case SCHEME:if(char&&(ALPHANUMERIC.test(char)||"+"==char||"-"==char||"."==char))buffer+=char.toLowerCase();else{if(":"!=char){if(stateOverride)return"Invalid scheme";buffer="",state=NO_SCHEME,pointer=0;continue}if(stateOverride&&(isSpecial(url)!=has(specialSchemes,buffer)||"file"==buffer&&(includesCredentials(url)||null!==url.port)||"file"==url.scheme&&!url.host))return;if(url.scheme=buffer,stateOverride)return void(isSpecial(url)&&specialSchemes[url.scheme]==url.port&&(url.port=null));buffer="","file"==url.scheme?state=FILE:isSpecial(url)&&base&&base.scheme==url.scheme?state=SPECIAL_RELATIVE_OR_AUTHORITY:isSpecial(url)?state=SPECIAL_AUTHORITY_SLASHES:"/"==codePoints[pointer+1]?(state=PATH_OR_AUTHORITY,pointer++):(url.cannotBeABaseURL=!0,url.path.push(""),state=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!base||base.cannotBeABaseURL&&"#"!=char)return"Invalid scheme";if(base.cannotBeABaseURL&&"#"==char){url.scheme=base.scheme,url.path=base.path.slice(),url.query=base.query,url.fragment="",url.cannotBeABaseURL=!0,state=FRAGMENT;break}state="file"==base.scheme?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if("/"!=char||"/"!=codePoints[pointer+1]){state=RELATIVE;continue}state=SPECIAL_AUTHORITY_IGNORE_SLASHES,pointer++;break;case PATH_OR_AUTHORITY:if("/"==char){state=AUTHORITY;break}state=PATH;continue;case RELATIVE:if(url.scheme=base.scheme,char==EOF)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query=base.query;else if("/"==char||"\\"==char&&isSpecial(url))state=RELATIVE_SLASH;else if("?"==char)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query="",state=QUERY;else{if("#"!=char){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.path.pop(),state=PATH;continue}url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query=base.query,url.fragment="",state=FRAGMENT}break;case RELATIVE_SLASH:if(!isSpecial(url)||"/"!=char&&"\\"!=char){if("/"!=char){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,state=PATH;continue}state=AUTHORITY}else state=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(state=SPECIAL_AUTHORITY_IGNORE_SLASHES,"/"!=char||"/"!=buffer.charAt(pointer+1))continue;pointer++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if("/"!=char&&"\\"!=char){state=AUTHORITY;continue}break;case AUTHORITY:if("@"==char){seenAt&&(buffer="%40"+buffer),seenAt=!0,bufferCodePoints=arrayFrom(buffer);for(var i=0;i<bufferCodePoints.length;i++){var codePoint=bufferCodePoints[i];if(":"!=codePoint||seenPasswordToken){var encodedCodePoints=percentEncode(codePoint,userinfoPercentEncodeSet);seenPasswordToken?url.password+=encodedCodePoints:url.username+=encodedCodePoints}else seenPasswordToken=!0}buffer=""}else if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)){if(seenAt&&""==buffer)return"Invalid authority";pointer-=arrayFrom(buffer).length+1,buffer="",state=HOST}else buffer+=char;break;case HOST:case HOSTNAME:if(stateOverride&&"file"==url.scheme){state=FILE_HOST;continue}if(":"!=char||seenBracket){if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)){if(isSpecial(url)&&""==buffer)return"Invalid host";if(stateOverride&&""==buffer&&(includesCredentials(url)||null!==url.port))return;if(failure=parseHost(url,buffer))return failure;if(buffer="",state=PATH_START,stateOverride)return;continue}"["==char?seenBracket=!0:"]"==char&&(seenBracket=!1),buffer+=char}else{if(""==buffer)return"Invalid host";if(failure=parseHost(url,buffer))return failure;if(buffer="",state=PORT,stateOverride==HOSTNAME)return}break;case PORT:if(!DIGIT.test(char)){if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)||stateOverride){if(""!=buffer){var port=parseInt(buffer,10);if(port>65535)return"Invalid port";url.port=isSpecial(url)&&port===specialSchemes[url.scheme]?null:port,buffer=""}if(stateOverride)return;state=PATH_START;continue}return"Invalid port"}buffer+=char;break;case FILE:if(url.scheme="file","/"==char||"\\"==char)state=FILE_SLASH;else{if(!base||"file"!=base.scheme){state=PATH;continue}if(char==EOF)url.host=base.host,url.path=base.path.slice(),url.query=base.query;else if("?"==char)url.host=base.host,url.path=base.path.slice(),url.query="",state=QUERY;else{if("#"!=char){startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))||(url.host=base.host,url.path=base.path.slice(),shortenURLsPath(url)),state=PATH;continue}url.host=base.host,url.path=base.path.slice(),url.query=base.query,url.fragment="",state=FRAGMENT}}break;case FILE_SLASH:if("/"==char||"\\"==char){state=FILE_HOST;break}base&&"file"==base.scheme&&!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))&&(isWindowsDriveLetter(base.path[0],!0)?url.path.push(base.path[0]):url.host=base.host),state=PATH;continue;case FILE_HOST:if(char==EOF||"/"==char||"\\"==char||"?"==char||"#"==char){if(!stateOverride&&isWindowsDriveLetter(buffer))state=PATH;else if(""==buffer){if(url.host="",stateOverride)return;state=PATH_START}else{if(failure=parseHost(url,buffer))return failure;if("localhost"==url.host&&(url.host=""),stateOverride)return;buffer="",state=PATH_START}continue}buffer+=char;break;case PATH_START:if(isSpecial(url)){if(state=PATH,"/"!=char&&"\\"!=char)continue}else if(stateOverride||"?"!=char)if(stateOverride||"#"!=char){if(char!=EOF&&(state=PATH,"/"!=char))continue}else url.fragment="",state=FRAGMENT;else url.query="",state=QUERY;break;case PATH:if(char==EOF||"/"==char||"\\"==char&&isSpecial(url)||!stateOverride&&("?"==char||"#"==char)){if(".."===(segment=(segment=buffer).toLowerCase())||"%2e."===segment||".%2e"===segment||"%2e%2e"===segment?(shortenURLsPath(url),"/"==char||"\\"==char&&isSpecial(url)||url.path.push("")):isSingleDot(buffer)?"/"==char||"\\"==char&&isSpecial(url)||url.path.push(""):("file"==url.scheme&&!url.path.length&&isWindowsDriveLetter(buffer)&&(url.host&&(url.host=""),buffer=buffer.charAt(0)+":"),url.path.push(buffer)),buffer="","file"==url.scheme&&(char==EOF||"?"==char||"#"==char))for(;url.path.length>1&&""===url.path[0];)url.path.shift();"?"==char?(url.query="",state=QUERY):"#"==char&&(url.fragment="",state=FRAGMENT)}else buffer+=percentEncode(char,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:"?"==char?(url.query="",state=QUERY):"#"==char?(url.fragment="",state=FRAGMENT):char!=EOF&&(url.path[0]+=percentEncode(char,C0ControlPercentEncodeSet));break;case QUERY:stateOverride||"#"!=char?char!=EOF&&("'"==char&&isSpecial(url)?url.query+="%27":url.query+="#"==char?"%23":percentEncode(char,C0ControlPercentEncodeSet)):(url.fragment="",state=FRAGMENT);break;case FRAGMENT:char!=EOF&&(url.fragment+=percentEncode(char,fragmentPercentEncodeSet))}pointer++}},URLConstructor=function(url){var baseState,failure,that=anInstance(this,URLConstructor,"URL"),base=arguments.length>1?arguments[1]:void 0,urlString=String(url),state=setInternalState(that,{type:"URL"});if(void 0!==base)if(base instanceof URLConstructor)baseState=getInternalURLState(base);else if(failure=parseURL(baseState={},String(base)))throw TypeError(failure);if(failure=parseURL(state,urlString,null,baseState))throw TypeError(failure);var searchParams=state.searchParams=new URLSearchParams,searchParamsState=getInternalSearchParamsState(searchParams);searchParamsState.updateSearchParams(state.query),searchParamsState.updateURL=function(){state.query=String(searchParams)||null},DESCRIPTORS||(that.href=serializeURL.call(that),that.origin=getOrigin.call(that),that.protocol=getProtocol.call(that),that.username=getUsername.call(that),that.password=getPassword.call(that),that.host=getHost.call(that),that.hostname=getHostname.call(that),that.port=getPort.call(that),that.pathname=getPathname.call(that),that.search=getSearch.call(that),that.searchParams=getSearchParams.call(that),that.hash=getHash.call(that))},URLPrototype=URLConstructor.prototype,serializeURL=function(){var url=getInternalURLState(this),scheme=url.scheme,username=url.username,password=url.password,host=url.host,port=url.port,path=url.path,query=url.query,fragment=url.fragment,output=scheme+":";return null!==host?(output+="//",includesCredentials(url)&&(output+=username+(password?":"+password:"")+"@"),output+=serializeHost(host),null!==port&&(output+=":"+port)):"file"==scheme&&(output+="//"),output+=url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):"",null!==query&&(output+="?"+query),null!==fragment&&(output+="#"+fragment),output},getOrigin=function(){var url=getInternalURLState(this),scheme=url.scheme,port=url.port;if("blob"==scheme)try{return new URL(scheme.path[0]).origin}catch(error){return"null"}return"file"!=scheme&&isSpecial(url)?scheme+"://"+serializeHost(url.host)+(null!==port?":"+port:""):"null"},getProtocol=function(){return getInternalURLState(this).scheme+":"},getUsername=function(){return getInternalURLState(this).username},getPassword=function(){return getInternalURLState(this).password},getHost=function(){var url=getInternalURLState(this),host=url.host,port=url.port;return null===host?"":null===port?serializeHost(host):serializeHost(host)+":"+port},getHostname=function(){var host=getInternalURLState(this).host;return null===host?"":serializeHost(host)},getPort=function(){var port=getInternalURLState(this).port;return null===port?"":String(port)},getPathname=function(){var url=getInternalURLState(this),path=url.path;return url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):""},getSearch=function(){var query=getInternalURLState(this).query;return query?"?"+query:""},getSearchParams=function(){return getInternalURLState(this).searchParams},getHash=function(){var fragment=getInternalURLState(this).fragment;return fragment?"#"+fragment:""},accessorDescriptor=function(getter,setter){return{get:getter,set:setter,configurable:!0,enumerable:!0}};if(DESCRIPTORS&&defineProperties(URLPrototype,{href:accessorDescriptor(serializeURL,(function(href){var url=getInternalURLState(this),urlString=String(href),failure=parseURL(url,urlString);if(failure)throw TypeError(failure);getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)})),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,(function(protocol){var url=getInternalURLState(this);parseURL(url,String(protocol)+":",SCHEME_START)})),username:accessorDescriptor(getUsername,(function(username){var url=getInternalURLState(this),codePoints=arrayFrom(String(username));if(!cannotHaveUsernamePasswordPort(url)){url.username="";for(var i=0;i<codePoints.length;i++)url.username+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}})),password:accessorDescriptor(getPassword,(function(password){var url=getInternalURLState(this),codePoints=arrayFrom(String(password));if(!cannotHaveUsernamePasswordPort(url)){url.password="";for(var i=0;i<codePoints.length;i++)url.password+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}})),host:accessorDescriptor(getHost,(function(host){var url=getInternalURLState(this);url.cannotBeABaseURL||parseURL(url,String(host),HOST)})),hostname:accessorDescriptor(getHostname,(function(hostname){var url=getInternalURLState(this);url.cannotBeABaseURL||parseURL(url,String(hostname),HOSTNAME)})),port:accessorDescriptor(getPort,(function(port){var url=getInternalURLState(this);cannotHaveUsernamePasswordPort(url)||(""==(port=String(port))?url.port=null:parseURL(url,port,PORT))})),pathname:accessorDescriptor(getPathname,(function(pathname){var url=getInternalURLState(this);url.cannotBeABaseURL||(url.path=[],parseURL(url,pathname+"",PATH_START))})),search:accessorDescriptor(getSearch,(function(search){var url=getInternalURLState(this);""==(search=String(search))?url.query=null:("?"==search.charAt(0)&&(search=search.slice(1)),url.query="",parseURL(url,search,QUERY)),getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)})),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,(function(hash){var url=getInternalURLState(this);""!=(hash=String(hash))?("#"==hash.charAt(0)&&(hash=hash.slice(1)),url.fragment="",parseURL(url,hash,FRAGMENT)):url.fragment=null}))}),redefine(URLPrototype,"toJSON",(function(){return serializeURL.call(this)}),{enumerable:!0}),redefine(URLPrototype,"toString",(function(){return serializeURL.call(this)}),{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&redefine(URLConstructor,"createObjectURL",(function(blob){return nativeCreateObjectURL.apply(NativeURL,arguments)})),nativeRevokeObjectURL&&redefine(URLConstructor,"revokeObjectURL",(function(url){return nativeRevokeObjectURL.apply(NativeURL,arguments)}))}setToStringTag(URLConstructor,"URL"),$({global:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor})},function(module,exports,__webpack_require__){var fails=__webpack_require__(6),classof=__webpack_require__(15),split="".split;module.exports=fails((function(){return!Object("z").propertyIsEnumerable(0)}))?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},function(module,exports,__webpack_require__){var IS_PURE=__webpack_require__(19),store=__webpack_require__(56);(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.6.4",mode:IS_PURE?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(module,exports,__webpack_require__){var global=__webpack_require__(1),setGlobal=__webpack_require__(39),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});module.exports=store},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(10),fails=__webpack_require__(6),createElement=__webpack_require__(40);module.exports=!DESCRIPTORS&&!fails((function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a}))},function(module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},function(module,exports,__webpack_require__){var fails=__webpack_require__(6);module.exports=!!Object.getOwnPropertySymbols&&!fails((function(){return!String(Symbol())}))},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(10),definePropertyModule=__webpack_require__(13),anObject=__webpack_require__(5),objectKeys=__webpack_require__(61);module.exports=DESCRIPTORS?Object.defineProperties:function(O,Properties){anObject(O);for(var key,keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(62),enumBugKeys=__webpack_require__(44);module.exports=Object.keys||function(O){return internalObjectKeys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(7),toIndexedObject=__webpack_require__(28),indexOf=__webpack_require__(91).indexOf,hiddenKeys=__webpack_require__(43);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(16);module.exports=getBuiltIn("document","documentElement")},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(22),createIteratorConstructor=__webpack_require__(68),getPrototypeOf=__webpack_require__(70),setPrototypeOf=__webpack_require__(99),setToStringTag=__webpack_require__(23),createNonEnumerableProperty=__webpack_require__(9),redefine=__webpack_require__(14),wellKnownSymbol=__webpack_require__(4),IS_PURE=__webpack_require__(19),Iterators=__webpack_require__(21),IteratorsCore=__webpack_require__(69),IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":case"values":case"entries":return function(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)),IteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):"function"!=typeof CurrentIteratorPrototype[ITERATOR]&&createNonEnumerableProperty(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis))),"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(INCORRECT_VALUES_NAME=!0,defaultIterator=function(){return nativeIterator.call(this)}),IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||createNonEnumerableProperty(IterablePrototype,ITERATOR,defaultIterator),Iterators[NAME]=defaultIterator,DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return methods}},function(module,exports,__webpack_require__){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var fails=__webpack_require__(6),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__webpack_require__){"use strict";var IteratorPrototype=__webpack_require__(69).IteratorPrototype,create=__webpack_require__(42),createPropertyDescriptor=__webpack_require__(20),setToStringTag=__webpack_require__(23),Iterators=__webpack_require__(21),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},function(module,exports,__webpack_require__){"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,getPrototypeOf=__webpack_require__(70),createNonEnumerableProperty=__webpack_require__(9),has=__webpack_require__(7),wellKnownSymbol=__webpack_require__(4),IS_PURE=__webpack_require__(19),ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),null==IteratorPrototype&&(IteratorPrototype={}),IS_PURE||has(IteratorPrototype,ITERATOR)||createNonEnumerableProperty(IteratorPrototype,ITERATOR,(function(){return this})),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},function(module,exports,__webpack_require__){var has=__webpack_require__(7),toObject=__webpack_require__(32),sharedKey=__webpack_require__(45),CORRECT_PROTOTYPE_GETTER=__webpack_require__(98),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectPrototype:null}},function(module,exports,__webpack_require__){var redefine=__webpack_require__(14);module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__(4),Iterators=__webpack_require__(21),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},function(module,exports,__webpack_require__){var TO_STRING_TAG_SUPPORT=__webpack_require__(104),classofRaw=__webpack_require__(15),TO_STRING_TAG=__webpack_require__(4)("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&"function"==typeof O.callee?"Arguments":result}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(5);module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){var returnMethod=iterator.return;throw void 0!==returnMethod&&anObject(returnMethod.call(iterator)),error}}},function(module,exports,__webpack_require__){var defer,channel,port,global=__webpack_require__(1),fails=__webpack_require__(6),classof=__webpack_require__(15),bind=__webpack_require__(34),html=__webpack_require__(63),createElement=__webpack_require__(40),IS_IOS=__webpack_require__(76),location=global.location,set=global.setImmediate,clear=global.clearImmediate,process=global.process,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(id){if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},runner=function(id){return function(){run(id)}},listener=function(event){run(event.data)},post=function(id){global.postMessage(id+"",location.protocol+"//"+location.host)};set&&clear||(set=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){("function"==typeof fn?fn:Function(fn)).apply(void 0,args)},defer(counter),counter},clear=function(id){delete queue[id]},"process"==classof(process)?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port,1)):!global.addEventListener||"function"!=typeof postMessage||global.importScripts||fails(post)?defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)}:(defer=post,global.addEventListener("message",listener,!1))),module.exports={set:set,clear:clear}},function(module,exports,__webpack_require__){var userAgent=__webpack_require__(77);module.exports=/(iphone|ipod|ipad).*applewebkit/i.test(userAgent)},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(16);module.exports=getBuiltIn("navigator","userAgent")||""},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(33),PromiseCapability=function(C){var resolve,reject;this.promise=new C((function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject})),this.resolve=aFunction(resolve),this.reject=aFunction(reject)};module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__webpack_require__){var fails=__webpack_require__(6),wellKnownSymbol=__webpack_require__(4),IS_PURE=__webpack_require__(19),ITERATOR=wellKnownSymbol("iterator");module.exports=!fails((function(){var url=new URL("b?a=1&b=2&c=3","http://a"),searchParams=url.searchParams,result="";return url.pathname="c%20d",searchParams.forEach((function(value,key){searchParams.delete("b"),result+=key+value})),IS_PURE&&!url.toJSON||!searchParams.sort||"http://a/c%20d?a=1&c=3"!==url.href||"3"!==searchParams.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!searchParams[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==result||"x"!==new URL("http://x",void 0).host}))},function(module,exports,__webpack_require__){"use strict";var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,$=__webpack_require__(22),IS_PURE=__webpack_require__(19),global=__webpack_require__(1),getBuiltIn=__webpack_require__(16),NativePromise=__webpack_require__(101),redefine=__webpack_require__(14),redefineAll=__webpack_require__(71),setToStringTag=__webpack_require__(23),setSpecies=__webpack_require__(102),isObject=__webpack_require__(11),aFunction=__webpack_require__(33),anInstance=__webpack_require__(48),classof=__webpack_require__(15),inspectSource=__webpack_require__(46),iterate=__webpack_require__(103),checkCorrectnessOfIteration=__webpack_require__(105),speciesConstructor=__webpack_require__(106),task=__webpack_require__(75).set,microtask=__webpack_require__(107),promiseResolve=__webpack_require__(108),hostReportErrors=__webpack_require__(109),newPromiseCapabilityModule=__webpack_require__(78),perform=__webpack_require__(110),InternalStateModule=__webpack_require__(17),isForced=__webpack_require__(67),wellKnownSymbol=__webpack_require__(4),V8_VERSION=__webpack_require__(111),SPECIES=wellKnownSymbol("species"),PROMISE="Promise",getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),PromiseConstructor=NativePromise,TypeError=global.TypeError,document=global.document,process=global.process,$fetch=getBuiltIn("fetch"),newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,IS_NODE="process"==classof(process),DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),FORCED=isForced(PROMISE,(function(){if(!(inspectSource(PromiseConstructor)!==String(PromiseConstructor))){if(66===V8_VERSION)return!0;if(!IS_NODE&&"function"!=typeof PromiseRejectionEvent)return!0}if(IS_PURE&&!PromiseConstructor.prototype.finally)return!0;if(V8_VERSION>=51&&/native code/.test(PromiseConstructor))return!1;var promise=PromiseConstructor.resolve(1),FakePromise=function(exec){exec((function(){}),(function(){}))};return(promise.constructor={})[SPECIES]=FakePromise,!(promise.then((function(){}))instanceof FakePromise)})),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration((function(iterable){PromiseConstructor.all(iterable).catch((function(){}))})),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,state,isReject){if(!state.notified){state.notified=!0;var chain=state.reactions;microtask((function(){for(var value=state.value,ok=1==state.state,index=0;chain.length>index;){var result,then,exited,reaction=chain[index++],handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2===state.rejection&&onHandleUnhandled(promise,state),state.rejection=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}}state.reactions=[],state.notified=!1,isReject&&!state.rejection&&onUnhandled(promise,state)}))}},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?((event=document.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),global.dispatchEvent(event)):event={promise:promise,reason:reason},(handler=global["on"+name])?handler(event):"unhandledrejection"===name&&hostReportErrors("Unhandled promise rejection",reason)},onUnhandled=function(promise,state){task.call(global,(function(){var result,value=state.value;if(isUnhandled(state)&&(result=perform((function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent("unhandledrejection",promise,value)})),state.rejection=IS_NODE||isUnhandled(state)?2:1,result.error))throw result.value}))},isUnhandled=function(state){return 1!==state.rejection&&!state.parent},onHandleUnhandled=function(promise,state){task.call(global,(function(){IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent("rejectionhandled",promise,state.value)}))},bind=function(fn,promise,state,unwrap){return function(value){fn(promise,state,value,unwrap)}},internalReject=function(promise,state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=2,notify(promise,state,!0))},internalResolve=function(promise,state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(promise===value)throw TypeError("Promise can't be resolved itself");var then=isThenable(value);then?microtask((function(){var wrapper={done:!1};try{then.call(value,bind(internalResolve,promise,wrapper,state),bind(internalReject,promise,wrapper,state))}catch(error){internalReject(promise,wrapper,error,state)}})):(state.value=value,state.state=1,notify(promise,state,!1))}catch(error){internalReject(promise,{done:!1},error,state)}}};FORCED&&(PromiseConstructor=function(executor){anInstance(this,PromiseConstructor,PROMISE),aFunction(executor),Internal.call(this);var state=getInternalState(this);try{executor(bind(internalResolve,this,state),bind(internalReject,this,state))}catch(error){internalReject(this,state,error)}},(Internal=function(executor){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=redefineAll(PromiseConstructor.prototype,{then:function(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=IS_NODE?process.domain:void 0,state.parent=!0,state.reactions.push(reaction),0!=state.state&&notify(this,state,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalState(promise);this.promise=promise,this.resolve=bind(internalResolve,promise,state),this.reject=bind(internalReject,promise,state)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},IS_PURE||"function"!=typeof NativePromise||(nativeThen=NativePromise.prototype.then,redefine(NativePromise.prototype,"then",(function(onFulfilled,onRejected){var that=this;return new PromiseConstructor((function(resolve,reject){nativeThen.call(that,resolve,reject)})).then(onFulfilled,onRejected)}),{unsafe:!0}),"function"==typeof $fetch&&$({global:!0,enumerable:!0,forced:!0},{fetch:function(input){return promiseResolve(PromiseConstructor,$fetch.apply(global,arguments))}}))),$({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1,!0),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),$({target:PROMISE,stat:!0,forced:FORCED},{reject:function(r){var capability=newPromiseCapability(this);return capability.reject.call(void 0,r),capability.promise}}),$({target:PROMISE,stat:!0,forced:IS_PURE||FORCED},{resolve:function(x){return promiseResolve(IS_PURE&&this===PromiseWrapper?PromiseConstructor:this,x)}}),$({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform((function(){var $promiseResolve=aFunction(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,(function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,$promiseResolve.call(C,promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining||resolve(values))}),reject)})),--remaining||resolve(values)}));return result.error&&reject(result.value),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform((function(){var $promiseResolve=aFunction(C.resolve);iterate(iterable,(function(promise){$promiseResolve.call(C,promise).then(capability.resolve,reject)}))}));return result.error&&reject(result.value),capability.promise}})},,,,function(module,exports,__webpack_require__){"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},,,,function(module){module.exports=JSON.parse('{"United States":{"default":{"lat":38.883333,"lon":-77},"USA - Atlanta":{"lat":33.7557,"lon":-84.392},"USA - Chicago":{"lat":41.8825,"lon":-87.6441},"USA - Dallas":{"lat":32.8148,"lon":-96.8705},"USA - Dallas - 2":{"lat":32.8148,"lon":-96.8705},"USA - Denver":{"lat":39.7378,"lon":-104.989},"USA - Hollywood":{"lat":33.916,"lon":-118.3},"USA - Las Vegas":{"lat":36.1113,"lon":-115.279},"USA - Los Angeles - 2":{"lat":34.0438,"lon":-118.251},"USA - Los Angeles - 3":{"lat":33.916,"lon":-118.3},"USA - Los Angeles -1":{"lat":34.048,"lon":-118.231},"USA - Los Angeles":{"lat":34.0438,"lon":-118.251},"USA - Miami":{"lat":25.8124,"lon":-80.2401},"USA - New Jersey - 1":{"lat":40.7801,"lon":-74.0633},"USA - New Jersey - 2":{"lat":40.7368,"lon":-74.1765},"USA - New Jersey - 3":{"lat":40.7801,"lon":-74.0633},"USA - New York":{"lat":40.7253,"lon":-73.9964},"USA - New York - 2":{"lat":40.7253,"lon":-73.9964},"USA - San Francisco":{"lat":37.3501,"lon":-121.985},"USA - San Jose":{"lat":37.3239,"lon":-121.892},"USA - Seattle":{"lat":47.6062,"lon":-122.314},"USA - Tampa - 1":{"lat":27.9512,"lon":-82.463},"USA - Washington DC":{"lat":38.9024,"lon":-77.0146},"USA - Washington DC - 2":{"lat":38.8922,"lon":-77.0505}},"Afghanistan":{"default":{"lat":34.51666667,"lon":69.183333}},"Aland Islands":{"default":{"lat":60.116667,"lon":19.9}},"Albania":{"default":{"lat":41.31666667,"lon":19.816667}},"Algeria":{"default":{"lat":36.75,"lon":3.05}},"American Samoa":{"default":{"lat":-14.26666667,"lon":-170.7}},"Andorra":{"default":{"lat":42.5,"lon":1.516667}},"Angola":{"default":{"lat":-8.833333333,"lon":13.216667}},"Anguilla":{"default":{"lat":18.21666667,"lon":-63.05}},"Antarctica":{"default":{"lat":0,"lon":0}},"Antigua and Barbuda":{"default":{"lat":17.11666667,"lon":-61.85}},"Argentina":{"default":{"lat":-34.58333333,"lon":-58.666667}},"Armenia":{"default":{"lat":40.16666667,"lon":44.5}},"Aruba":{"default":{"lat":12.51666667,"lon":-70.033333}},"Australia":{"default":{"lat":-35.26666667,"lon":149.133333}},"Austria":{"default":{"lat":48.2,"lon":16.366667}},"Azerbaijan":{"default":{"lat":40.38333333,"lon":49.866667}},"Bahamas":{"default":{"lat":25.08333333,"lon":-77.35}},"Bahrain":{"default":{"lat":26.23333333,"lon":50.566667}},"Bangladesh":{"default":{"lat":23.71666667,"lon":90.4}},"Barbados":{"default":{"lat":13.1,"lon":-59.616667}},"Belarus":{"default":{"lat":53.9,"lon":27.566667}},"Belgium":{"default":{"lat":50.83333333,"lon":4.333333}},"Belize":{"default":{"lat":17.25,"lon":-88.766667}},"Benin":{"default":{"lat":6.483333333,"lon":2.616667}},"Bermuda":{"default":{"lat":32.28333333,"lon":-64.783333}},"Bhutan":{"default":{"lat":27.46666667,"lon":89.633333}},"Bolivia":{"default":{"lat":-16.5,"lon":-68.15}},"Bosnia and Herzegovina":{"default":{"lat":43.86666667,"lon":18.416667}},"Botswana":{"default":{"lat":-24.63333333,"lon":25.9}},"Brazil":{"default":{"lat":-15.78333333,"lon":-47.916667}},"British Indian Ocean Territory":{"default":{"lat":-7.3,"lon":72.4}},"British Virgin Islands":{"default":{"lat":18.41666667,"lon":-64.616667}},"Brunei Darussalam":{"default":{"lat":4.883333333,"lon":114.933333}},"Bulgaria":{"default":{"lat":42.68333333,"lon":23.316667}},"Burkina Faso":{"default":{"lat":12.36666667,"lon":-1.516667}},"Burundi":{"default":{"lat":-3.366666667,"lon":29.35}},"Cambodia":{"default":{"lat":11.55,"lon":104.916667}},"Cameroon":{"default":{"lat":3.866666667,"lon":11.516667}},"Canada":{"default":{"lat":45.41666667,"lon":-75.7}},"Cape Verde":{"default":{"lat":14.91666667,"lon":-23.516667}},"Cayman Islands":{"default":{"lat":19.3,"lon":-81.383333}},"Central African Republic":{"default":{"lat":4.366666667,"lon":18.583333}},"Chad":{"default":{"lat":12.1,"lon":15.033333}},"Chile":{"default":{"lat":-33.45,"lon":-70.666667}},"China":{"default":{"lat":39.91666667,"lon":116.383333}},"Christmas Island":{"default":{"lat":-10.41666667,"lon":105.716667}},"Cocos Islands":{"default":{"lat":-12.16666667,"lon":96.833333}},"Colombia":{"default":{"lat":4.6,"lon":-74.083333}},"Comoros":{"default":{"lat":-11.7,"lon":43.233333}},"Cook Islands":{"default":{"lat":-21.2,"lon":-159.766667}},"Costa Rica":{"default":{"lat":9.933333333,"lon":-84.083333}},"Cote d’Ivoire":{"default":{"lat":6.816666667,"lon":-5.266667}},"Croatia":{"default":{"lat":45.8,"lon":16}},"Cuba":{"default":{"lat":23.11666667,"lon":-82.35}},"CuraÃ§ao":{"default":{"lat":12.1,"lon":-68.916667}},"Cyprus":{"default":{"lat":35.16666667,"lon":33.366667}},"Czech Republic":{"default":{"lat":50.08333333,"lon":14.466667}},"Democratic Republic of the Congo":{"default":{"lat":-4.316666667,"lon":15.3}},"Denmark":{"default":{"lat":55.66666667,"lon":12.583333}},"Djibouti":{"default":{"lat":11.58333333,"lon":43.15}},"Dominica":{"default":{"lat":15.3,"lon":-61.4}},"Dominican Republic":{"default":{"lat":18.46666667,"lon":-69.9}},"Ecuador":{"default":{"lat":-0.216666667,"lon":-78.5}},"Egypt":{"default":{"lat":30.05,"lon":31.25}},"El Salvador":{"default":{"lat":13.7,"lon":-89.2}},"Equatorial Guinea":{"default":{"lat":3.75,"lon":8.783333}},"Eritrea":{"default":{"lat":15.33333333,"lon":38.933333}},"Estonia":{"default":{"lat":59.43333333,"lon":24.716667}},"Ethiopia":{"default":{"lat":9.033333333,"lon":38.7}},"Falkland Islands":{"default":{"lat":-51.7,"lon":-57.85}},"Faroe Islands":{"default":{"lat":62,"lon":-6.766667}},"Federated States of Micronesia":{"default":{"lat":6.916666667,"lon":158.15}},"Fiji":{"default":{"lat":-18.13333333,"lon":178.416667}},"Finland":{"default":{"lat":60.16666667,"lon":24.933333}},"France":{"default":{"lat":48.86666667,"lon":2.333333}},"French Polynesia":{"default":{"lat":-17.53333333,"lon":-149.566667}},"French Southern and Antarctic Lands":{"default":{"lat":-49.35,"lon":70.216667}},"Gabon":{"default":{"lat":0.383333333,"lon":9.45}},"Georgia":{"default":{"lat":41.68333333,"lon":44.833333}},"Germany":{"default":{"lat":52.51666667,"lon":13.4}},"Ghana":{"default":{"lat":5.55,"lon":-0.216667}},"Gibraltar":{"default":{"lat":36.13333333,"lon":-5.35}},"Greece":{"default":{"lat":37.98333333,"lon":23.733333}},"Greenland":{"default":{"lat":64.18333333,"lon":-51.75}},"Grenada":{"default":{"lat":12.05,"lon":-61.75}},"Guam":{"default":{"lat":13.46666667,"lon":144.733333}},"Guatemala":{"default":{"lat":14.61666667,"lon":-90.516667}},"Guernsey":{"default":{"lat":49.45,"lon":-2.533333}},"Guinea":{"default":{"lat":9.5,"lon":-13.7}},"Guinea-Bissau":{"default":{"lat":11.85,"lon":-15.583333}},"Guyana":{"default":{"lat":6.8,"lon":-58.15}},"Haiti":{"default":{"lat":18.53333333,"lon":-72.333333}},"Heard Island and McDonald Islands":{"default":{"lat":0,"lon":0}},"Honduras":{"default":{"lat":14.1,"lon":-87.216667}},"Hong Kong":{"default":{"lat":22.396428,"lon":114.109497}},"Hungary":{"default":{"lat":47.5,"lon":19.083333}},"Iceland":{"default":{"lat":64.15,"lon":-21.95}},"India":{"default":{"lat":28.6,"lon":77.2}},"Indonesia":{"default":{"lat":-6.166666667,"lon":106.816667}},"Iran":{"default":{"lat":35.7,"lon":51.416667}},"Iraq":{"default":{"lat":33.33333333,"lon":44.4}},"Ireland":{"default":{"lat":53.31666667,"lon":-6.233333}},"Isle of Man":{"default":{"lat":54.15,"lon":-4.483333}},"Israel":{"default":{"lat":31.76666667,"lon":35.233333}},"Italy":{"default":{"lat":41.9,"lon":12.483333}},"Jamaica":{"default":{"lat":18,"lon":-76.8}},"Japan":{"default":{"lat":35.68333333,"lon":139.75}},"Jersey":{"default":{"lat":49.18333333,"lon":-2.1}},"Jordan":{"default":{"lat":31.95,"lon":35.933333}},"Kazakhstan":{"default":{"lat":51.16666667,"lon":71.416667}},"Kenya":{"default":{"lat":-1.283333333,"lon":36.816667}},"Kiribati":{"default":{"lat":-0.883333333,"lon":169.533333}},"Kosovo":{"default":{"lat":42.66666667,"lon":21.166667}},"Kuwait":{"default":{"lat":29.36666667,"lon":47.966667}},"Kyrgyzstan":{"default":{"lat":42.86666667,"lon":74.6}},"Laos":{"default":{"lat":17.96666667,"lon":102.6}},"Latvia":{"default":{"lat":56.95,"lon":24.1}},"Lebanon":{"default":{"lat":33.86666667,"lon":35.5}},"Lesotho":{"default":{"lat":-29.31666667,"lon":27.483333}},"Liberia":{"default":{"lat":6.3,"lon":-10.8}},"Libya":{"default":{"lat":32.88333333,"lon":13.166667}},"Liechtenstein":{"default":{"lat":47.13333333,"lon":9.516667}},"Lithuania":{"default":{"lat":54.68333333,"lon":25.316667}},"Luxembourg":{"default":{"lat":49.6,"lon":6.116667}},"Macau":{"default":{"lat":22.210928,"lon":113.552971}},"North Macedonia":{"default":{"lat":42,"lon":21.433333}},"Madagascar":{"default":{"lat":-18.91666667,"lon":47.516667}},"Malawi":{"default":{"lat":-13.96666667,"lon":33.783333}},"Malaysia":{"default":{"lat":3.166666667,"lon":101.7}},"Maldives":{"default":{"lat":4.166666667,"lon":73.5}},"Mali":{"default":{"lat":12.65,"lon":-8}},"Malta":{"default":{"lat":35.88333333,"lon":14.5}},"Marshall Islands":{"default":{"lat":7.1,"lon":171.383333}},"Mauritania":{"default":{"lat":18.06666667,"lon":-15.966667}},"Mauritius":{"default":{"lat":-20.15,"lon":57.483333}},"Mexico":{"default":{"lat":19.43333333,"lon":-99.133333}},"Moldova":{"default":{"lat":47,"lon":28.85}},"Monaco":{"default":{"lat":43.73333333,"lon":7.416667}},"Mongolia":{"default":{"lat":47.91666667,"lon":106.916667}},"Montenegro":{"default":{"lat":42.43333333,"lon":19.266667}},"Montserrat":{"default":{"lat":16.7,"lon":-62.216667}},"Morocco":{"default":{"lat":34.01666667,"lon":-6.816667}},"Mozambique":{"default":{"lat":-25.95,"lon":32.583333}},"Myanmar":{"default":{"lat":16.8,"lon":96.15}},"Namibia":{"default":{"lat":-22.56666667,"lon":17.083333}},"Nauru":{"default":{"lat":-0.5477,"lon":166.920867}},"Nepal":{"default":{"lat":27.71666667,"lon":85.316667}},"Netherlands":{"default":{"lat":52.35,"lon":4.916667}},"New Caledonia":{"default":{"lat":-22.26666667,"lon":166.45}},"New Zealand":{"default":{"lat":-41.3,"lon":174.783333}},"Nicaragua":{"default":{"lat":12.13333333,"lon":-86.25}},"Niger":{"default":{"lat":13.51666667,"lon":2.116667}},"Nigeria":{"default":{"lat":9.083333333,"lon":7.533333}},"Niue":{"default":{"lat":-19.01666667,"lon":-169.916667}},"Norfolk Island":{"default":{"lat":-29.05,"lon":167.966667}},"North Korea":{"default":{"lat":39.01666667,"lon":125.75}},"Northern Cyprus":{"default":{"lat":35.183333,"lon":33.366667}},"Northern Mariana Islands":{"default":{"lat":15.2,"lon":145.75}},"Norway":{"default":{"lat":59.91666667,"lon":10.75}},"Oman":{"default":{"lat":23.61666667,"lon":58.583333}},"Pakistan":{"default":{"lat":33.68333333,"lon":73.05}},"Palau":{"default":{"lat":7.483333333,"lon":134.633333}},"Palestine":{"default":{"lat":31.76666667,"lon":35.233333}},"Panama":{"default":{"lat":8.966666667,"lon":-79.533333}},"Papua New Guinea":{"default":{"lat":-9.45,"lon":147.183333}},"Paraguay":{"default":{"lat":-25.26666667,"lon":-57.666667}},"Peru":{"default":{"lat":-12.05,"lon":-77.05}},"Philippines":{"default":{"lat":14.6,"lon":120.966667}},"Pitcairn Islands":{"default":{"lat":-25.06666667,"lon":-130.083333}},"Poland":{"default":{"lat":52.25,"lon":21}},"Portugal":{"default":{"lat":38.71666667,"lon":-9.133333}},"Puerto Rico":{"default":{"lat":18.46666667,"lon":-66.116667}},"Qatar":{"default":{"lat":25.28333333,"lon":51.533333}},"Republic of Congo":{"default":{"lat":-4.25,"lon":15.283333}},"Romania":{"default":{"lat":44.43333333,"lon":26.1}},"Russia":{"default":{"lat":55.75,"lon":37.6}},"Rwanda":{"default":{"lat":-1.95,"lon":30.05}},"Saint Barthelemy":{"default":{"lat":17.88333333,"lon":-62.85}},"Saint Helena":{"default":{"lat":-15.93333333,"lon":-5.716667}},"Saint Kitts and Nevis":{"default":{"lat":17.3,"lon":-62.716667}},"Saint Lucia":{"default":{"lat":14,"lon":-61}},"Saint Martin":{"default":{"lat":18.0731,"lon":-63.0822}},"Saint Pierre and Miquelon":{"default":{"lat":46.76666667,"lon":-56.183333}},"Saint Vincent and the Grenadines":{"default":{"lat":13.13333333,"lon":-61.216667}},"Samoa":{"default":{"lat":-13.81666667,"lon":-171.766667}},"San Marino":{"default":{"lat":43.93333333,"lon":12.416667}},"Sao Tome and Principe":{"default":{"lat":0.333333333,"lon":6.733333}},"Saudi Arabia":{"default":{"lat":24.65,"lon":46.7}},"Senegal":{"default":{"lat":14.73333333,"lon":-17.633333}},"Serbia":{"default":{"lat":44.83333333,"lon":20.5}},"Seychelles":{"default":{"lat":-4.616666667,"lon":55.45}},"Sierra Leone":{"default":{"lat":8.483333333,"lon":-13.233333}},"Singapore":{"default":{"lat":1.283333333,"lon":103.85}},"Sint Maarten":{"default":{"lat":18.01666667,"lon":-63.033333}},"Slovakia":{"default":{"lat":48.15,"lon":17.116667}},"Slovenia":{"default":{"lat":46.05,"lon":14.516667}},"Solomon Islands":{"default":{"lat":-9.433333333,"lon":159.95}},"Somalia":{"default":{"lat":2.066666667,"lon":45.333333}},"Somaliland":{"default":{"lat":9.55,"lon":44.05}},"South Africa":{"default":{"lat":-25.7,"lon":28.216667}},"South Georgia and South Sandwich Islands":{"default":{"lat":-54.283333,"lon":-36.5}},"South Korea":{"default":{"lat":37.55,"lon":126.983333}},"South Sudan":{"default":{"lat":4.85,"lon":31.616667}},"Spain":{"default":{"lat":40.4,"lon":-3.683333}},"Sri Lanka":{"default":{"lat":6.916666667,"lon":79.833333}},"Sudan":{"default":{"lat":15.6,"lon":32.533333}},"Suriname":{"default":{"lat":5.833333333,"lon":-55.166667}},"Svalbard":{"default":{"lat":78.21666667,"lon":15.633333}},"Swaziland":{"default":{"lat":-26.31666667,"lon":31.133333}},"Sweden":{"default":{"lat":59.33333333,"lon":18.05}},"Switzerland":{"default":{"lat":46.91666667,"lon":7.466667}},"Syria":{"default":{"lat":33.5,"lon":36.3}},"Taiwan":{"default":{"lat":25.03333333,"lon":121.516667}},"Tajikistan":{"default":{"lat":38.55,"lon":68.766667}},"Tanzania":{"default":{"lat":-6.8,"lon":39.283333}},"Thailand":{"default":{"lat":13.75,"lon":100.516667}},"The Gambia":{"default":{"lat":13.45,"lon":-16.566667}},"Timor-Leste":{"default":{"lat":-8.583333333,"lon":125.6}},"Togo":{"default":{"lat":6.116666667,"lon":1.216667}},"Tokelau":{"default":{"lat":-9.166667,"lon":-171.833333}},"Tonga":{"default":{"lat":-21.13333333,"lon":-175.2}},"Trinidad and Tobago":{"default":{"lat":10.65,"lon":-61.516667}},"Tunisia":{"default":{"lat":36.8,"lon":10.183333}},"Turkey":{"default":{"lat":39.93333333,"lon":32.866667}},"Turkmenistan":{"default":{"lat":37.95,"lon":58.383333}},"Turks and Caicos Islands":{"default":{"lat":21.46666667,"lon":-71.133333}},"Tuvalu":{"default":{"lat":-8.516666667,"lon":179.216667}},"Uganda":{"default":{"lat":0.316666667,"lon":32.55}},"Ukraine":{"default":{"lat":50.43333333,"lon":30.516667}},"United Arab Emirates":{"default":{"lat":24.46666667,"lon":54.366667}},"United Kingdom":{"default":{"lat":51.5,"lon":-0.083333}},"Uruguay":{"default":{"lat":-34.85,"lon":-56.166667}},"US Minor Outlying Islands":{"default":{"lat":38.883333,"lon":-77}},"US Virgin Islands":{"default":{"lat":18.35,"lon":-64.933333}},"Uzbekistan":{"default":{"lat":41.31666667,"lon":69.25}},"Vanuatu":{"default":{"lat":-17.73333333,"lon":168.316667}},"Vatican City":{"default":{"lat":41.9,"lon":12.45}},"Venezuela":{"default":{"lat":10.48333333,"lon":-66.866667}},"Vietnam":{"default":{"lat":21.03333333,"lon":105.85}},"Wallis and Futuna":{"default":{"lat":-13.95,"lon":-171.933333}},"Western Sahara":{"default":{"lat":27.153611,"lon":-13.203333}},"Yemen":{"default":{"lat":15.35,"lon":44.2}},"Zambia":{"default":{"lat":-15.41666667,"lon":28.283333}},"Zimbabwe":{"default":{"lat":-17.81666667,"lon":31.033333}}}')},function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__(4),create=__webpack_require__(42),definePropertyModule=__webpack_require__(13),UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&definePropertyModule.f(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create(null)}),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},function(module,exports,__webpack_require__){var NATIVE_SYMBOL=__webpack_require__(59);module.exports=NATIVE_SYMBOL&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(28),toLength=__webpack_require__(30),toAbsoluteIndex=__webpack_require__(92),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},function(module,exports,__webpack_require__){var global=__webpack_require__(1);module.exports=global},function(module,exports,__webpack_require__){var global=__webpack_require__(1),inspectSource=__webpack_require__(46),WeakMap=global.WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(inspectSource(WeakMap))},function(module,exports,__webpack_require__){var has=__webpack_require__(7),ownKeys=__webpack_require__(96),getOwnPropertyDescriptorModule=__webpack_require__(47),definePropertyModule=__webpack_require__(13);module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(16),getOwnPropertyNamesModule=__webpack_require__(97),getOwnPropertySymbolsModule=__webpack_require__(66),anObject=__webpack_require__(5);module.exports=getBuiltIn("Reflect","ownKeys")||function(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(62),hiddenKeys=__webpack_require__(44).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var fails=__webpack_require__(6);module.exports=!fails((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(module,exports,__webpack_require__){var anObject=__webpack_require__(5),aPossiblePrototype=__webpack_require__(100);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter.call(O,proto):O.__proto__=proto,O}}():void 0)},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);module.exports=function(it){if(!isObject(it)&&null!==it)throw TypeError("Can't set "+String(it)+" as a prototype");return it}},function(module,exports,__webpack_require__){var global=__webpack_require__(1);module.exports=global.Promise},function(module,exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(16),definePropertyModule=__webpack_require__(13),wellKnownSymbol=__webpack_require__(4),DESCRIPTORS=__webpack_require__(10),SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME),defineProperty=definePropertyModule.f;DESCRIPTORS&&Constructor&&!Constructor[SPECIES]&&defineProperty(Constructor,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(5),isArrayIteratorMethod=__webpack_require__(72),toLength=__webpack_require__(30),bind=__webpack_require__(34),getIteratorMethod=__webpack_require__(35),callWithSafeIterationClosing=__webpack_require__(74),Result=function(stopped,result){this.stopped=stopped,this.result=result};(module.exports=function(iterable,fn,that,AS_ENTRIES,IS_ITERATOR){var iterator,iterFn,index,length,result,next,step,boundFunction=bind(fn,that,AS_ENTRIES?2:1);if(IS_ITERATOR)iterator=iterable;else{if("function"!=typeof(iterFn=getIteratorMethod(iterable)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength(iterable.length);length>index;index++)if((result=AS_ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]))&&result instanceof Result)return result;return new Result(!1)}iterator=iterFn.call(iterable)}for(next=iterator.next;!(step=next.call(iterator)).done;)if("object"==typeof(result=callWithSafeIterationClosing(iterator,boundFunction,step.value,AS_ENTRIES))&&result&&result instanceof Result)return result;return new Result(!1)}).stop=function(result){return new Result(!0,result)}},function(module,exports,__webpack_require__){var test={};test[__webpack_require__(4)("toStringTag")]="z",module.exports="[object z]"===String(test)},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(4)("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(5),aFunction=__webpack_require__(33),SPECIES=__webpack_require__(4)("species");module.exports=function(O,defaultConstructor){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?defaultConstructor:aFunction(S)}},function(module,exports,__webpack_require__){var flush,head,last,notify,toggle,node,promise,then,global=__webpack_require__(1),getOwnPropertyDescriptor=__webpack_require__(47).f,classof=__webpack_require__(15),macrotask=__webpack_require__(75).set,IS_IOS=__webpack_require__(76),MutationObserver=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,IS_NODE="process"==classof(process),queueMicrotaskDescriptor=getOwnPropertyDescriptor(global,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;queueMicrotask||(flush=function(){var parent,fn;for(IS_NODE&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(error){throw head?notify():last=void 0,error}}last=void 0,parent&&parent.enter()},IS_NODE?notify=function(){process.nextTick(flush)}:MutationObserver&&!IS_IOS?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}):Promise&&Promise.resolve?(promise=Promise.resolve(void 0),then=promise.then,notify=function(){then.call(promise,flush)}):notify=function(){macrotask.call(global,flush)}),module.exports=queueMicrotask||function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(5),isObject=__webpack_require__(11),newPromiseCapability=__webpack_require__(78);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__webpack_require__){var global=__webpack_require__(1);module.exports=function(a,b){var console=global.console;console&&console.error&&(1===arguments.length?console.error(a):console.error(a,b))}},function(module,exports){module.exports=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}}},function(module,exports,__webpack_require__){var match,version,global=__webpack_require__(1),userAgent=__webpack_require__(77),process=global.process,versions=process&&process.versions,v8=versions&&versions.v8;v8?version=(match=v8.split("."))[0]+match[1]:userAgent&&(!(match=userAgent.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/))&&(version=match[1]),module.exports=version&&+version},function(module,exports,__webpack_require__){"use strict";__webpack_require__(113);var redefine=__webpack_require__(14),fails=__webpack_require__(6),wellKnownSymbol=__webpack_require__(4),regexpExec=__webpack_require__(49),createNonEnumerableProperty=__webpack_require__(9),SPECIES=wellKnownSymbol("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails((function(){var re=/./;return re.exec=function(){var result=[];return result.groups={a:"7"},result},"7"!=="".replace(re,"$<a>")})),REPLACE_KEEPS_$0="$0"==="a".replace(/./,"$0"),REPLACE=wellKnownSymbol("replace"),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&""===/./[REPLACE]("a","$0"),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails((function(){var re=/(?:)/,originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return 2!==result.length||"a"!==result[0]||"b"!==result[1]}));module.exports=function(KEY,length,exec,sham){var SYMBOL=wellKnownSymbol(KEY),DELEGATES_TO_SYMBOL=!fails((function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})),DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL&&!fails((function(){var execCalled=!1,re=/a/;return"split"===KEY&&((re={}).constructor={},re.constructor[SPECIES]=function(){return re},re.flags="",re[SYMBOL]=/./[SYMBOL]),re.exec=function(){return execCalled=!0,null},re[SYMBOL](""),!execCalled}));if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||"replace"===KEY&&(!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE)||"split"===KEY&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL],methods=exec(SYMBOL,""[KEY],(function(nativeMethod,regexp,str,arg2,forceStringMethod){return regexp.exec===regexpExec?DELEGATES_TO_SYMBOL&&!forceStringMethod?{done:!0,value:nativeRegExpMethod.call(regexp,str,arg2)}:{done:!0,value:nativeMethod.call(str,regexp,arg2)}:{done:!1}}),{REPLACE_KEEPS_$0:REPLACE_KEEPS_$0,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE}),stringMethod=methods[0],regexMethod=methods[1];redefine(String.prototype,KEY,stringMethod),redefine(RegExp.prototype,SYMBOL,2==length?function(string,arg){return regexMethod.call(string,this,arg)}:function(string){return regexMethod.call(string,this)})}sham&&createNonEnumerableProperty(RegExp.prototype[SYMBOL],"sham",!0)}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(22),exec=__webpack_require__(49);$({target:"RegExp",proto:!0,forced:/./.exec!==exec},{exec:exec})},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(5);module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.dotAll&&(result+="s"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__(6);function RE(s,f){return RegExp(s,f)}exports.UNSUPPORTED_Y=fails((function(){var re=RE("a","y");return re.lastIndex=2,null!=re.exec("abcd")})),exports.BROKEN_CARET=fails((function(){var re=RE("^r","gy");return re.lastIndex=2,null!=re.exec("str")}))},function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__(50).charAt;module.exports=function(S,index,unicode){return index+(unicode?charAt(S,index).length:1)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(15),regexpExec=__webpack_require__(49);module.exports=function(R,S){var exec=R.exec;if("function"==typeof exec){var result=exec.call(R,S);if("object"!=typeof result)throw TypeError("RegExp exec method returned something other than an Object or null");return result}if("RegExp"!==classof(R))throw TypeError("RegExp#exec called on incompatible receiver");return regexpExec.call(R,S)}},function(module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__(50).charAt,InternalStateModule=__webpack_require__(17),defineIterator=__webpack_require__(64),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(function(iterated){setInternalState(this,{type:"String Iterator",string:String(iterated),index:0})}),(function(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?{value:void 0,done:!0}:(point=charAt(string,index),state.index+=point.length,{value:point,done:!1})}))},function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(10),fails=__webpack_require__(6),objectKeys=__webpack_require__(61),getOwnPropertySymbolsModule=__webpack_require__(66),propertyIsEnumerableModule=__webpack_require__(65),toObject=__webpack_require__(32),IndexedObject=__webpack_require__(54),nativeAssign=Object.assign,defineProperty=Object.defineProperty;module.exports=!nativeAssign||fails((function(){if(DESCRIPTORS&&1!==nativeAssign({b:1},nativeAssign(defineProperty({},"a",{enumerable:!0,get:function(){defineProperty(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach((function(chr){B[chr]=chr})),7!=nativeAssign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys(nativeAssign({},B)).join("")}))?function(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!propertyIsEnumerable.call(S,key)||(T[key]=S[key]);return T}:nativeAssign},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(34),toObject=__webpack_require__(32),callWithSafeIterationClosing=__webpack_require__(74),isArrayIteratorMethod=__webpack_require__(72),toLength=__webpack_require__(30),createProperty=__webpack_require__(122),getIteratorMethod=__webpack_require__(35);module.exports=function(arrayLike){var length,result,step,iterator,next,value,O=toObject(arrayLike),C="function"==typeof this?this:Array,argumentsLength=arguments.length,mapfn=argumentsLength>1?arguments[1]:void 0,mapping=void 0!==mapfn,iteratorMethod=getIteratorMethod(O),index=0;if(mapping&&(mapfn=bind(mapfn,argumentsLength>2?arguments[2]:void 0,2)),null==iteratorMethod||C==Array&&isArrayIteratorMethod(iteratorMethod))for(result=new C(length=toLength(O.length));length>index;index++)value=mapping?mapfn(O[index],index):O[index],createProperty(result,index,value);else for(next=(iterator=iteratorMethod.call(O)).next,result=new C;!(step=next.call(iterator)).done;index++)value=mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value,createProperty(result,index,value);return result.length=index,result}},function(module,exports,__webpack_require__){"use strict";var toPrimitive=__webpack_require__(41),definePropertyModule=__webpack_require__(13),createPropertyDescriptor=__webpack_require__(20);module.exports=function(object,key,value){var propertyKey=toPrimitive(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},function(module,exports,__webpack_require__){"use strict";var regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",floor=Math.floor,stringFromCharCode=String.fromCharCode,digitToBasic=function(digit){return digit+22+75*(digit<26)},adapt=function(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))},encode=function(input){var i,currentValue,output=[],inputLength=(input=function(string){for(var output=[],counter=0,length=string.length;counter<length;){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)}else output.push(value)}return output}(input)).length,n=128,delta=0,bias=72;for(i=0;i<input.length;i++)(currentValue=input[i])<128&&output.push(stringFromCharCode(currentValue));var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&output.push("-");handledCPCount<inputLength;){var m=2147483647;for(i=0;i<input.length;i++)(currentValue=input[i])>=n&&currentValue<m&&(m=currentValue);var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((2147483647-delta)/handledCPCountPlusOne))throw RangeError(OVERFLOW_ERROR);for(delta+=(m-n)*handledCPCountPlusOne,n=m,i=0;i<input.length;i++){if((currentValue=input[i])<n&&++delta>2147483647)throw RangeError(OVERFLOW_ERROR);if(currentValue==n){for(var q=delta,k=36;;k+=36){var t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=36-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}}++delta,++n}return output.join("")};module.exports=function(input){var i,label,encoded=[],labels=input.toLowerCase().replace(regexSeparators,".").split(".");for(i=0;i<labels.length;i++)label=labels[i],encoded.push(regexNonASCII.test(label)?"xn--"+encode(label):label);return encoded.join(".")}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(12);var $=__webpack_require__(22),getBuiltIn=__webpack_require__(16),USE_NATIVE_URL=__webpack_require__(79),redefine=__webpack_require__(14),redefineAll=__webpack_require__(71),setToStringTag=__webpack_require__(23),createIteratorConstructor=__webpack_require__(68),InternalStateModule=__webpack_require__(17),anInstance=__webpack_require__(48),hasOwn=__webpack_require__(7),bind=__webpack_require__(34),classof=__webpack_require__(73),anObject=__webpack_require__(5),isObject=__webpack_require__(11),create=__webpack_require__(42),createPropertyDescriptor=__webpack_require__(20),getIterator=__webpack_require__(125),getIteratorMethod=__webpack_require__(35),wellKnownSymbol=__webpack_require__(4),$fetch=getBuiltIn("fetch"),Headers=getBuiltIn("Headers"),ITERATOR=wellKnownSymbol("iterator"),setInternalState=InternalStateModule.set,getInternalParamsState=InternalStateModule.getterFor("URLSearchParams"),getInternalIteratorState=InternalStateModule.getterFor("URLSearchParamsIterator"),plus=/\+/g,sequences=Array(4),percentSequence=function(bytes){return sequences[bytes-1]||(sequences[bytes-1]=RegExp("((?:%[\\da-f]{2}){"+bytes+"})","gi"))},percentDecode=function(sequence){try{return decodeURIComponent(sequence)}catch(error){return sequence}},deserialize=function(it){var result=it.replace(plus," "),bytes=4;try{return decodeURIComponent(result)}catch(error){for(;bytes;)result=result.replace(percentSequence(bytes--),percentDecode);return result}},find=/[!'()~]|%20/g,replace={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(match){return replace[match]},serialize=function(it){return encodeURIComponent(it).replace(find,replacer)},parseSearchParams=function(result,query){if(query)for(var attribute,entry,attributes=query.split("&"),index=0;index<attributes.length;)(attribute=attributes[index++]).length&&(entry=attribute.split("="),result.push({key:deserialize(entry.shift()),value:deserialize(entry.join("="))}))},updateSearchParams=function(query){this.entries.length=0,parseSearchParams(this.entries,query)},validateArgumentsLength=function(passed,required){if(passed<required)throw TypeError("Not enough arguments")},URLSearchParamsIterator=createIteratorConstructor((function(params,kind){setInternalState(this,{type:"URLSearchParamsIterator",iterator:getIterator(getInternalParamsState(params).entries),kind:kind})}),"Iterator",(function(){var state=getInternalIteratorState(this),kind=state.kind,step=state.iterator.next(),entry=step.value;return step.done||(step.value="keys"===kind?entry.key:"values"===kind?entry.value:[entry.key,entry.value]),step})),URLSearchParamsConstructor=function(){anInstance(this,URLSearchParamsConstructor,"URLSearchParams");var iteratorMethod,iterator,next,step,entryIterator,entryNext,first,second,key,init=arguments.length>0?arguments[0]:void 0,that=this,entries=[];if(setInternalState(that,{type:"URLSearchParams",entries:entries,updateURL:function(){},updateSearchParams:updateSearchParams}),void 0!==init)if(isObject(init))if("function"==typeof(iteratorMethod=getIteratorMethod(init)))for(next=(iterator=iteratorMethod.call(init)).next;!(step=next.call(iterator)).done;){if((first=(entryNext=(entryIterator=getIterator(anObject(step.value))).next).call(entryIterator)).done||(second=entryNext.call(entryIterator)).done||!entryNext.call(entryIterator).done)throw TypeError("Expected sequence with length 2");entries.push({key:first.value+"",value:second.value+""})}else for(key in init)hasOwn(init,key)&&entries.push({key:key,value:init[key]+""});else parseSearchParams(entries,"string"==typeof init?"?"===init.charAt(0)?init.slice(1):init:init+"")},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;redefineAll(URLSearchParamsPrototype,{append:function(name,value){validateArgumentsLength(arguments.length,2);var state=getInternalParamsState(this);state.entries.push({key:name+"",value:value+""}),state.updateURL()},delete:function(name){validateArgumentsLength(arguments.length,1);for(var state=getInternalParamsState(this),entries=state.entries,key=name+"",index=0;index<entries.length;)entries[index].key===key?entries.splice(index,1):index++;state.updateURL()},get:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",index=0;index<entries.length;index++)if(entries[index].key===key)return entries[index].value;return null},getAll:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",result=[],index=0;index<entries.length;index++)entries[index].key===key&&result.push(entries[index].value);return result},has:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",index=0;index<entries.length;)if(entries[index++].key===key)return!0;return!1},set:function(name,value){validateArgumentsLength(arguments.length,1);for(var entry,state=getInternalParamsState(this),entries=state.entries,found=!1,key=name+"",val=value+"",index=0;index<entries.length;index++)(entry=entries[index]).key===key&&(found?entries.splice(index--,1):(found=!0,entry.value=val));found||entries.push({key:key,value:val}),state.updateURL()},sort:function(){var entry,entriesIndex,sliceIndex,state=getInternalParamsState(this),entries=state.entries,slice=entries.slice();for(entries.length=0,sliceIndex=0;sliceIndex<slice.length;sliceIndex++){for(entry=slice[sliceIndex],entriesIndex=0;entriesIndex<sliceIndex;entriesIndex++)if(entries[entriesIndex].key>entry.key){entries.splice(entriesIndex,0,entry);break}entriesIndex===sliceIndex&&entries.push(entry)}state.updateURL()},forEach:function(callback){for(var entry,entries=getInternalParamsState(this).entries,boundFunction=bind(callback,arguments.length>1?arguments[1]:void 0,3),index=0;index<entries.length;)boundFunction((entry=entries[index++]).value,entry.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),redefine(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries),redefine(URLSearchParamsPrototype,"toString",(function(){for(var entry,entries=getInternalParamsState(this).entries,result=[],index=0;index<entries.length;)entry=entries[index++],result.push(serialize(entry.key)+"="+serialize(entry.value));return result.join("&")}),{enumerable:!0}),setToStringTag(URLSearchParamsConstructor,"URLSearchParams"),$({global:!0,forced:!USE_NATIVE_URL},{URLSearchParams:URLSearchParamsConstructor}),USE_NATIVE_URL||"function"!=typeof $fetch||"function"!=typeof Headers||$({global:!0,enumerable:!0,forced:!0},{fetch:function(input){var init,body,headers,args=[input];return arguments.length>1&&(isObject(init=arguments[1])&&(body=init.body,"URLSearchParams"===classof(body)&&((headers=init.headers?new Headers(init.headers):new Headers).has("content-type")||headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),init=create(init,{body:createPropertyDescriptor(0,String(body)),headers:createPropertyDescriptor(0,headers)}))),args.push(init)),$fetch.apply(this,args)}}),module.exports={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(5),getIteratorMethod=__webpack_require__(35);module.exports=function(it){var iteratorMethod=getIteratorMethod(it);if("function"!=typeof iteratorMethod)throw TypeError(String(it)+" is not iterable");return anObject(iteratorMethod.call(it))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";!function(exports){var DEFAULT_LOG_LEVEL=4;Object.assign(exports,{VERB:1,DBUG:2,INFO:3,NOTE:4,WARN:5,log:function(level,str){},setDefaultLogLevel:function(level){DEFAULT_LOG_LEVEL=level},getDefaultLogLevel:function(){return DEFAULT_LOG_LEVEL},loadExtensionFile:function(url,returnType){var xhr=new XMLHttpRequest;if(xhr.open("GET",chrome.extension.getURL(url),!1),xhr.send(null),4===xhr.readyState)return"xml"===returnType?xhr.responseXML:"json"===returnType?JSON.parse(xhr.responseText):xhr.responseText},ArrayBufferToString:function(ab){let array=new Uint8Array(ab),string="";for(let byte of array)string+=String.fromCharCode(byte);return string}})}(exports)},function(module,exports,__webpack_require__){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";!function(exports){const util=__webpack_require__(197);let settings={enableMixedRulesets:!1,domainBlacklist:new Set};const trivial_rule_from_c=/^http:/,trivial_cookie_rule_c=/.+/,nullIterable=Object.create(null,{[Symbol.iterator]:{value:function*(){}},size:{value:0}});function Rule(from,to){"^http:"===from&&"https:"===to?(this.to="https:",this.from_c=trivial_rule_from_c):(this.to=to,this.from_c=new RegExp(from))}function Exclusion(pattern){this.pattern_c=new RegExp(pattern)}function CookieRule(host,cookiename){this.host_c=".+"===host?trivial_cookie_rule_c:new RegExp(host),this.name_c=".+"===cookiename?trivial_cookie_rule_c:new RegExp(cookiename)}function RuleSet(set_name,default_state,note){this.name=set_name,this.rules=[],this.exclusions=null,this.cookierules=null,this.active=default_state,this.default_state=default_state,this.note=note}function RuleSets(){return this.targets=new Map,this.ruleCache=new Map,this.cookieHostCache=new Map,this.ruleActiveStates={},this.USER_RULE_KEY="userRules",this}RuleSet.prototype={apply:function(urispec){var returl=null;if(null!==this.exclusions)for(let exclusion of this.exclusions)if(exclusion.pattern_c.test(urispec))return util.log(util.DBUG,"excluded uri "+urispec),null;for(let rule of this.rules)if((returl=urispec.replace(rule.from_c,rule.to))!=urispec)return returl;return null},isEquivalentTo:function(ruleset){if(this.name!=ruleset.name||this.note!=ruleset.note||this.state!=ruleset.state||this.default_state!=ruleset.default_state)return!1;try{var this_exclusions_length=this.exclusions.length}catch(e){this_exclusions_length=0}try{var ruleset_exclusions_length=ruleset.exclusions.length}catch(e){ruleset_exclusions_length=0}try{var this_rules_length=this.rules.length}catch(e){this_rules_length=0}try{var ruleset_rules_length=ruleset.rules.length}catch(e){ruleset_rules_length=0}if(this_exclusions_length!=ruleset_exclusions_length||this_rules_length!=ruleset_rules_length)return!1;if(this_exclusions_length>0)for(let x=0;x<this.exclusions.length;x++)if(this.exclusions[x].pattern_c!=ruleset.exclusions[x].pattern_c)return!1;if(this_rules_length>0)for(let x=0;x<this.rules.length;x++)if(this.rules[x].to!=ruleset.rules[x].to)return!1;return!0}},RuleSets.prototype={loadFromBrowserStorage:async function(store,applyStoredFunc){this.store=store,this.ruleActiveStates=await this.store.get_promise("ruleActiveStates",{}),await applyStoredFunc(this),this.loadStoredUserRules(),await this.addStoredCustomRulesets()},addFromXml:function(ruleXml){var sets=ruleXml.getElementsByTagName("ruleset");for(let s of sets)try{this.parseOneXmlRuleset(s)}catch(e){util.log(util.WARN,"Error processing ruleset:"+e)}},addFromJson:function(ruleJson){for(let ruleset of ruleJson)try{this.parseOneJsonRuleset(ruleset)}catch(e){util.log(util.WARN,"Error processing ruleset:"+e)}},parseOneJsonRuleset:function(ruletag){var default_state=!0,note="",default_off=ruletag.default_off;default_off&&(default_state=!1,note+=default_off+"\n");var platform=ruletag.platform;platform&&(default_state=!1,"mixedcontent"==platform&&settings.enableMixedRulesets&&(default_state=!0),note+="Platform(s): "+platform+"\n");var rule_set=new RuleSet(ruletag.name,default_state,note.trim());rule_set.name in this.ruleActiveStates&&(rule_set.active=this.ruleActiveStates[rule_set.name]);var rules=ruletag.rule;for(let rule of rules)null!=rule.from&&null!=rule.to&&rule_set.rules.push(new Rule(rule.from,rule.to));var exclusions=ruletag.exclusion;if(null!=exclusions)for(let exclusion of exclusions)null!=exclusion&&(rule_set.exclusions||(rule_set.exclusions=[]),rule_set.exclusions.push(new Exclusion(exclusion)));var cookierules=ruletag.securecookie;if(null!=cookierules)for(let cookierule of cookierules)null!=cookierule.host&&null!=cookierule.name&&(rule_set.cookierules||(rule_set.cookierules=[]),rule_set.cookierules.push(new CookieRule(cookierule.host,cookierule.name)));var targets=ruletag.target;for(let target of targets)null!=target&&(this.targets.has(target)||this.targets.set(target,[]),this.targets.get(target).push(rule_set))},addUserRule:function(params){util.log(util.INFO,"adding new user rule for "+JSON.stringify(params));var new_rule_set=new RuleSet(params.host,!0,"user rule"),new_rule=new Rule(params.urlMatcher,params.redirectTo);return new_rule_set.rules.push(new_rule),this.targets.has(params.host)||this.targets.set(params.host,[]),this.ruleCache.delete(params.host),this.targets.get(params.host).push(new_rule_set),new_rule_set.name in this.ruleActiveStates&&(new_rule_set.active=this.ruleActiveStates[new_rule_set.name]),util.log(util.INFO,"done adding rule"),!0},removeUserRule:function(ruleset){util.log(util.INFO,"removing user rule for "+JSON.stringify(ruleset)),this.ruleCache.delete(ruleset.name);var tmp=this.targets.get(ruleset.name).filter(r=>!r.isEquivalentTo(ruleset));return this.targets.set(ruleset.name,tmp),0==this.targets.get(ruleset.name).length&&this.targets.delete(ruleset.name),util.log(util.INFO,"done removing rule"),!0},getStoredUserRules:async function(){return await this.store.get_promise(this.USER_RULE_KEY,[])},loadStoredUserRules:async function(){const user_rules=await this.getStoredUserRules();for(let user_rule of user_rules)this.addUserRule(user_rule);util.log(util.INFO,"loaded "+user_rules.length+" stored user rules")},addNewRuleAndStore:async function(params){if(this.addUserRule(params)){let userRules=await this.getStoredUserRules();userRules.push(params),await this.store.set_promise(this.USER_RULE_KEY,userRules)}},removeRuleAndStore:async function(ruleset){if(this.removeUserRule(ruleset)){let userRules=await this.getStoredUserRules();userRules=userRules.filter(r=>!(r.host==ruleset.name&&r.redirectTo==ruleset.rules[0].to)),await this.store.set_promise(this.USER_RULE_KEY,userRules)}},addStoredCustomRulesets:function(){return new Promise(resolve=>{this.store.get({legacy_custom_rulesets:[],debugging_rulesets:""},item=>{this.loadCustomRulesets(item.legacy_custom_rulesets),this.loadCustomRuleset("<root>"+item.debugging_rulesets+"</root>"),resolve()})})},loadCustomRulesets:function(legacy_custom_rulesets){for(let legacy_custom_ruleset of legacy_custom_rulesets)this.loadCustomRuleset(legacy_custom_ruleset)},loadCustomRuleset:function(ruleset_string){this.addFromXml((new DOMParser).parseFromString(ruleset_string,"text/xml"))},setRuleActiveState:async function(ruleset_name,active){null==active?delete this.ruleActiveStates[ruleset_name]:this.ruleActiveStates[ruleset_name]=active,await this.store.set_promise("ruleActiveStates",this.ruleActiveStates)},parseOneXmlRuleset:function(ruletag){var default_state=!0,note="",default_off=ruletag.getAttribute("default_off");default_off&&(default_state=!1,note+=default_off+"\n");var platform=ruletag.getAttribute("platform");platform&&(default_state=!1,"mixedcontent"==platform&&settings.enableMixedRulesets&&(default_state=!0),note+="Platform(s): "+platform+"\n");var rule_set=new RuleSet(ruletag.getAttribute("name"),default_state,note.trim());rule_set.name in this.ruleActiveStates&&(rule_set.active="true"==this.ruleActiveStates[rule_set.name]);var rules=ruletag.getElementsByTagName("rule");for(let rule of rules)rule_set.rules.push(new Rule(rule.getAttribute("from"),rule.getAttribute("to")));var exclusions=ruletag.getElementsByTagName("exclusion");if(exclusions.length>0){rule_set.exclusions=[];for(let exclusion of exclusions)rule_set.exclusions.push(new Exclusion(exclusion.getAttribute("pattern")))}var cookierules=ruletag.getElementsByTagName("securecookie");if(cookierules.length>0){rule_set.cookierules=[];for(let cookierule of cookierules)rule_set.cookierules.push(new CookieRule(cookierule.getAttribute("host"),cookierule.getAttribute("name")))}var targets=ruletag.getElementsByTagName("target");for(let target of targets){var host=target.getAttribute("host");this.targets.has(host)||this.targets.set(host,[]),this.targets.get(host).push(rule_set)}},potentiallyApplicableRulesets:function(host){if(this.ruleCache.has(host)){let cached_item=this.ruleCache.get(host);return util.log(util.DBUG,"Ruleset cache hit for "+host+" items:"+cached_item.size),cached_item}util.log(util.DBUG,"Ruleset cache miss for "+host);let results=this.targets.has(host)?new Set([...this.targets.get(host)]):new Set;if(host.length<=0||host.length>255||-1!=host.indexOf(".."))return util.log(util.WARN,"Malformed host passed to potentiallyApplicableRulesets: "+host),nullIterable;let segmented=host.split(".");for(let i=0;i<segmented.length;i++){let tmp=segmented[i];segmented[i]="*",results=this.targets.has(segmented.join("."))?new Set([...results,...this.targets.get(segmented.join("."))]):results,segmented[i]=tmp}for(let i=2;i<=segmented.length-2;i++){let t="*."+segmented.slice(i,segmented.length).join(".");results=this.targets.has(t)?new Set([...results,...this.targets.get(t)]):results}return results.delete(void 0),util.log(util.DBUG,"Applicable rules for "+host+":"),0==results.size?(util.log(util.DBUG,"  None"),results=nullIterable):results.forEach(result=>util.log(util.DBUG,"  "+result.name)),this.ruleCache.set(host,results),this.ruleCache.size>1e3&&this.ruleCache.delete(this.ruleCache.keys().next().value),results},shouldSecureCookie:function(cookie){for(var hostname=cookie.domain;"."==hostname.charAt(0);)hostname=hostname.slice(1);if(!this.safeToSecureCookie(hostname))return null;var potentiallyApplicable=this.potentiallyApplicableRulesets(hostname);for(let ruleset of potentiallyApplicable)if(null!==ruleset.cookierules&&ruleset.active)for(let cookierules of ruleset.cookierules){var cr=cookierules;if(cr.host_c.test(cookie.domain)&&cr.name_c.test(cookie.name))return ruleset}return null},safeToSecureCookie:function(domain){if(settings.domainBlacklist.has(domain))return util.log(util.INFO,"cookies for "+domain+"blacklisted"),!1;var cached_item=this.cookieHostCache.get(domain);if(void 0!==cached_item)return util.log(util.DBUG,"Cookie host cache hit for "+domain),cached_item;util.log(util.DBUG,"Cookie host cache miss for "+domain);var nonce_path="/"+Math.random().toString(),test_uri="http://"+domain+nonce_path+nonce_path;this.cookieHostCache.size>250&&this.cookieHostCache.delete(this.cookieHostCache.keys().next().value),util.log(util.INFO,"Testing securecookie applicability with "+test_uri);var potentiallyApplicable=this.potentiallyApplicableRulesets(domain);for(let ruleset of potentiallyApplicable)if(ruleset.active&&ruleset.apply(test_uri))return util.log(util.INFO,"Cookie domain could be secured."),this.cookieHostCache.set(domain,!0),!0;return util.log(util.INFO,"Cookie domain could NOT be secured."),this.cookieHostCache.set(domain,!1),!1},rewriteURI:function(urispec,host){var newuri=null,potentiallyApplicable=this.potentiallyApplicableRulesets(host);for(let ruleset of potentiallyApplicable)if(ruleset.active&&(newuri=ruleset.apply(urispec)))return newuri;return null}},Object.assign(exports,{nullIterable:nullIterable,settings:settings,trivial_rule_to:"https:",trivial_rule_from_c:trivial_rule_from_c,Exclusion:Exclusion,Rule:Rule,RuleSet:RuleSet,RuleSets:RuleSets})}(exports)},function(module,exports,__webpack_require__){"use strict";module.exports=function(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},function(module,exports,__webpack_require__){"use strict";var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(84),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result="",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0||0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(module,exports,__webpack_require__){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(module,exports,__webpack_require__){"use strict";!function(exports){const rules=__webpack_require__(209),store=__webpack_require__(216),incognito=__webpack_require__(217),util=__webpack_require__(197),update=__webpack_require__(218);let all_rules=new rules.RuleSets;async function initializeAllRules(){const r=new rules.RuleSets;await r.loadFromBrowserStorage(store,update.applyStoredRulesets),Object.assign(all_rules,r)}!async function(){await store.initialize(),await store.performMigrations(),await new Promise(resolve=>{store.get({httpNowhere:!1,globalEnabled:!0,enableMixedRulesets:!1},(function(item){httpNowhereOn=item.httpNowhere,isExtensionEnabled=item.globalEnabled,rules.settings.enableMixedRulesets=item.enableMixedRulesets,resolve()}))}),await("undefined"!=typeof browser?browser.runtime.getBrowserInfo().then((function(info){let version=info.version.match(/^(\d+)/)[1];upgradeToSecureAvailable="Firefox"==info.name&&version>=59})):new Promise(resolve=>{upgradeToSecureAvailable=!1,resolve()})),await update.initialize(store,initializeAllRules),await all_rules.loadFromBrowserStorage(store,update.applyStoredRulesets),await incognito.onIncognitoDestruction(destroy_caches)}(),chrome.storage.onChanged.addListener((async function(changes,areaName){"sync"!==areaName&&"local"!==areaName||!changes.prefs||(isExtensionEnabled=changes.prefs.newValue.httpsEverywhere)}));var httpNowhereOn=!1,isExtensionEnabled=!0;let upgradeToSecureAvailable;var urlBlacklist=new Set,redirectCounter=new Map;function destroy_caches(){util.log(util.DBUG,"Destroying caches."),all_rules.cookieHostCache.clear(),all_rules.ruleCache.clear(),rules.settings.domainBlacklist.clear(),urlBlacklist.clear()}chrome.webRequest.onBeforeRequest.addListener((function(details){if(!isExtensionEnabled)return;let uri=new URL(details.url),canonical_host=uri.hostname;for(;"."==canonical_host.charAt(canonical_host.length-1);)canonical_host=canonical_host.slice(0,-1),uri.hostname=canonical_host;const shouldCancel=httpNowhereOn&&"http:"===uri.protocol&&".onion"!==uri.hostname.slice(-6)&&"localhost"!==uri.hostname&&!/^127(\.[0-9]{1,3}){3}$/.test(canonical_host)&&!/^0\.0\.0\.0$/.test(canonical_host)&&"[::1]"!==uri.hostname;let tmp_user,tmp_pass,using_credentials_in_url=!1;(uri.password||uri.username)&&(using_credentials_in_url=!0,tmp_user=uri.username,tmp_pass=uri.password,uri.username="",uri.password="");var canonical_url=uri.href;if(details.url==canonical_url||using_credentials_in_url||util.log(util.INFO,"Original url "+details.url+" changed before processing to "+canonical_url),urlBlacklist.has(canonical_url))return{cancel:shouldCancel};var potentiallyApplicable=all_rules.potentiallyApplicableRulesets(canonical_host);if(redirectCounter.get(details.requestId)>=8)return util.log(util.NOTE,"Redirect counter hit for "+canonical_url),urlBlacklist.add(canonical_url),rules.settings.domainBlacklist.add(canonical_host),util.log(util.WARN,"Domain blacklisted "+canonical_host),{cancel:shouldCancel};let upgradeToSecure=!1;var newuristr=null;let trivialUpgradeUri=canonical_url.replace(/^http:/,"https:");for(let ruleset of potentiallyApplicable)ruleset.active&&!newuristr&&(newuristr=ruleset.apply(canonical_url))==trivialUpgradeUri&&(upgradeToSecure=!0);if(using_credentials_in_url)if(newuristr){const uri_with_credentials=new URL(newuristr);uri_with_credentials.username=tmp_user,uri_with_credentials.password=tmp_pass,newuristr=uri_with_credentials.href}else{const canonical_url_with_credentials=new URL(canonical_url);canonical_url_with_credentials.username=tmp_user,canonical_url_with_credentials.password=tmp_pass,canonical_url=canonical_url_with_credentials.href}return httpNowhereOn&&(shouldCancel&&(upgradeToSecure=!0,newuristr=newuristr?newuristr.replace(/^http:/,"https:"):canonical_url.replace(/^http:/,"https:")),newuristr&&"http:"===newuristr.substring(0,5))?{cancel:!0}:upgradeToSecureAvailable&&upgradeToSecure?(util.log(util.INFO,"onBeforeRequest returning upgradeToSecure: true"),{upgradeToSecure:!0}):newuristr?(util.log(util.INFO,"onBeforeRequest returning redirectUrl: "+newuristr),{redirectUrl:newuristr}):(util.log(util.INFO,"onBeforeRequest returning shouldCancel: "+shouldCancel),{cancel:shouldCancel})}),{urls:["*://*/*"]},["blocking"]),chrome.webRequest.onBeforeRedirect.addListener((function(details){let prefix=details.redirectUrl.substring(0,5);if("http:"===prefix||"https"===prefix){let count=redirectCounter.get(details.requestId);count?(redirectCounter.set(details.requestId,count+1),util.log(util.DBUG,"Got redirect id "+details.requestId+": "+count)):redirectCounter.set(details.requestId,1)}}),{urls:["https://*/*"]}),chrome.webRequest.onCompleted.addListener((function(details){redirectCounter.has(details.requestId)&&redirectCounter.delete(details.requestId)}),{urls:["*://*/*"]}),chrome.webRequest.onErrorOccurred.addListener((function(details){redirectCounter.has(details.requestId)&&redirectCounter.delete(details.requestId)}),{urls:["*://*/*"]}),chrome.webRequest.onHeadersReceived.addListener((function(details){if(isExtensionEnabled&&httpNowhereOn){if(".onion"==new URL(details.url).hostname.slice(-6))return{};let responseHeadersChanged=!1,cspHeaderFound=!1;for(const idx in details.responseHeaders){if(details.responseHeaders[idx].name.match(/Content-Security-Policy/i)){cspHeaderFound=!0;const value=details.responseHeaders[idx].value;value.match(/upgrade-insecure-requests/i)||(details.responseHeaders[idx].value="upgrade-insecure-requests; "+value,responseHeadersChanged=!0)}if(details.responseHeaders[idx].name.match(/Access-Control-Allow-Origin/i)){const value=details.responseHeaders[idx].value;value.match(/http:/)&&(details.responseHeaders[idx].value=value.replace(/http:/g,"https:"),responseHeadersChanged=!0)}}if(!cspHeaderFound){const upgradeInsecureRequests={name:"Content-Security-Policy",value:"upgrade-insecure-requests"};details.responseHeaders.push(upgradeInsecureRequests),responseHeadersChanged=!0}if(responseHeadersChanged)return{responseHeaders:details.responseHeaders}}return{}}),{urls:["https://*/*"]},["blocking","responseHeaders"]),chrome.cookies.onChanged.addListener((function(changeInfo){if(!changeInfo.removed&&!changeInfo.cookie.secure&&isExtensionEnabled&&all_rules.shouldSecureCookie(changeInfo.cookie)){let cookie={name:changeInfo.cookie.name,value:changeInfo.cookie.value,path:changeInfo.cookie.path,httpOnly:changeInfo.cookie.httpOnly,expirationDate:changeInfo.cookie.expirationDate,storeId:changeInfo.cookie.storeId,secure:!0};changeInfo.cookie.hostOnly||(cookie.domain=changeInfo.cookie.domain),changeInfo.cookie.sameSite&&(cookie.sameSite=changeInfo.cookie.sameSite),changeInfo.cookie.firstPartyDomain&&(cookie.firstPartyDomain=changeInfo.cookie.firstPartyDomain),"."==changeInfo.cookie.domain[0]?cookie.url="https://www"+changeInfo.cookie.domain+cookie.path:cookie.url="https://"+changeInfo.cookie.domain+cookie.path,util.log(util.DBUG,"Securing cookie "+cookie.name+" for "+changeInfo.cookie.domain+", was secure="+changeInfo.cookie.secure),chrome.cookies.set(cookie)}})),Object.assign(exports,{all_rules:all_rules,urlBlacklist:urlBlacklist})}(exports)},function(module,exports,__webpack_require__){const rules=__webpack_require__(209);!function(exports){function generic_get_promise(key,default_val,storage){return new Promise(res=>storage.get({[key]:default_val},data=>res(data[key])))}function generic_set_promise(key,value,storage){return new Promise(res=>storage.set({[key]:value},res))}function get_promise(key,default_val){return generic_get_promise(key,default_val,exports)}function set_promise(key,value){return generic_set_promise(key,value,exports)}const local={get:chrome.storage.local.get,set:chrome.storage.local.set,get_promise:function(key,default_val){return generic_get_promise(key,default_val,chrome.storage.local)},set_promise:function(key,value){return generic_set_promise(key,value,chrome.storage.local)}};function setStorage(store){Object.assign(exports,{get:store.get.bind(store),set:store.set.bind(store),get_promise:get_promise,set_promise:set_promise,local:local})}Object.assign(exports,{initialize:function(){return new Promise(resolve=>{chrome.storage.sync?chrome.storage.sync.set({"sync-set-test":!0},()=>{chrome.runtime.lastError?setStorage(chrome.storage.local):setStorage(chrome.storage.sync),resolve()}):(setStorage(chrome.storage.local),resolve())})},performMigrations:async function(){if(await get_promise("migration_version",0)<1){let ls;try{ls=localStorage}catch(e){}let ruleActiveStates={};for(const key in ls)ls.hasOwnProperty(key)&&(key==rules.RuleSets().USER_RULE_KEY?await set_promise(rules.RuleSets().USER_RULE_KEY,JSON.parse(ls[key])):ruleActiveStates[key]="true"==ls[key]);await set_promise("ruleActiveStates",ruleActiveStates)}await set_promise("migration_version",1)}})}(exports)},function(module,exports,__webpack_require__){"use strict";!function(exports){let state={incognito_session_exists:!1};function Incognito(onIncognitoDestruction){Object.assign(this,{onIncognitoDestruction:onIncognitoDestruction}),chrome.windows&&chrome.windows.onCreated.addListener(this.detect_incognito_creation),chrome.windows&&chrome.windows.onRemoved.addListener(this.detect_incognito_destruction)}Incognito.prototype={detect_incognito_creation:function(window_){!0===window_.incognito&&(state.incognito_session_exists=!0)},detect_incognito_destruction:async function(){state.incognito_session_exists&&(await new Promise(resolve=>{chrome.windows.getAll(arrayOfWindows=>{for(let window_ of arrayOfWindows)if(!0===window_.incognito)return resolve(!0);resolve(!1)})})||(state.incognito_session_exists=!1,this.onIncognitoDestruction()))}},Object.assign(exports,{onIncognitoDestruction:function(callback){return new Incognito(callback)},state:state})}(exports)},function(module,exports,__webpack_require__){const util=__webpack_require__(197),pako=__webpack_require__(219);var update_channels=[{name:"EFF (Full)",jwk:{kty:"RSA",e:"AQAB",n:"1cwvFQu3Kw-Pz8bcEFuV5zx0ZheDsc4Tva7Qv6BL90_sDLqCW79Y543nDkPtNVfFH_89pt2kSPp_IcS5XnYiw6zBQeFuILFw5JpvZt14K0s4e025Q9CXfhYKIBKT9PnqihwAacjMa6rQb7RTu7XxVvqxRb3b0vx2CR40LSlYZ8H_KpeaUwq2oz-fyrI6LFTeYvbO3ZuLKeK5xV1a32xeTVMFkIj3LxnQalxq-DRHfj7LRRoTnbRDW4uoDc8aVpLFliuO79jUKbobz4slpiWJ4wjKR_O6OK13HbZUiOSxi8Bms-UqBPOyzbMVpmA7lv_zWdaLu1IVlVXQyLVbbrqI6llRqfHdcJoEl-eC48AofuB-relQtjTEK_hyBf7sPwrbqAarjRjlyEx6Qy5gTXyxM9attfNAeupYR6jm8LKm6TFpfWkyDxUmj_f5pJMBWNTomV74f8iQ2M18_KWMUDCOf80tR0t21Q1iCWdvA3K_KJn05tTLyumlwwlQijMqRkYuao-CX9L3DJIaB3VPYPTSIPUr7oi16agsuamOyiOtlZiRpEvoNg2ksJMZtwnj5xhBQydkdhMW2ZpHDzcLuZlhJYZL_l3_7wuzRM7vpyA9obP92CpZRFJErGZmFxJC93I4U9-0B0wg-sbyMKGJ5j1BWTnibCklDXtWzXtuiz18EgE"},update_path_prefix:"https://www.https-rulesets.org/v1/"}];!function(exports){let store,background_callback,periodicity=86400;chrome.storage.onChanged.addListener((async function(changes,areaName){changes.prefs&&changes.prefs.oldValue&&changes.prefs.newValue.httpsPeriodicity!==changes.prefs.oldValue.httpsPeriodicity&&(periodicity=parseInt(changes.prefs.newValue.httpsPeriodicity,10),destroyTimer(),createTimer())}));let initialCheck,subsequentChecks,imported_keys={};for(let update_channel of update_channels)imported_keys[update_channel.name]=window.crypto.subtle.importKey("jwk",update_channel.jwk,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"]);async function checkForNewRulesets(update_channel){let timestamp_result=await fetch(update_channel.update_path_prefix+"/latest-rulesets-timestamp");if(200==timestamp_result.status){let rulesets_timestamp=Number(await timestamp_result.text());if(await store.local.get_promise("rulesets-timestamp: "+update_channel.name,0)<rulesets_timestamp)return rulesets_timestamp}return!1}async function getNewRulesets(rulesets_timestamp,update_channel){store.local.set_promise("rulesets-timestamp: "+update_channel.name,rulesets_timestamp);let signature_promise=fetch(update_channel.update_path_prefix+"/rulesets-signature."+rulesets_timestamp+".sha256"),rulesets_promise=fetch(update_channel.update_path_prefix+"/default.rulesets."+rulesets_timestamp+".gz"),responses=await Promise.all([signature_promise,rulesets_promise]),resolutions=await Promise.all([responses[0].arrayBuffer(),responses[1].arrayBuffer()]);return{signature_array_buffer:resolutions[0],rulesets_array_buffer:resolutions[1]}}function verifyAndStoreNewRulesets(new_rulesets,rulesets_timestamp,update_channel){return new Promise((resolve,reject)=>{imported_keys[update_channel.name].then(publicKey=>{window.crypto.subtle.verify({name:"RSA-PSS",saltLength:32},publicKey,new_rulesets.signature_array_buffer,new_rulesets.rulesets_array_buffer).then(async isvalid=>{if(isvalid){util.log(util.NOTE,update_channel.name+": Downloaded ruleset signature checks out.  Storing rulesets.");const rulesets_gz=util.ArrayBufferToString(new_rulesets.rulesets_array_buffer),rulesets_byte_array=pako.inflate(rulesets_gz),rulesets=new TextDecoder("utf-8").decode(rulesets_byte_array);JSON.parse(rulesets).timestamp!=rulesets_timestamp?reject(update_channel.name+": Downloaded ruleset had an incorrect timestamp.  This may be an attempted downgrade attack.  Aborting."):(await store.local.set_promise("rulesets: "+update_channel.name,window.btoa(rulesets_gz)),resolve(!0))}else reject(update_channel.name+": Downloaded ruleset signature is invalid.  Aborting.")}).catch(()=>{reject(update_channel.name+": Downloaded ruleset signature could not be verified.  Aborting.")})}).catch(()=>{reject(update_channel.name+": Could not import key.  Aborting.")})})}async function performCheck(){util.log(util.NOTE,"Checking for new rulesets.");const current_timestamp=Date.now()/1e3;store.local.set_promise("last-checked",current_timestamp);let num_updates=0;for(let update_channel of update_channels){let new_rulesets_timestamp=await checkForNewRulesets(update_channel);if(new_rulesets_timestamp){util.log(util.NOTE,update_channel.name+": A new ruleset bundle has been released.  Downloading now.");let new_rulesets=await getNewRulesets(new_rulesets_timestamp,update_channel);try{await verifyAndStoreNewRulesets(new_rulesets,new_rulesets_timestamp,update_channel),store.local.set_promise("rulesets-stored-timestamp: "+update_channel.name,new_rulesets_timestamp),num_updates++}catch(err){util.log(util.WARN,update_channel.name+": "+err)}}}num_updates>0&&background_callback()}async function createTimer(){const time_to_next_check=await async function(){const last_checked=await store.local.get_promise("last-checked",!1);if(last_checked){const secs_since_last_checked=Date.now()/1e3-last_checked;return Math.max(0,periodicity-secs_since_last_checked)}return 0}();initialCheck=setTimeout(()=>{performCheck(),subsequentChecks=setInterval(performCheck,1e3*periodicity)},1e3*time_to_next_check)}function destroyTimer(){initialCheck&&clearTimeout(initialCheck),subsequentChecks&&clearInterval(subsequentChecks)}chrome.storage.onChanged.addListener((async function(changes,areaName){"sync"!==areaName&&"local"!==areaName||"autoUpdateRulesets"in changes&&(changes.autoUpdateRulesets.newValue?await createTimer():destroyTimer())})),Object.assign(exports,{applyStoredRulesets:async function(rulesets_obj){let rulesets_promises=[];for(let update_channel of update_channels)rulesets_promises.push(new Promise(resolve=>{const key="rulesets: "+update_channel.name;chrome.storage.local.get(key,root=>{if(root[key]){util.log(util.NOTE,update_channel.name+": Applying stored rulesets.");const rulesets_gz=window.atob(root[key]),rulesets_byte_array=pako.inflate(rulesets_gz),rulesets=new TextDecoder("utf-8").decode(rulesets_byte_array),rulesets_json=JSON.parse(rulesets);resolve(rulesets_json)}else resolve()})}));await performCheck();const rulesets_jsons=await Promise.all(rulesets_promises);if(rulesets_jsons.join("").length>0)for(let rulesets_json of rulesets_jsons)rulesets_obj.addFromJson(rulesets_json.rulesets)},initialize:async function(store_param,cb){store=store_param,background_callback=cb,await createTimer()},getRulesetTimestamps:async function(){let timestamp_promises=[];for(let update_channel of update_channels)timestamp_promises.push(new Promise(async resolve=>{let timestamp=await store.local.get_promise("rulesets-stored-timestamp: "+update_channel.name,0);resolve([update_channel.name,timestamp])}));return await Promise.all(timestamp_promises)},getPeriodicity:function(){return periodicity},performCheck:performCheck})}(exports)},function(module,exports,__webpack_require__){"use strict";var pako={};(0,__webpack_require__(84).assign)(pako,__webpack_require__(220),__webpack_require__(223),__webpack_require__(214)),module.exports=pako},function(module,exports,__webpack_require__){"use strict";var zlib_deflate=__webpack_require__(221),utils=__webpack_require__(84),strings=__webpack_require__(212),msg=__webpack_require__(198),ZStream=__webpack_require__(213),toString=Object.prototype.toString;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(0!==status)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(dict="string"==typeof opt.dictionary?strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,0!==(status=zlib_deflate.deflateSetDictionary(this.strm,dict)))throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,"string"==typeof data?strm.input=strings.string2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&0!==status)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||("string"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,0===status):2!==_mode||(this.onEnd(0),strm.avail_out=0,!0)},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){0===status&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=function(input,options){return(options=options||{}).raw=!0,deflate(input,options)},exports.gzip=function(input,options){return(options=options||{}).gzip=!0,deflate(input,options)}},function(module,exports,__webpack_require__){"use strict";var configuration_table,utils=__webpack_require__(84),trees=__webpack_require__(222),adler32=__webpack_require__(210),crc32=__webpack_require__(211),msg=__webpack_require__(198);function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-262?s.strstart-(s.w_size-262):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+258,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(_win[(match=cur_match)+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=258-(strend-scan),scan=strend-258,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,strm,buf,start,size,len,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-262)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(strm=s.strm,buf=s.window,start=s.strstart+s.lookahead,size=more,len=void 0,(len=strm.avail_in)>size&&(len=size),n=0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len),s.lookahead+=n,s.lookahead+s.insert>=3)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+3-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<3)););}while(s.lookahead<262&&0!==s.strm.avail_in)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<262){if(fill_window(s),s.lookahead<262&&0===flush)return 1;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=3&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-262&&(s.match_length=longest_match(s,hash_head)),s.match_length>=3)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-3),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=3){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return 1}return s.insert=s.strstart<2?s.strstart:2,4===flush?(flush_block_only(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?1:2}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<262){if(fill_window(s),s.lookahead<262&&0===flush)return 1;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=3&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=2,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-262&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(1===s.strategy||3===s.match_length&&s.strstart-s.match_start>4096)&&(s.match_length=2)),s.prev_length>=3&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-3,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-3),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=2,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return 1}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return 1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<2?s.strstart:2,4===flush?(flush_block_only(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?1:2}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(1146),this.dyn_dtree=new utils.Buf16(122),this.bl_tree=new utils.Buf16(78),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(16),this.heap=new utils.Buf16(573),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(573),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=2,(s=strm.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?42:113,strm.adler=2===s.wrap?0:1,s.last_flush=0,trees._tr_init(s),0):err(strm,-2)}function deflateReset(strm){var s,ret=deflateResetKeep(strm);return 0===ret&&((s=strm.state).window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=2,s.match_available=0,s.ins_h=0),ret}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return-2;var wrap=1;if(-1===level&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>9||8!==method||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>4)return err(strm,-2);8===windowBits&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}configuration_table=[new Config(0,0,0,0,(function(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&0===flush)return 1;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return 1;if(s.strstart-s.block_start>=s.w_size-262&&(flush_block_only(s,!1),0===s.strm.avail_out))return 1}return s.insert=0,4===flush?(flush_block_only(s,!0),0===s.strm.avail_out?3:4):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),1)})),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=function(strm,level){return deflateInit2(strm,level,8,15,8,0)},exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=function(strm,head){return strm&&strm.state?2!==strm.state.wrap?-2:(strm.state.gzhead=head,0):-2},exports.deflate=function(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>5||flush<0)return strm?err(strm,-2):-2;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||666===s.status&&4!==flush)return err(strm,0===strm.avail_out?-5:-2);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,42===s.status)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),put_byte(s,3),s.status=113);else{var header=8+(s.w_bits-8<<4)<<8;header|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=32),header+=31-header%31,s.status=113,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(69===s.status)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=113)):s.status=113),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,0}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&4!==flush)return err(strm,-5);if(666===s.status&&0!==strm.avail_in)return err(strm,-5);if(0!==strm.avail_in||0!==s.lookahead||0!==flush&&666!==s.status){var bstate=2===s.strategy?function(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(0===flush)return 1;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return 1}return s.insert=0,4===flush?(flush_block_only(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?1:2}(s,flush):3===s.strategy?function(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=258){if(fill_window(s),s.lookahead<=258&&0===flush)return 1;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=3&&s.strstart>0&&(prev=_win[scan=s.strstart-1])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+258;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=258-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=3?(bflush=trees._tr_tally(s,1,s.match_length-3),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return 1}return s.insert=0,4===flush?(flush_block_only(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?1:2}(s,flush):configuration_table[s.level].func(s,flush);if(3!==bstate&&4!==bstate||(s.status=666),1===bstate||3===bstate)return 0===strm.avail_out&&(s.last_flush=-1),0;if(2===bstate&&(1===flush?trees._tr_align(s):5!==flush&&(trees._tr_stored_block(s,0,0,!1),3===flush&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,0}return 4!==flush?0:s.wrap<=0?1:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?0:1)},exports.deflateEnd=function(strm){var status;return strm&&strm.state?42!==(status=strm.state.status)&&69!==status&&73!==status&&91!==status&&103!==status&&113!==status&&666!==status?err(strm,-2):(strm.state=null,113===status?err(strm,-3):0):-2},exports.deflateSetDictionary=function(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return-2;if(2===(wrap=(s=strm.state).wrap)||1===wrap&&42!==s.status||s.lookahead)return-2;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=3;){str=s.strstart,n=s.lookahead-2;do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+3-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=2,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,0},exports.deflateInfo="pako deflate (from Nodeca project)"},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(84);function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(576);zero(static_ltree);var static_dtree=new Array(60);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(29);zero(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(30);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>16-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>16-s.bi_valid,s.bi_valid+=length-16):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(16),code=0;for(bits=1;bits<=15;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function init_block(s){var n;for(n=0;n<286;n++)s.dyn_ltree[2*n]=0;for(n=0;n<30;n++)s.dyn_dtree[2*n]=0;for(n=0;n<19;n++)s.bl_tree[2*n]=0;s.dyn_ltree[512]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+256+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,256,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=573,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=15;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<573;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[32]++):count<=10?s.bl_tree[34]++:s.bl_tree[36]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,16,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,17,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,18,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}zero(base_dist);var static_init_done=!1;function _tr_stored_block(s,buf,stored_len,last){send_bits(s,0+(last?1:0),3),function(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}(s,buf,stored_len,!0)}exports._tr_init=function(s){static_init_done||(!function(){var n,bits,length,code,dist,bl_count=new Array(16);for(length=0,code=0;code<28;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<30;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=15;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,287,bl_count),n=0;n<30;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,257,286,15),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,30,15),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,19,7)}(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=function(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(2===s.strm.data_type&&(s.strm.data_type=function(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return 0;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return 1;for(n=32;n<256;n++)if(0!==s.dyn_ltree[2*n])return 1;return 0}(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=function(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=18;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):4===s.strategy||static_lenb===opt_lenb?(send_bits(s,2+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,4+(last?1:0),3),function(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},exports._tr_tally=function(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+256+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1},exports._tr_align=function(s){send_bits(s,2,3),send_code(s,256,static_ltree),function(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}},function(module,exports,__webpack_require__){"use strict";var zlib_inflate=__webpack_require__(224),utils=__webpack_require__(84),strings=__webpack_require__(212),c=__webpack_require__(214),msg=__webpack_require__(198),ZStream=__webpack_require__(213),GZheader=__webpack_require__(227),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&("string"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof data?strm.input=strings.binstring2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(84),adler32=__webpack_require__(210),crc32=__webpack_require__(211),inflate_fast=__webpack_require__(225),inflate_table=__webpack_require__(226);function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=1,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(852),state.distcode=state.distdyn=new utils.Buf32(592),state.sane=1,state.back=-1,0):-2}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):-2}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?-2:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):-2}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,0!==(ret=inflateReset2(strm,windowBits))&&(strm.state=null),ret):-2}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(1,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(2,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function(strm){return inflateInit2(strm,15)},exports.inflateInit2=inflateInit2,exports.inflate=function(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return-2;12===(state=strm.state).mode&&(state.mode=13),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=0;inf_leave:for(;;)switch(state.mode){case 1:if(0===state.wrap){state.mode=13;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=2;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=30;break}if(8!=(15&hold)){strm.msg="unknown compression method",state.mode=30;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=30;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?10:12,hold=0,bits=0;break;case 2:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,8!=(255&state.flags)){strm.msg="unknown compression method",state.mode=30;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=30;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=3;case 3:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=4;case 4:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=5;case 5:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=6;case 6:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=7;case 7:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=8;case 8:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=9;case 9:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=30;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=12;break;case 10:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=11;case 11:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,2;strm.adler=state.check=1,state.mode=12;case 12:if(5===flush||6===flush)break inf_leave;case 13:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=27;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=14;break;case 1:if(fixedtables(state),state.mode=20,6===flush){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=17;break;case 3:strm.msg="invalid block type",state.mode=30}hold>>>=2,bits-=2;break;case 14:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=30;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=15,6===flush)break inf_leave;case 15:state.mode=16;case 16:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=12;break;case 17:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=30;break}state.have=0,state.mode=18;case 18:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(0,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=30;break}state.have=0,state.mode=19;case 19:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=30;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=30;break}for(;copy--;)state.lens[state.have++]=len}}if(30===state.mode)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=30;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(1,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=30;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(2,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=30;break}if(state.mode=20,6===flush)break inf_leave;case 20:state.mode=21;case 21:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,12===state.mode&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=26;break}if(32&here_op){state.back=-1,state.mode=12;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=30;break}state.extra=15&here_op,state.mode=22;case 22:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=23;case 23:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=30;break}state.offset=here_val,state.extra=15&here_op,state.mode=24;case 24:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=30;break}state.mode=25;case 25:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=21);break;case 26:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=21;break;case 27:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=30;break}hold=0,bits=0}state.mode=28;case 28:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=30;break}hold=0,bits=0}state.mode=29;case 29:ret=1;break inf_leave;case 30:ret=-3;break inf_leave;case 31:return-4;case 32:default:return-2}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<30&&(state.mode<27||4!==flush))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=31,-4):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(12===state.mode?128:0)+(20===state.mode||15===state.mode?256:0),(0===_in&&0===_out||4===flush)&&0===ret&&(ret=-5),ret)},exports.inflateEnd=function(strm){if(!strm||!strm.state)return-2;var state=strm.state;return state.window&&(state.window=null),strm.state=null,0},exports.inflateGetHeader=function(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?-2:(state.head=head,head.done=!1,0):-2},exports.inflateSetDictionary=function(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&11!==state.mode?-2:11===state.mode&&adler32(1,dictionary,dictLength,0)!==state.check?-3:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=31,-4):(state.havedict=1,0):-2},exports.inflateInfo="pako inflate (from Nodeca project)"},function(module,exports,__webpack_require__){"use strict";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg="invalid literal/length code",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg="invalid distance too far back",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(84),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(12),__webpack_require__(80),__webpack_require__(24),__webpack_require__(36),__webpack_require__(53);function e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function n(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach((function(e){r(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ldclient_es_i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e){function n(e,n){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=e,this.code=n}return n.prototype=new Error,n.prototype.name=e,n.prototype.constructor=n,n}var s=c("LaunchDarklyUnexpectedResponseError"),l=c("LaunchDarklyInvalidEnvironmentIdError"),f=c("LaunchDarklyInvalidUserError"),d=c("LaunchDarklyInvalidEventKeyError"),v=c("LaunchDarklyInvalidArgumentError"),g=c("LaunchDarklyFlagFetchError"),p=c("LaunchDarklyInvalidDataError");function m(e){return!(e>=400&&e<500)||400===e||408===e||429===e}for(var h=Object.freeze({__proto__:null,LDUnexpectedResponseError:s,LDInvalidEnvironmentIdError:l,LDInvalidUserError:f,LDInvalidEventKeyError:d,LDInvalidArgumentError:v,LDFlagFetchError:g,LDInvalidDataError:p,isHttpErrorRecoverable:m}),y=[],w=[],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,k=b.length;E<k;++E)y[E]=b[E],w[b.charCodeAt(E)]=E;function D(e,n,t){for(var r,o,i=[],a=n;a<t;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(y[(o=r)>>18&63]+y[o>>12&63]+y[o>>6&63]+y[63&o]);return i.join("")}w["-".charCodeAt(0)]=62,w["_".charCodeAt(0)]=63;var S=Array.isArray,O=Object.keys,P=Object.prototype.hasOwnProperty,U=["key","secondary","ip","country","email","firstName","lastName","avatar","name"];function I(e,n){return(e.endsWith("/")?e.substring(0,e.length-1):e)+(n.startsWith("/")?"":"/")+n}function j(e){return function(e){for(var n,t=e.length,r=t%3,o=[],i=0,a=t-r;i<a;i+=16383)o.push(D(e,i,i+16383>a?a:i+16383));return 1===r?(n=e[t-1],o.push(y[n>>2]+y[n<<4&63]+"==")):2===r&&(n=(e[t-2]<<8)+e[t-1],o.push(y[n>>10]+y[n>>4&63]+y[n<<2&63]+"=")),o.join("")}(function(e){for(var n=[],t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}(unescape(encodeURIComponent(e))))}function R(e){return j(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T(e){return JSON.parse(JSON.stringify(e))}function C(e,n){return function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){var r,o,i,a=S(n),u=S(t);if(a&&u){if((o=n.length)!=t.length)return!1;for(r=o;0!=r--;)if(!e(n[r],t[r]))return!1;return!0}if(a!=u)return!1;var c=n instanceof Date,s=t instanceof Date;if(c!=s)return!1;if(c&&s)return n.getTime()==t.getTime();var l=n instanceof RegExp,f=t instanceof RegExp;if(l!=f)return!1;if(l&&f)return n.toString()==t.toString();var d=O(n);if((o=d.length)!==O(t).length)return!1;for(r=o;0!=r--;)if(!P.call(t,d[r]))return!1;for(r=o;0!=r--;)if(!e(n[i=d[r]],t[i]))return!1;return!0}return n!=n&&t!=t}(e,n)}function L(e){setTimeout(e,0)}function A(e,n){var t=e.then((function(e){return n&&setTimeout((function(){n(null,e)}),0),e}),(function(e){if(!n)return Promise.reject(e);setTimeout((function(){n(e,null)}),0)}));return n?void 0:t}function x(e){var n={};for(var t in e)V(e,t)&&(n[t]={value:e[t],version:0});return n}function F(e){var n={};for(var t in e)V(e,t)&&(n[t]=e[t].value);return n}function N(e,n){for(var t,r=n.slice(0),o=[],i=e;r.length>0;){for(t=[];i>0;){var a=r.shift();if(!a)break;(i-=R(JSON.stringify(a)).length)<0&&t.length>0?r.unshift(a):t.push(a)}i=e,o.push(t)}return o}function q(e){var n=e.version||"3.8.2";return e.userAgent+"/"+n}function _(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return n(n({},e),t)}),{})}function V(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function M(e){if(!e)return e;var t;for(var r in U){var o=U[r],i=e[o];void 0!==i&&"string"!=typeof i&&((t=t||n({},e))[o]=String(i))}return t||e}for(var z=Object.freeze({__proto__:null,appendUrlPath:I,btoa:j,base64URLEncode:R,clone:T,deepEquals:C,onNextTick:L,wrapPromiseCallback:A,transformValuesToVersionedValues:x,transformVersionedValuesToValues:F,chunkUserEventsForUrl:N,getLDUserAgentString:q,extend:_,objectHasOwnProperty:V,sanitizeUser:M}),J=function(e,n){return function(e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);e.exports=function(){return n(t),t}}else{var r=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}}(n={exports:{}}),n.exports}(),$=[],H=0;H<256;++H)$[H]=(H+256).toString(16).substr(1);var K,B,G=0,X=0,W=function(e,n,t){var r=n&&t||0,o=n||[],i=(e=e||{}).node||K,a=void 0!==e.clockseq?e.clockseq:B;if(null==i||null==a){var u=J();null==i&&(i=K=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=B=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:(new Date).getTime(),s=void 0!==e.nsecs?e.nsecs:X+1,l=c-G+(s-X)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||c>G)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");G=c,X=s,B=a;var f=(1e4*(268435455&(c+=122192928e5))+s)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var d=c/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var v=0;v<6;++v)o[r+v]=i[v];return n||function(e,n){var t=0,r=$;return[r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]]].join("")}(o)},Q=["debug","info","warn","error","none"];function Y(e,n){if(e&&e.destination&&"function"!=typeof e.destination)throw new Error("destination for basicLogger was set to a non-function");function t(e){return function(n){console&&console[e]}}var r=e&&e.destination?[e.destination,e.destination,e.destination,e.destination]:[t("log"),t("info"),t("warn"),t("error")],o=!(!e||!e.destination),a=e&&void 0!==e.prefix&&null!==e.prefix?e.prefix:"[LaunchDarkly] ",u=1;if(e&&e.level)for(var c=0;c<Q.length;c++)Q[c]===e.level&&(u=c);function s(e,t,u){if(!(u.length<1)){var c,s=o?t+": "+a:a;if(1!==u.length&&n){var l=ldclient_es_i(u);l[0]=s+l[0],c=n.apply(void 0,ldclient_es_i(l))}else c=s+u[0];try{r[e](c)}catch(e){console&&console.log}}}for(var l={},f=function(e){var n=Q[e];if("none"!==n)if(e<u)l[n]=function(){};else{var t=e;l[n]=function(){s(t,n,arguments)}}},d=0;d<Q.length;d++)f(d);return l}function Z(e,n){return Y({level:e,prefix:n})}function ee(e){return e&&e.message?e.message:"string"==typeof e||e instanceof String?e:JSON.stringify(e)}var ne=" Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization.",te=function(e){return'Expected application/json content type but got "'+e+'"'},re=function(e){return"local storage is unavailable: "+ee(e)},oe=function(e){return"network error"+(e?" ("+e+")":"")},ie=function(e){return'Custom event "'+e+'" does not exist'},ae=function(){return"Environment not found. Double check that you specified a valid environment/client-side ID."+ne},ue=function(){return"No environment/client-side ID was specified."+ne},ce=function(e){return"Error fetching flag settings: "+ee(e)},se=function(){return"No user specified."+ne},le=function(){return"Invalid user specified."+ne},fe=function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly."+ne},de=function(e,n){return n?'"'+e+'" is deprecated, please use "'+n+'"':'"'+e+'" is deprecated'},ve=function(e,n,t){return"Received error "+e+(401===e?" (invalid SDK key)":"")+" for "+n+" - "+(m(e)?t:"giving up permanently")},ge=function(){return"Cannot make HTTP requests in this environment."+ne},pe=function(e){return"Opening stream connection to "+e},me=function(e,n){return"Error on stream connection: "+ee(e)+", will continue retrying after "+n+" milliseconds."},he=function(e){return"Error on stream connection ".concat(ee(e),", giving up permanently")},ye=function(e){return'Ignoring unknown config option "'+e+'"'},we=function(e,n,t){return'Config option "'+e+'" should be of type '+n+", got "+t+", using default value"},be=function(e,n){return'Config option "'+e+'" should be a boolean, got '+n+", converting to boolean"},Ee=function(e,n,t){return'Config option "'+e+'" was set to '+n+", changing to minimum value of "+t},ke=function(e){return"polling for feature flags at "+e},De=function(e){return'received streaming update for flag "'+e+'"'},Se=function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},Oe=function(e){return'received streaming deletion for flag "'+e+'"'},Pe=function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},Ue=function(e){return'enqueueing "'+e+'" event'},Ie=function(e){return"sending "+e+" events"},je=function(e){return'Config option "'.concat(e,'" must only contain letters, numbers, ., _ or -.')},Re=function(e,n){return'an inspector: "'.concat(n,'" of an invalid type (').concat(e,") was configured")},Te=function(e,n){return'an inspector: "'.concat(n,'" of type: "').concat(e,'" generated an exception')},Ce=function(e){return'Value of "'.concat(e,'" was longer than 64 characters and was discarded.')},Le=Object.freeze({__proto__:null,clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutUser:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},invalidContentType:te,invalidKey:function(){return"Event key must be a string"},localStorageUnavailable:re,networkError:oe,unknownCustomEventKey:ie,environmentNotFound:ae,environmentNotSpecified:ue,errorFetchingFlags:ce,userNotSpecified:se,invalidUser:le,invalidData:function(){return"Invalid data received from LaunchDarkly; connection may have been interrupted"},bootstrapOldFormat:fe,bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},deprecated:de,httpErrorMessage:ve,httpUnavailable:ge,identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},streamClosing:function(){return"Closing stream connection"},streamConnecting:pe,streamError:me,unrecoverableStreamError:he,unknownOption:ye,wrongOptionType:we,wrongOptionTypeBoolean:be,optionBelowMinimum:Ee,debugPolling:ke,debugStreamPing:function(){return"received ping message from stream"},debugStreamPut:function(){return"received streaming update for all flags"},debugStreamPatch:De,debugStreamPatchIgnored:Se,debugStreamDelete:Oe,debugStreamDeleteIgnored:Pe,debugEnqueueingEvent:Ue,debugPostingEvents:Ie,debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"},invalidTagValue:je,invalidInspector:Re,inspectorMethodError:Te,tagValueTooLong:Ce}),Ae={baseUrl:{default:"https://app.launchdarkly.com"},streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},inlineUsersInEvents:{default:!1},allowFrequentDuplicateEvents:{default:!1},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2e3,minimum:2e3},samplingInterval:{default:0,minimum:0},streamReconnectDelay:{default:1e3,minimum:0},allAttributesPrivate:{default:!1},privateAttributeNames:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9e5,minimum:2e3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},autoAliasingOptOut:{default:!1},application:{validator:function(e,n,t){var r={};return n.id&&(r.id=Fe("".concat(e,".id"),n.id,t)),n.version&&(r.version=Fe("".concat(e,".version"),n.version,t)),r}},inspectors:{default:[]}},xe=/^(\w|\.|-)+$/;function Fe(e,n,t){if("string"==typeof n&&n.match(xe)){if(!(n.length>64))return n;t.warn(Ce(e))}else t.warn(je(e))}function Ne(e,n,r,o){var i=_({logger:{default:o}},Ae,r),a={all_attributes_private:"allAttributesPrivate",private_attribute_names:"privateAttributeNames",samplingInterval:null,allowFrequentDuplicateEvents:void 0};function u(e){L((function(){n&&n.maybeReportError(new v(e))}))}var c=_({},e||{});return function(e){var n=e;Object.keys(a).forEach((function(e){if(void 0!==n[e]){var t=a[e];o&&o.warn(de(e,t)),t&&(void 0===n[t]&&(n[t]=n[e]),delete n[e])}}))}(c),function(e){Q.forEach((function(n){if("none"!==n&&(!e[n]||"function"!=typeof e[n]))throw new Error("Provided logger instance must support logger."+n+"(...) method")}))}((c=function(e){var n=_({},e),r=function(e){if(null===e)return"any";if(void 0!==e){if(Array.isArray(e))return"array";var n=t(e);return"boolean"===n||"string"===n||"number"===n||"function"===n?n:"object"}};return Object.keys(e).forEach((function(t){var a=e[t];if(null!=a){var c=i[t];if(void 0===c)u(ye(t));else{var s=c.type||r(c.default),l=c.validator;if(l){var f=l(t,e[t],o);void 0!==f?n[t]=f:delete n[t]}else if("any"!==s){var d=s.split("|"),v=r(a);d.indexOf(v)<0?"boolean"===s?(n[t]=!!a,u(be(t,v))):(u(we(t,s,v)),n[t]=c.default):"number"===v&&void 0!==c.minimum&&a<c.minimum&&(u(Ee(t,a,c.minimum)),n[t]=c.minimum)}}}})),n}(c=function(e){var n=_({},e);return Object.keys(i).forEach((function(e){void 0!==n[e]&&null!==n[e]||(n[e]=i[e]&&i[e].default)})),n}(c))).logger),c}function qe(e){var n={};return e&&(e.application&&void 0!==e.application.id&&null!==e.application.id&&(n["application-id"]=[e.application.id]),e.application&&void 0!==e.application.version&&null!==e.application.id&&(n["application-version"]=[e.application.version])),n}function _e(e,n){if(n&&!n.sendLDHeaders)return{};var t={"X-LaunchDarkly-User-Agent":q(e)};n&&n.wrapperName&&(t["X-LaunchDarkly-Wrapper"]=n.wrapperVersion?n.wrapperName+"/"+n.wrapperVersion:n.wrapperName);var r=qe(n),o=Object.keys(r);return o.length&&(t["x-launchdarkly-tags"]=o.sort().map((function(e){return Array.isArray(r[e])?r[e].sort().map((function(n){return"".concat(e,"/").concat(n)})):["".concat(e,"/").concat(r[e])]})).reduce((function(e,n){return e.concat(n)}),[]).join(" ")),t}function Ve(e,t){return t&&t.requestHeaderTransform?t.requestHeaderTransform(n({},e)):e}function Me(e,n,t){var r="/a/"+n+".gif",o=_({"Content-Type":"application/json"},_e(e,t)),i=e.httpFallbackPing,a={sendChunk:function(n,a,u,c){var s=JSON.stringify(n),l=u?null:W();return c?function n(r){var i=u?o:_({},o,{"X-LaunchDarkly-Event-Schema":"3","X-LaunchDarkly-Payload-ID":l});return e.httpRequest("POST",a,Ve(i,t),s).promise.then((function(e){if(e)return e.status>=400&&m(e.status)&&r?n(!1):function(e){var n={status:e.status},t=e.header("date");if(t){var r=Date.parse(t);r&&(n.serverTime=r)}return n}(e)})).catch((function(){return r?n(!1):Promise.reject()}))}(!0).catch((function(){})):(i&&i(a+r+"?d="+R(s)),Promise.resolve())},sendEvents:function(n,t,r){if(!e.httpRequest)return Promise.resolve();var o,i=e.httpAllowsPost();o=i?[n]:N(2e3-t.length,n);for(var u=[],c=0;c<o.length;c++)u.push(a.sendChunk(o[c],t,r,i));return Promise.all(u)}};return a}function ze(){var e={},n=0,t=0,r={};return e.summarizeEvent=function(e){if("feature"===e.kind){var o=e.key+":"+(null!==e.variation&&void 0!==e.variation?e.variation:"")+":"+(null!==e.version&&void 0!==e.version?e.version:""),i=r[o];i?i.count=i.count+1:r[o]={count:1,key:e.key,variation:e.variation,version:e.version,value:e.value,default:e.default},(0===n||e.creationDate<n)&&(n=e.creationDate),e.creationDate>t&&(t=e.creationDate)}},e.getSummary=function(){var e={},o=!0;for(var i in r){var a=r[i],u=e[a.key];u||(u={default:a.default,counters:[]},e[a.key]=u);var c={value:a.value,count:a.count};void 0!==a.variation&&null!==a.variation&&(c.variation=a.variation),a.version?c.version=a.version:c.unknown=!0,u.counters.push(c),o=!1}return o?null:{startDate:n,endDate:t,features:e}},e.clearSummary=function(){n=0,t=0,r={}},e}function Je(e){var n={},t=e.allAttributesPrivate,r=e.privateAttributeNames||[],o={key:!0,custom:!0,anonymous:!0},i={key:!0,secondary:!0,ip:!0,country:!0,email:!0,firstName:!0,lastName:!0,avatar:!0,name:!0,anonymous:!0,custom:!0};return n.filterUser=function(e){if(!e)return null;var n=e.privateAttributeNames||[],a=function(e,i){return Object.keys(e).reduce((function(a,u){var c=a;return i(u)&&(function(e){return!o[e]&&(t||-1!==n.indexOf(e)||-1!==r.indexOf(e))}(u)?c[1][u]=!0:c[0][u]=e[u]),c}),[{},{}])},u=a(e,(function(e){return i[e]})),c=u[0],s=u[1];if(e.custom){var l=a(e.custom,(function(){return!0}));c.custom=l[0],s=_({},s,l[1])}var f=Object.keys(s);return f.length&&(f.sort(),c.privateAttrs=f),c},n}function $e(e,n,t,r){var o={};function i(){var e="",o=r.getUser();return o&&(e=t||j(JSON.stringify(o))),"ld:"+n+":"+e}return o.loadFlags=function(){return e.get(i()).then((function(e){if(null==e)return null;try{var n=JSON.parse(e);if(n){var t=n.$schema;void 0===t||t<1?n=x(n):delete n.$schema}return n}catch(e){return o.clearFlags().then((function(){return null}))}}))},o.saveFlags=function(n){var t=_({},n,{$schema:1});return e.set(i(),JSON.stringify(t))},o.clearFlags=function(){return e.clear(i())},o}function He(e,n,t,r){var o,i=n.streamUrl,a=n.logger,u={},c=I(i,"/eval/"+t),s=n.useReport,l=n.evaluationReasons,f=n.streamReconnectDelay,d=_e(e,n),v=!1,g=null,p=null,h=null,y=null,w=null,b=0;function E(e){if(e.status&&"number"==typeof e.status&&!m(e.status))return S(),a.error(he(e)),void(p&&(clearTimeout(p),p=null));var n=function(){var e,n=(e=function(){var e=f*Math.pow(2,b);return e>3e4?3e4:e}())-Math.trunc(.5*Math.random()*e);return b+=1,n}();v||(a.warn(me(e,n)),v=!0),O(!1),S(),k(n)}function k(e){p||(e?p=setTimeout(D,e):D())}function D(){var r;p=null;var u="",f={headers:d,readTimeoutMillis:3e5};if(e.eventSourceFactory){for(var v in null!=y&&(u="h="+y),s?e.eventSourceAllowsReport?(r=c,f.method="REPORT",f.headers["Content-Type"]="application/json",f.body=JSON.stringify(h)):(r=I(i,"/ping/"+t),u=""):r=c+"/"+R(JSON.stringify(h)),f.headers=Ve(f.headers,n),l&&(u=u+(u?"&":"")+"withReasons=true"),r=r+(u?"?":"")+u,S(),a.info(pe(r)),o=(new Date).getTime(),g=e.eventSourceFactory(r,f),w)V(w,v)&&g.addEventListener(v,w[v]);g.onerror=E,g.onopen=function(){b=0}}}function S(){g&&(a.info("Closing stream connection"),g.close(),g=null)}function O(e){o&&r&&r.recordStreamInit(o,!e,(new Date).getTime()-o),o=null}return u.connect=function(e,n,t){h=e,y=n,w={};var r=function(e){w[e]=function(n){v=!1,O(!0),t[e]&&t[e](n)}};for(var o in t||{})r(o);k()},u.disconnect=function(){clearTimeout(p),p=null,S()},u.isConnected=function(){return!!(g&&e.eventSourceIsActive&&e.eventSourceIsActive(g))},u}function Ke(e,n,t){var r=n.baseUrl,o=n.useReport,i=n.evaluationReasons,a=n.logger,u={},c={};function s(t,r){if(!e.httpRequest)return new Promise((function(e,n){n(new g(ge()))}));var o=r?"REPORT":"GET",i=_e(e,n);r&&(i["Content-Type"]="application/json");var a=c[t];a||(a=function(e){var n,t,r,o,i={addPromise:function(i,a){n=i,t&&t(),t=a,i.then((function(t){n===i&&(r(t),e&&e())}),(function(t){n===i&&(o(t),e&&e())}))}};return i.resultPromise=new Promise((function(e,n){r=e,o=n})),i}((function(){delete c[t]})),c[t]=a);var u=e.httpRequest(o,t,Ve(i,n),r),s=u.promise.then((function(e){if(200===e.status){if(e.header("content-type")&&"application/json"===e.header("content-type").substring(0,"application/json".length))return JSON.parse(e.body);var n=te(e.header("content-type")||"");return Promise.reject(new g(n))}return Promise.reject(function(e){return 404===e.status?new l(ae()):new g(ce(e.statusText||String(e.status)))}(e))}),(function(e){return Promise.reject(new g(oe(e)))}));return a.addPromise(s,(function(){u.cancel&&u.cancel()})),a.resultPromise}return u.fetchJSON=function(e){return s(I(r,e),null)},u.fetchFlagSettings=function(e,n){var u,c,l,f="";return o?(c=[r,"/sdk/evalx/",t,"/user"].join(""),l=JSON.stringify(e)):(u=R(JSON.stringify(e)),c=[r,"/sdk/evalx/",t,"/users/",u].join("")),n&&(f="h="+n),i&&(f=f+(f?"&":"")+"withReasons=true"),c=c+(f?"?":"")+f,a.debug(ke(c)),s(c,l)},u}function Be(e){return{validateUser:function(n){if(!n)return Promise.reject(new f(se()));var t=T(n);return null!==t.key&&void 0!==t.key?(t.key=t.key.toString(),Promise.resolve(t)):t.anonymous?e.get("ld:$anonUserId").then((function(n){if(n)return t.key=n,t;var r=W();return t.key=r,function(n){return e.set("ld:$anonUserId",n)}(r).then((function(){return t}))})):Promise.reject(new f(le()))}}}var Ge=Object.freeze({__proto__:null,baseOptionDefs:Ae,validate:Ne,getTags:qe}).baseOptionDefs,Xe=z.appendUrlPath,We=function(e){var n={diagnosticId:W()};return e&&(n.sdkKeySuffix=e.length>6?e.substring(e.length-6):e),n},Qe={flagUsed:"flag-used",flagDetailsChanged:"flag-details-changed",flagDetailChanged:"flag-detail-changed",clientIdentityChanged:"client-identity-changed"};function Ye(e,n){var t,o={},i=(r(t={},Qe.flagUsed,[]),r(t,Qe.flagDetailsChanged,[]),r(t,Qe.flagDetailChanged,[]),r(t,Qe.clientIdentityChanged,[]),t);return(null==e?void 0:e.map((function(e){return function(e,n){var t=!1,r={type:e.type,name:e.name,method:function(){try{e.method.apply(e,arguments)}catch(e){t||(t=!0,n.warn(Te(r.type,r.name)))}}};return r}(e,n)}))).forEach((function(e){Object.prototype.hasOwnProperty.call(i,e.type)?i[e.type].push(e):n.warn(Re(e.type,e.name))})),o.hasListeners=function(e){var n;return null===(n=i[e])||void 0===n?void 0:n.length},o.onFlagUsed=function(e,n,t){i[Qe.flagUsed].length&&L((function(){i[Qe.flagUsed].forEach((function(r){return r.method(e,n,t)}))}))},o.onFlags=function(e){i[Qe.flagDetailsChanged].length&&L((function(){i[Qe.flagDetailsChanged].forEach((function(n){return n.method(e)}))}))},o.onFlagChanged=function(e,n){i[Qe.flagDetailChanged].length&&L((function(){i[Qe.flagDetailChanged].forEach((function(t){return t.method(e,n)}))}))},o.onIdentityChanged=function(e){i[Qe.clientIdentityChanged].length&&L((function(){i[Qe.clientIdentityChanged].forEach((function(n){return n.method(e)}))}))},o}function Ze(e,r,i,a,u){var c,f,v,h=i&&i.logger?i.logger:u&&u.logger&&u.logger.default||Z("warn"),y=function(e){var n={},t={};return n.on=function(e,n,r){t[e]=t[e]||[],t[e]=t[e].concat({handler:n,context:r})},n.off=function(e,n,r){if(t[e])for(var o=0;o<t[e].length;o++)t[e][o].handler===n&&t[e][o].context===r&&(t[e]=t[e].slice(0,o).concat(t[e].slice(o+1)))},n.emit=function(e){if(t[e])for(var n=t[e].slice(0),r=0;r<n.length;r++)n[r].handler.apply(n[r].context,Array.prototype.slice.call(arguments,1))},n.getEvents=function(){return Object.keys(t)},n.getEventListenerCount=function(e){return t[e]?t[e].length:0},n.maybeReportError=function(n){n&&(t.error?this.emit("error",n):(e||console).error(n.message))},n}(h),w=function(e){var n=!1,t=!1,r=null,o=null,i=new Promise((function(n){e.on("ready",(function t(){e.off("ready",t),n()}))})).catch((function(){}));return{getInitializationPromise:function(){return o||(n?Promise.resolve():t?Promise.reject(r):o=new Promise((function(n,t){e.on("initialized",(function t(){e.off("initialized",t),n()})),e.on("failed",(function n(r){e.off("failed",n),t(r)}))})))},getReadyPromise:function(){return i},signalSuccess:function(){n||t||(n=!0,e.emit("initialized"),e.emit("ready"))},signalFailure:function(o){n||t||(t=!0,r=o,e.emit("failed",o),e.emit("ready")),e.maybeReportError(o)}}}(y),b=Ne(i,y,u,h),E=Ye(b.inspectors,h),k=b.sendEvents,D=e,S=b.hash,O=function(e,n){var t={},r=!1,o=function(e){r||(r=!0,n.warn(re(e)))};return t.isEnabled=function(){return!!e},t.get=function(n){return new Promise((function(t){e?e.get(n).then(t).catch((function(e){o(e),t(void 0)})):t(void 0)}))},t.set=function(n,t){return new Promise((function(r){e?e.set(n,t).then((function(){return r(!0)})).catch((function(e){o(e),r(!1)})):r(!1)}))},t.clear=function(n){return new Promise((function(t){e?e.clear(n).then((function(){return t(!0)})).catch((function(e){o(e),t(!1)})):t(!1)}))},t}(a.localStorage,h),P=Me(a,D,b),U=b.sendEvents&&!b.diagnosticOptOut,j=U?We(D):null,R=U?function(e){var n,t,r,o;function i(e){n=e,t=0,r=0,o=[]}return i((new Date).getTime()),{getProps:function(){return{dataSinceDate:n,droppedEvents:t,eventsInLastBatch:r,streamInits:o}},setProps:function(e){n=e.dataSinceDate,t=e.droppedEvents||0,r=e.eventsInLastBatch||0,o=e.streamInits||[]},incrementDroppedEvents:function(){t++},setEventsInLastBatch:function(e){r=e},recordStreamInit:function(e,n,t){var r={timestamp:e,failed:n,durationMillis:t};o.push(r)},reset:i}}():null,x=U?function(e,t,r,o,i,a,u){var c,s,l=!!e.diagnosticUseCombinedEvent,f="ld:"+i+":$diagnostics",d=Xe(a.eventsUrl,"/events/diagnostic/"+i),v=a.diagnosticRecordingInterval,g=r,p=!!a.streaming,m={};function h(){return{sdk:b(),configuration:(n={customBaseURI:a.baseUrl!==Ge.baseUrl.default,customStreamURI:a.streamUrl!==Ge.streamUrl.default,customEventsURI:a.eventsUrl!==Ge.eventsUrl.default,eventsCapacity:a.eventCapacity,eventsFlushIntervalMillis:a.flushInterval,reconnectTimeMillis:a.streamReconnectDelay,streamingDisabled:!p,allAttributesPrivate:!!a.allAttributesPrivate,inlineUsersInEvents:!!a.inlineUsersInEvents,diagnosticRecordingIntervalMillis:a.diagnosticRecordingInterval,usingSecureMode:!!a.hash,bootstrapMode:!!a.bootstrap,fetchGoalsDisabled:!a.fetchGoals,sendEventsOnlyForVariation:!!a.sendEventsOnlyForVariation,autoAliasingOptOut:!!a.autoAliasingOptOut},n),platform:e.diagnosticPlatformData};var n}function y(e){a.logger&&a.logger.debug(Le.debugPostingDiagnosticEvent(e)),o.sendEvents(e,d,!0).then((function(){})).catch((function(){}))}function w(){var e,r;y((e=(new Date).getTime(),r=n({kind:l?"diagnostic-combined":"diagnostic",id:u,creationDate:e},g.getProps()),l&&(r=n(n({},r),h())),g.reset(e),r)),s=setTimeout(w,v),c=(new Date).getTime(),l&&function(){if(t.isEnabled()){var e=n({},g.getProps());t.set(f,JSON.stringify(e))}}()}function b(){var t=n({},e.diagnosticSdkData);return a.wrapperName&&(t.wrapperName=a.wrapperName),a.wrapperVersion&&(t.wrapperVersion=a.wrapperVersion),t}return m.start=function(){l?function(e){if(!t.isEnabled())return e(!1);t.get(f).then((function(n){if(n)try{var t=JSON.parse(n);g.setProps(t),c=t.dataSinceDate}catch(e){}e(!0)})).catch((function(){e(!1)}))}((function(e){if(e){var n=(c||0)+v,t=(new Date).getTime();t>=n?w():s=setTimeout(w,n-t)}else 0===Math.floor(4*Math.random())?w():s=setTimeout(w,v)})):(y(n({kind:"diagnostic-init",id:u,creationDate:g.getProps().dataSinceDate},h())),s=setTimeout(w,v))},m.stop=function(){s&&clearTimeout(s)},m.setStreaming=function(e){p=e},m}(a,O,R,P,D,b,j):null,N=He(a,b,D,R),q=b.eventProcessor||function(e,n,t){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u={},c=a||Me(e,t,n),l=I(n.eventsUrl,"/events/bulk/"+t),f=ze(),d=Je(n),v=n.inlineUsersInEvents,g=n.samplingInterval,p=n.eventCapacity,h=n.flushInterval,y=n.logger,w=[],b=0,E=!1,k=!1;function D(){return 0===g||0===Math.floor(Math.random()*g)}function S(e){return!!e.debugEventsUntilDate&&e.debugEventsUntilDate>b&&e.debugEventsUntilDate>(new Date).getTime()}function O(e){var n=_({},e);return"alias"===e.kind||(v||"identify"===e.kind?n.user=d.filterUser(e.user):(n.userKey=e.user.key,delete n.user),"feature"===e.kind&&(delete n.trackEvents,delete n.debugEventsUntilDate)),n}function P(e){w.length<p?(w.push(e),k=!1):(k||(k=!0,y.warn("Exceeded event queue capacity. Increase capacity to avoid dropping events.")),o&&o.incrementDroppedEvents())}return u.enqueue=function(e){if(!E){var n=!1,t=!1;if(f.summarizeEvent(e),"feature"===e.kind?D()&&(n=!!e.trackEvents,t=S(e)):n=D(),n&&P(O(e)),t){var r=_({},e,{kind:"debug"});r.user=d.filterUser(r.user),delete r.trackEvents,delete r.debugEventsUntilDate,P(r)}}},u.flush=function(){if(E)return Promise.resolve();var e=w,n=f.getSummary();return f.clearSummary(),n&&(n.kind="summary",e.push(n)),o&&o.setEventsInLastBatch(e.length),0===e.length?Promise.resolve():(w=[],y.debug(Ie(e.length)),c.sendEvents(e,l).then((function(e){e&&(e.serverTime&&(b=e.serverTime),m(e.status)||(E=!0),e.status>=400&&L((function(){i.maybeReportError(new s(ve(e.status,"event posting","some events were dropped")))})))})))},u.start=function(){r=setTimeout((function e(){u.flush(),r=setTimeout(e,h)}),h)},u.stop=function(){clearTimeout(r)},u}(a,b,D,R,y,P),z=Ke(a,b,D),J={},$=b.streaming,H=!1,K=!1,B=!0,G=b.stateProvider,X=function(e,n){var t;return{setUser:function(e){var r=t&&T(t);(t=M(e))&&n&&n(T(t),r)},getUser:function(){return t?T(t):null}}}(0,(function(e,n){(function(e){G||e&&Y({kind:"identify",key:e.key,user:e,creationDate:(new Date).getTime()})})(e),!b.autoAliasingOptOut&&n&&n.anonymous&&e&&!e.anonymous&&le(e,n),E.hasListeners(Qe.clientIdentityChanged)&&E.onIdentityChanged(X.getUser())})),W=Be(O),Q=O.isEnabled()?new $e(O,D,S,X):null;function Y(e){if(D&&!(G&&G.enqueueEvent&&G.enqueueEvent(e))){if("alias"!==e.kind){if(!e.user)return void(B&&(h.warn("Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"),B=!1));B=!1}!k||K||a.isDoNotTrack()||(h.debug(Ue(e.kind)),q.enqueue(e))}}function ee(e,n){E.hasListeners(Qe.flagDetailChanged)&&E.onFlagChanged(e.key,ae(n))}function ne(){E.hasListeners(Qe.flagDetailsChanged)&&E.onFlags(Object.entries(J).map((function(e){var n=o(e,2);return{key:n[0],detail:ae(n[1])}})).reduce((function(e,n){return e[n.key]=n.detail,e}),{}))}function te(e,n,t,r){var o=X.getUser(),i=new Date,a={kind:"feature",key:e,user:o,value:n?n.value:null,variation:n?n.variationIndex:null,default:t,creationDate:i.getTime()};o&&o.anonymous&&(a.contextKind=se(o));var u=J[e];u&&(a.version=u.flagVersion?u.flagVersion:u.version,a.trackEvents=u.trackEvents,a.debugEventsUntilDate=u.debugEventsUntilDate),(r||u&&u.trackReason)&&n&&(a.reason=n.reason),Y(a)}function oe(e,n,t,r,o){var i;if(J&&V(J,e)&&J[e]&&!J[e].deleted){var a=J[e];i=ae(a),null!==a.value&&void 0!==a.value||(i.value=n)}else i={value:n,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}};return t&&te(e,i,n,r),o||function(e,n){E.hasListeners(Qe.flagUsed)&&E.onFlagUsed(e,n,X.getUser())}(e,i),i}function ae(e){return{value:e.value,variationIndex:void 0===e.variation?null:e.variation,reason:e.reason||null}}function se(e){return e.anonymous?"anonymousUser":"user"}function le(e,n){G||e&&n&&Y({kind:"alias",key:e.key,contextKind:se(e),previousKey:n.key,previousContextKind:se(n),creationDate:(new Date).getTime()})}function de(){if(f=!0,X.getUser()){var e=function(e){try{return JSON.parse(e)}catch(e){return void y.maybeReportError(new p("Invalid data received from LaunchDarkly; connection may have been interrupted"))}};N.connect(X.getUser(),S,{ping:function(){h.debug("received ping message from stream");var e=X.getUser();z.fetchFlagSettings(e,S).then((function(n){C(e,X.getUser())&&pe(n||{})})).catch((function(e){y.maybeReportError(new g(ce(e)))}))},put:function(n){var t=e(n.data);t&&(h.debug("received streaming update for all flags"),pe(t))},patch:function(n){var t=e(n.data);if(t){var r=J[t.key];if(!r||!r.version||!t.version||r.version<t.version){h.debug(De(t.key));var o={},i=_({},t);delete i.key,J[t.key]=i;var a=ae(i);o[t.key]=r?{previous:r.value,current:a}:{current:a},me(o),ee(t,i)}else h.debug(Se(t.key))}},delete:function(n){var t=e(n.data);if(t)if(!J[t.key]||J[t.key].version<t.version){h.debug(Oe(t.key));var r={};J[t.key]&&!J[t.key].deleted&&(r[t.key]={previous:J[t.key].value}),J[t.key]={version:t.version,deleted:!0},ee(t,J[t.key]),me(r)}else h.debug(Pe(t.key))}})}}function ge(){f&&(N.disconnect(),f=!1)}function pe(e){var t={};if(!e)return Promise.resolve();for(var r in J)V(J,r)&&J[r]&&(e[r]&&!C(e[r].value,J[r].value)?t[r]={previous:J[r].value,current:ae(e[r])}:e[r]&&!e[r].deleted||(t[r]={previous:J[r].value}));for(var o in e)V(e,o)&&e[o]&&(!J[o]||J[o].deleted)&&(t[o]={current:ae(e[o])});return J=n({},e),ne(),me(t).catch((function(){}))}function me(e){var n=Object.keys(e);if(n.length>0){var t={};n.forEach((function(n){var r=e[n].current,o=r?r.value:void 0,i=e[n].previous;y.emit("change:"+n,o,i),t[n]=r?{current:o,previous:i}:{previous:i}})),y.emit("change",t),y.emit("internal-change",J),b.sendEventsOnlyForVariation||G||n.forEach((function(n){te(n,e[n].current)}))}return c&&Q?Q.saveFlags(J):Promise.resolve()}function he(){var e=$||v&&void 0===$;e&&!f?de():!e&&f&&ge(),x&&x.setStreaming(e)}function ye(e){return"change"===e||"change:"===e.substr(0,"change".length+1)}if("string"==typeof b.bootstrap&&"LOCALSTORAGE"===b.bootstrap.toUpperCase()&&(Q?c=!0:h.warn(re())),"object"===t(b.bootstrap)&&(J=function(e){var n=Object.keys(e),t=e.$flagsState;!t&&n.length&&h.warn(fe()),!1===e.$valid&&h.warn("LaunchDarkly bootstrap data is not available because the back end could not read the flags.");var r={};return n.forEach((function(n){if("$flagsState"!==n&&"$valid"!==n){var o={value:e[n]};t&&t[n]?o=_(o,t[n]):o.version=0,r[n]=o}})),r}(b.bootstrap)),G){var we=G.getInitialState();we?be(we):G.on("init",be),G.on("update",(function(e){e.user&&X.setUser(e.user),e.flags&&pe(e.flags)}))}else(e?W.validateUser(r).then((function(e){return X.setUser(e),"object"===t(b.bootstrap)?Ee():c?Q.loadFlags().then((function(e){return null==e?(J={},z.fetchFlagSettings(X.getUser(),S).then((function(e){return pe(e||{})})).then(Ee).catch((function(e){ke(new g(ce(e)))}))):(J=e,L(Ee),z.fetchFlagSettings(X.getUser(),S).then((function(e){return pe(e)})).catch((function(e){return y.maybeReportError(e)})))})):z.fetchFlagSettings(X.getUser(),S).then((function(e){J=e||{},ne(),Ee()})).catch((function(e){J={},ke(e)}))})):Promise.reject(new l(ue()))).catch(ke);function be(e){D=e.environment,X.setUser(e.user),J=n({},e.flags),L(Ee)}function Ee(){h.info("LaunchDarkly client initialized"),H=!0,he(),w.signalSuccess()}function ke(e){w.signalFailure(e)}return{client:{waitForInitialization:function(){return w.getInitializationPromise()},waitUntilReady:function(){return w.getReadyPromise()},identify:function(e,n,t){return K?A(Promise.resolve({}),t):G?(h.warn("identify() has no effect here; it must be called on the main client instance"),A(Promise.resolve(F(J)),t)):A((c&&Q?Q.clearFlags():Promise.resolve()).then((function(){return W.validateUser(e)})).then((function(e){return z.fetchFlagSettings(e,n).then((function(t){var r=F(t);return X.setUser(e),S=n,t?pe(t).then((function(){return r})):r}))})).then((function(e){return f&&de(),e})).catch((function(e){return y.maybeReportError(e),Promise.reject(e)})),t)},getUser:function(){return X.getUser()},variation:function(e,n){return oe(e,n,!0,!1,!1).value},variationDetail:function(e,n){return oe(e,n,!0,!0,!1)},track:function(e,n,t){if("string"==typeof e){a.customEventFilter&&!a.customEventFilter(e)&&h.warn(ie(e));var r=X.getUser(),o={kind:"custom",key:e,user:r,url:a.getCurrentUrl(),creationDate:(new Date).getTime()};r&&r.anonymous&&(o.contextKind=se(r)),null!=n&&(o.data=n),null!=t&&(o.metricValue=t),Y(o)}else y.maybeReportError(new d(ie(e)))},alias:le,on:function(e,n,t){ye(e)?(v=!0,H&&he(),y.on(e,n,t)):y.on.apply(y,arguments)},off:function(e){if(y.off.apply(y,arguments),ye(e)){var n=!1;y.getEvents().forEach((function(e){ye(e)&&y.getEventListenerCount(e)>0&&(n=!0)})),n||(v=!1,f&&void 0===$&&ge())}},setStreaming:function(e){var n=null===e?void 0:e;n!==$&&($=n,he())},flush:function(e){return A(k?q.flush():Promise.resolve(),e)},allFlags:function(){var e={};if(!J)return e;for(var n in J)V(J,n)&&!J[n].deleted&&(e[n]=oe(n,null,!b.sendEventsOnlyForVariation,!1,!0).value);return e},close:function(e){if(K)return A(Promise.resolve(),e);var n=function(){K=!0,J={}};return A(Promise.resolve().then((function(){if(ge(),x&&x.stop(),k)return q.stop(),q.flush()})).then(n).catch(n),e)}},options:b,emitter:y,ident:X,logger:h,requestor:z,start:function(){k&&(x&&x.start(),q.start())},enqueueEvent:Y,getFlagsInternal:function(){return J},getEnvironmentId:function(){return D},internalChangeEventName:"internal-change"}}function en(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?en(Object(t),!0).forEach((function(n){tn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):en(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function tn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.freeze(Qe);Object.freeze({__proto__:null,commonBasicLogger:Y,createConsoleLogger:Z,get errors(){return h},initialize:Ze,messages:Le,utils:z,version:"3.8.2"}).commonBasicLogger;var an={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function cn(e){var n,t={synchronousFlush:!1};if(window.XMLHttpRequest){var r=e&&e.disableSyncEventPost;t.httpRequest=function(e,n,o,i){var a=t.synchronousFlush&!r;return t.synchronousFlush=!1,function(e,n,t,r,o){if(o&&!function(){var e=window.navigator&&window.navigator.userAgent;if(e){var n=e.match(/Chrom(e|ium)\/([0-9]+)\./);if(n)return parseInt(n[2],10)<73}return!0}())return an;var u,i=new window.XMLHttpRequest;for(var a in i.open(e,n,!o),t||{})Object.prototype.hasOwnProperty.call(t,a)&&i.setRequestHeader(a,t[a]);return o?(i.send(r),an):{promise:new Promise((function(e,n){i.addEventListener("load",(function(){u||e({status:i.status,header:function(e){return i.getResponseHeader(e)},body:i.responseText})})),i.addEventListener("error",(function(){u||n(new Error)})),i.send(r)})),cancel:function(){u=!0,i.abort()}}}(e,n,o,i,a)}}t.httpAllowsPost=function(){return void 0===n&&(n=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),n},t.httpFallbackPing=function(e){(new window.Image).src=e};var o,i=e&&e.eventUrlTransformer;t.getCurrentUrl=function(){return i?i(window.location.href):window.location.href},t.isDoNotTrack=function(){var e;return 1===(e=window.navigator&&void 0!==window.navigator.doNotTrack?window.navigator.doNotTrack:window.navigator&&void 0!==window.navigator.msDoNotTrack?window.navigator.msDoNotTrack:window.doNotTrack)||!0===e||"1"===e||"yes"===e};try{window.localStorage&&(t.localStorage={get:function(e){return new Promise((function(n){n(window.localStorage.getItem(e))}))},set:function(e,n){return new Promise((function(t){window.localStorage.setItem(e,n),t()}))},clear:function(e){return new Promise((function(n){window.localStorage.removeItem(e),n()}))}})}catch(e){t.localStorage=null}if(e&&e.useReport&&"function"==typeof window.EventSourcePolyfill&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(t.eventSourceAllowsReport=!0,o=window.EventSourcePolyfill):(t.eventSourceAllowsReport=!1,o=window.EventSource),window.EventSource){var a=3e5;t.eventSourceFactory=function(e,n){var t=nn(nn({},{heartbeatTimeout:a,silentTimeout:a,skipDefaultHeaders:!0}),n);return new o(e,t)},t.eventSourceIsActive=function(e){return e.readyState===window.EventSource.OPEN||e.readyState===window.EventSource.CONNECTING}}return t.userAgent="JSClient",t.version="2.24.2",t.diagnosticSdkData={name:"js-client-sdk",version:"2.24.2"},t.diagnosticPlatformData={name:"JS"},t.diagnosticUseCombinedEvent=!0,t}var sn=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};function ln(e,n,t,r){var o,i,a=("substring"!==e.kind&&"regex"!==e.kind||!r.includes("/")?n.replace(r,""):n).replace(t,"");switch(e.kind){case"exact":i=n,o=new RegExp("^"+sn(e.url)+"/?$");break;case"canonical":i=a,o=new RegExp("^"+sn(e.url)+"/?$");break;case"substring":i=a,o=new RegExp(".*"+sn(e.substring)+".*$");break;case"regex":i=a,o=new RegExp(e.pattern);break;default:return!1}return o.test(i)}function fn(e,n){for(var t={},r=null,o=[],i=0;i<e.length;i++)for(var a=e[i],u=a.urls||[],c=0;c<u.length;c++)if(ln(u[c],window.location.href,window.location.search,window.location.hash)){"pageview"===a.kind?n("pageview",a):(o.push(a),n("click_pageview",a));break}return o.length>0&&(r=function(e){for(var t=function(e,n){for(var t=[],r=0;r<n.length;r++)for(var o=e.target,i=n[r],a=i.selector,u=document.querySelectorAll(a);o&&u.length>0;){for(var c=0;c<u.length;c++)o===u[c]&&t.push(i);o=o.parentNode}return t}(e,o),r=0;r<t.length;r++)n("click",t[r])},document.addEventListener("click",r)),t.dispose=function(){document.removeEventListener("click",r)},t}function dn(e,n){var t,r;function o(){r&&r.dispose(),t&&t.length&&(r=fn(t,i))}function i(n,t){var r=e.ident.getUser(),o={kind:n,key:t.key,data:null,url:window.location.href,user:r,creationDate:(new Date).getTime()};return r&&r.anonymous&&(o.contextKind="anonymousUser"),"click"===n&&(o.selector=t.selector),e.enqueueEvent(o)}return e.requestor.fetchJSON("/sdk/goals/"+e.getEnvironmentId()).then((function(e){e&&e.length>0&&(r=fn(t=e,i),function(e,n){var t,r=window.location.href;function o(){(t=window.location.href)!==r&&(r=t,n())}!function e(n,t){n(),setTimeout((function(){e(n,t)}),t)}(o,300),window.history&&window.history.pushState?window.addEventListener("popstate",o):window.addEventListener("hashchange",o)}(0,o)),n()})).catch((function(t){e.emitter.maybeReportError(new h.LDUnexpectedResponseError((t&&t.message,t.message))),n()})),{}}var vn={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};function gn(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=cn(t),o=Ze(e,n,t,r,vn),i=o.client,a=o.options,u=o.emitter,c=new Promise((function(e){var n=u.on("goalsReady",(function(){u.off("goalsReady",n),e()}))}));i.waitUntilGoalsReady=function(){return c},a.fetchGoals?dn(o,(function(){return u.emit("goalsReady")})):u.emit("goalsReady"),"complete"!==document.readyState?window.addEventListener("load",o.start):o.start();var s=function(){r.synchronousFlush=!0,i.flush().catch((function(){})),r.synchronousFlush=!1};return window.addEventListener("beforeunload",s),window.addEventListener("unload",s),i}var ua_parser=__webpack_require__(37),ua_parser_default=__webpack_require__.n(ua_parser),getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),rnds8=new Uint8Array(16);function rng(){if(!getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}for(var byteToHex=[],bytesToUuid_i=0;bytesToUuid_i<256;++bytesToUuid_i)byteToHex[bytesToUuid_i]=(bytesToUuid_i+256).toString(16).substr(1);var esm_browser_bytesToUuid=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")};var esm_browser_v4=function(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||esm_browser_bytesToUuid(rnds)};const utils=__webpack_require__(8);var nativeCommunication=function(){let port,isConnected=!1,currentBackoffCollision=0,prevCurrentBackoffCollision=0,englishLocations=[],isNewProtocol=!1;const buildRequest=(_method,_params)=>{let method=_method,params=_params,request={jsonrpc:"2.0",method:method,params:params,id:1};if(isNewProtocol){switch(_method){case"XVPN.GetEnginePreferences":method="GetPreferences";break;case"XVPN.Reset":method="SignOut";break;case"XVPN.SelectLocation":method="SelectLocation",params={...params.selected_location};break;default:method=_method.replace(/^XVPN\./,"")}request={method:method,params:params}}return request};const connect=()=>{port=chrome.runtime.connectNative("com.expressvpn.helper"),port.onMessage.addListener(_msg=>{let msg=_msg;if(null===msg||"object"!=typeof msg)return!0;if(isNewProtocol)return function(msg){const{type:responseType,name:responseName,data:responseData}=msg;if("event"===responseType)window.top.postMessage({method:"updateStatus",name:responseName,data:responseData},"*");else if("method"===responseType)if("status"===responseName){const info=responseData.info,app=responseData.app;let currentInfo={state:info.state,selectedLocation:utils.localizeLocation(info.selected_location||info.last_location),app:app,subscription:responseData.subscription,website_url:info.website_url,isNewProtocol:isNewProtocol,raw:responseData};window.top.postMessage({method:"currentState",currentInfo:currentInfo},"*")}else if("preferences"===responseName)window.top.postMessage({method:"updatePreferences",data:responseData},"*");else if("messages"===responseName)responseData.length>0&&chrome.storage.local.set({messages:responseData});else if("locations"===responseName){englishLocations=responseData.locations;let recommendedList=[];const allLocations=responseData.locations.map(el=>{const localizedEl={country:utils.localizeLocation(el.country),name:utils.localizeLocation(el.name),region:utils.localizeLocation(el.region)},item={...el,...localizedEl};return msg.data.recommended_location_ids.includes(item.id)&&recommendedList.push(item),item});if(window.top.postMessage({method:"updateLocationsData",data:{recommended:recommendedList,all:allLocations,recent_locations_ids:responseData.recent_locations_ids}},"*"),responseData.smart_location_id){const smartLocation=responseData.locations.find(el=>el.id===responseData.smart_location_id);smartLocation&&window.top.postMessage({method:"updateSmartLocation",data:utils.localizeLocation(smartLocation)},"*")}}}(msg),!0;if(msg.error&&"string"==typeof msg.error)msg.error.indexOf("sendEngineCommand: not activated")>0&&(currentBackoffCollision=prevCurrentBackoffCollision);else if(msg.connected){if(2===msg.browser_helper_protocol&&(isNewProtocol=!0),prevCurrentBackoffCollision=currentBackoffCollision,currentBackoffCollision=0,!isConnected){isConnected=!0;let data={};void 0!==msg.app_version&&(data.app_version=msg.app_version),window.top.postMessage({method:"connectedToHelper",data:data},"*")}}else if(msg.info&&msg.info.state){let currentInfo={state:msg.info.state,selectedLocation:utils.localizeLocation(msg.info.selected_location||msg.info.last_location),app:{latest_version:msg.info.latest_version,latest_version_url:msg.info.latest_version_url},subscription:msg.subscription,website_url:msg.info.website_url,raw:msg.info};"ready"!==currentInfo.state&&currentInfo.selectedLocation&&!0===currentInfo.selectedLocation.is_country&&"object"==typeof msg.info.current_location&&(currentInfo.selectedLocation=utils.localizeLocation(msg.info.current_location)),window.top.postMessage({method:"currentState",currentInfo:currentInfo},"*")}else if(msg.name){let data=msg.data?msg.data[msg.name+"Data"]:{};window.top.postMessage({method:"updateStatus",name:msg.name,data:data},"*")}else if(msg.Preferences)window.top.postMessage({method:"updatePreferences",data:msg.Preferences},"*");else if(msg.locations){englishLocations=msg.locations;const allLocations=msg.locations.map(el=>{const localizedItems={country:utils.localizeLocation(el.country),name:utils.localizeLocation(el.name),region:utils.localizeLocation(el.region)};return{...el,...localizedItems}});let recommendedList=[];allLocations.forEach(location=>{!0===location.recommended&&recommendedList.push(location)}),recommendedList.sort((a,b)=>a.sort_order<b.sort_order?-1:a.sort_order>b.sort_order?1:0),void 0!==msg.default_location&&window.top.postMessage({method:"updateSmartLocation",data:utils.localizeLocation(msg.default_location)},"*"),window.top.postMessage({method:"updateLocationsData",data:{recommended:recommendedList,all:allLocations,recent_locations_ids:msg.recent_locations_ids}},"*")}else msg.messages?msg.messages.length>0&&chrome.storage.local.set({messages:msg.messages}):msg.data&&msg.name}),port.onDisconnect.addListener(event=>{isConnected=!1,setTimeout(()=>{connect()},(()=>{let nextDelay=100*((_min,_max)=>{let min=Math.ceil(_min),max=Math.floor(_max);return Math.floor(Math.random()*(max-min+1))+min})(0,Math.pow(2,currentBackoffCollision)-1);return currentBackoffCollision+=1,nextDelay})())})};window.addEventListener("message",event=>{if(event.origin!==chrome.extension.getURL("/").slice(0,-1))return!1;switch(event.data.method){case"resetBackoff":currentBackoffCollision=0,connect()}},!1);const sendNativeMessage=_msg=>{let msg=_msg;!0===isConnected&&port.postMessage(msg)};return{buildRequest:buildRequest,getStatus:()=>sendNativeMessage(buildRequest("XVPN.GetStatus")),getBrowserPreferences:()=>sendNativeMessage(buildRequest("XVPN.GetBrowserPreferences")),getEnginePreferences:()=>sendNativeMessage(buildRequest("XVPN.GetEnginePreferences")),connect:connect,getLocationList:()=>sendNativeMessage(buildRequest("XVPN.GetLocations",{include_default_location:!0,include_recent_connections:!0})),getConnectionLogs:()=>sendNativeMessage(buildRequest("XVPN.GetLogs")),cancelSpeedTest:()=>sendNativeMessage(buildRequest("XVPN.StopSpeedTest")),selectLocation:selectedLocation=>{const englishLocation=englishLocations.find(el=>el.id===selectedLocation.id);return sendNativeMessage(buildRequest("XVPN.SelectLocation",{selected_location:{...selectedLocation,name:selectedLocation.is_country?englishLocation.country:englishLocation.name}}))},connectToLocation:(location,options={})=>{const{connectWhileConnected:connectWhileConnected,isAutoConnect:isAutoConnect}=options,englishLocation=englishLocations.find(el=>el.id===location.id);let connectionData={};return location.is_country?(connectionData.country=englishLocation.country,connectionData.country_code=location.country_code):(connectionData.name=englishLocation.name,connectionData.is_default=location.is_smart_location,connectionData.id=location.id),connectionData.change_connected_location=!!connectWhileConnected,connectionData.is_auto_connect=!!isAutoConnect,sendNativeMessage(buildRequest("XVPN.Connect",connectionData))},openLocationPicker:location=>sendNativeMessage(buildRequest("XVPNUI.OpenLocationPicker")),openChromePreferences:location=>sendNativeMessage(buildRequest("XVPNUI.OpenChromePreferences")),openPreferences:location=>sendNativeMessage(buildRequest("XVPNUI.OpenPreferences")),disconnect:()=>sendNativeMessage(buildRequest("XVPN.Disconnect")),isInstalled:()=>isConnected,getMessages:()=>sendNativeMessage(buildRequest("XVPN.GetMessages")),openApp:()=>sendNativeMessage(buildRequest("XVPNUI.LaunchApp")),reset:()=>sendNativeMessage(buildRequest("XVPN.Reset")),resetState:()=>sendNativeMessage(buildRequest("XVPN.ResetState")),retryConnect:()=>sendNativeMessage(buildRequest("XVPN.RetryConnect"))}}(),modules_utils=__webpack_require__(8),rating=__webpack_require__(52),locations=__webpack_require__(88);const minimumOSRequirements=[{name:"Mac OS",minimumVersion:"10.10"},{name:"Windows",minimumVersion:"7"},{name:"Linux",minimumVersion:""}],groupOsName=os=>["Fedora","Gentoo","Mandriva","Mint","Redhat","Slackware","Suse","Ubuntu"].findIndex(item=>os.toLowerCase()===item.toLowerCase())>=0?"Linux":os;var modules_backgroundHelper={checkPlatformCompatibility:currentInfo=>{const platform=ua_parser_default()(window.navigator.userAgent).os,platformVersion="Windows"===platform.name&&"XP"===platform.version?"5.1":platform.version;for(let i=0;i<minimumOSRequirements.length;i+=1){let os=minimumOSRequirements[i];if(groupOsName(platform.name)===os.name){if(""===os.minimumVersion||modules_utils.versionCompare(platformVersion,os.minimumVersion)>=0)return;return"BAD_OS_VERSION"}}},groupOsName:groupOsName,standardizeUrl:function(url){let safeUrl;try{let urlObj=new URL(url);safeUrl=urlObj.origin+urlObj.pathname+urlObj.search}catch(err){safeUrl=url}return safeUrl}},locationPicker=__webpack_require__(38),localStorage2_set=(_key,value,expiryDate)=>{const key="ls2-"+_key,item={value:value,expiry:expiryDate?expiryDate.getTime():0};localStorage.setItem(key,JSON.stringify(item))},localStorage2_get=_key=>{const key="ls2-"+_key,itemStr=localStorage.getItem(key);if(!itemStr)return null;const itemObj=JSON.parse(itemStr),now=new Date;return itemObj.expiry>0&&now.getTime()>itemObj.expiry?(localStorage.removeItem(key),null):itemObj.value};const{ICONS:ICONS}=modules_utils,badStates=["BAD_OS_VERSION","BAD_APP_VERSION"],MIN_APP_VERSION={MAC:"7.1.0",WINDOWS:"6.9.0",LINUX:"2.0.0"};!function(){let subscriptionId,ldClient,{currentInfo:currentInfo}=modules_utils,locationsData={},recommendedLocationsList=[],allLocationsList=[],prefs=modules_utils.defaultPreferences,myBrowser=ua_parser_default()(window.navigator.userAgent).browser,whiteList=[],notificationUpdateId="",mockData={prevNotificationId:"",prevState:""},hasModalKeysLock=!1;function setWebrtcOption(){var _chrome$privacy$netwo;if(void 0===chrome.privacy)return;const isEnabled=prefs["chrome.prevent_webrtc_leaks"]&&["connecting","reconnecting","connected","disconnecting","connection_error"].includes(currentInfo.state);chrome.privacy.network.webRTCIPHandlingPolicy.get({},details=>{if(details&&("controllable_by_this_extension"===details.levelOfControl||"controlled_by_this_extension"===details.levelOfControl)){const settingValue=isEnabled?"disable_non_proxied_udp":"default";chrome.privacy.network.webRTCIPHandlingPolicy.set({value:settingValue},()=>{chrome.runtime.lastError})}}),null===(_chrome$privacy$netwo=chrome.privacy.network.peerConnectionEnabled)||void 0===_chrome$privacy$netwo||_chrome$privacy$netwo.get({},details=>{if(details&&("controllable_by_this_extension"===details.levelOfControl||"controlled_by_this_extension"===details.levelOfControl)){const settingValue=!isEnabled;chrome.privacy.network.peerConnectionEnabled.set({value:settingValue},()=>{chrome.runtime.lastError})}})}function updateExtensionSettings(skipMimic){chrome.storage.local.get("prefs",storage=>{"object"==typeof storage.prefs&&(prefs=Object.assign({},prefs,storage.prefs)),chrome.storage.local.set({prefs:prefs}),modules_utils.setLanguage(prefs.language).then(langObj=>{window.localizedStrings=langObj.strings,currentInfo.localizedStrings=langObj.strings,currentInfo.locale=langObj.locale,skipMimic||(nativeCommunication.getStatus(),updatePopupState(),nativeCommunication.getLocationList(),nativeCommunication.getMessages())}),setWebrtcOption()})}function setRatingConfig(){chrome.storage.sync.get("rating",storage=>{"object"==typeof storage.rating&&Object.keys(storage.rating).length>0?currentInfo.ratingData=storage.rating:currentInfo.ratingData=rating.a.defaultRatingData})}function updateIcon(newIcon){chrome.browserAction.setBadgeText({text:newIcon.text}),chrome.browserAction.setBadgeTextColor&&chrome.browserAction.setBadgeTextColor({color:"#FFFFFF"}),chrome.browserAction.setBadgeBackgroundColor({color:newIcon.color})}function localize(localeKey){return currentInfo.localizedStrings[localeKey]?currentInfo.localizedStrings[localeKey].message:""}function showConnectionNotification(state,cb){let options={type:"basic",title:"",message:"",iconUrl:`/images/${state}.png`},key="";switch(state){case"connected":options.title=localize("vpn_status_notification_connected_label"),options.message=localize("vpn_status_notification_connected_text").replace("%s",currentInfo.selectedLocation.name);break;case"reconnecting":options.title=localize("vpn_status_notification_reconnecting_label"),key=currentInfo.preferences.traffic_guard_level?"vpn_status_notification_reconnecting_network_lock_on_text":"vpn_status_notification_reconnecting_network_lock_off_text",options.message=localize(key).replace("%s",currentInfo.selectedLocation.name),options.iconUrl="/images/connecting.svg";break;case"connection_error":options.title=localize("vpn_status_notification_connection_failed_label"),key=currentInfo.preferences.traffic_guard_level?"vpn_status_notification_connection_failed_network_lock_on_text":"vpn_status_notification_connection_failed_network_lock_off_text",options.message=localize(key).replace("%s",currentInfo.selectedLocation.name);break;case"duplicate_license_used":options.title=localize("vpn_status_notification_connection_limit_label"),options.message=localize("vpn_status_notification_connection_limit_text"),options.iconUrl="/images/connection_error.svg";break;default:options.title=""}""!==options.title&&chrome.notifications.create(options,id=>{cb&&cb(id)})}function updateStatus(name,data){switch(name){case"WaitForNetworkReady":currentInfo.networkStatus=data.result;break;case"VPNClustersUpdated":case"SmartLocationChanged":nativeCommunication.getLocationList(),nativeCommunication.getStatus();break;case"ServiceStateChanged":switch(data.newstate){case"ready":nativeCommunication.getLocationList(),updateIcon(ICONS.default),currentInfo.progress=0;break;case"reconnecting":case"connecting":updateIcon(ICONS.connecting);break;case"connected":updateIcon(ICONS.connected),"connecting"===data.oldstate&&"Firefox"!==myBrowser.name&&setTimeout(()=>{sendTelemetry("captcha","connection_success",!0)},1500);break;case"disconnecting":updateIcon(ICONS.connecting);break;case"internal_error":case"network_error":case"fraudster":case"subscription_expired":case"license_revoked":case"activation_error":case"duplicate_license_used":case"connection_error":case"not_activated":updateIcon(ICONS.error);break;default:updateIcon(ICONS.default)}if(data.oldstate&&data.newstate&&data.oldstate!==data.newstate){if(currentInfo.hasCurrentStateSince=Date.now(),"ready"!==data.oldstate&&"connection_error"!==data.oldstate||"connecting"!==data.newstate){if("connecting"===data.oldstate&&("connected"===data.newstate||"connection_error"===data.newstate)){let currentId=currentInfo.connectingTimes.findIndex(el=>!Object.prototype.hasOwnProperty.call(el,"delta"));currentId&&(currentInfo.connectingTimes[currentId].delta=Date.now()/1e3-currentInfo.connectingTimes[currentId].startTime,currentInfo.connectingTimes=currentInfo.connectingTimes.slice(0,5))}}else currentInfo.connectingTimes=currentInfo.connectingTimes.filter(el=>Object.prototype.hasOwnProperty.call(el,"delta")),currentInfo.connectingTimes.push({startTime:Date.now()/1e3});!0===prefs["chrome.desktop_notification"]&&showConnectionNotification(data.newstate),currentInfo.ratingData=rating.a.updateRatingDataFromState(currentInfo.ratingData,data),chrome.storage.sync.set({rating:currentInfo.ratingData})}badStates.includes(currentInfo.state)||(currentInfo.state="activated"===data.newstate?"ready":data.newstate,"activated"===data.newstate&&setRatingConfig());break;case"MessagesUpdated":nativeCommunication.getMessages();break;case"SpeedTestProgress":currentInfo.progress=100*parseInt(data.progress,10);break;case"ConnectionProgress":currentInfo.state="connecting",currentInfo.selectedLocation=locationPicker.a.getLocationByName(allLocationsList,modules_utils.localizeLocation(data.current_location)),currentInfo.smartLocation.id===currentInfo.selectedLocation.id&&(currentInfo.selectedLocation.is_smart_location=!0),currentInfo.selectedLocation.is_country=!1,currentInfo.progress=data.progress;break;case"SelectedLocationChanged":!0===data.is_country?currentInfo.selectedLocation={name:modules_utils.localizeLocation(data.name),id:0,is_country:!0,is_smart_location:!1}:["name","id","is_smart_location","country_code"].every(key=>key in data)?currentInfo.selectedLocation=data:(currentInfo.selectedLocation=locationPicker.a.getLocationByName(allLocationsList,modules_utils.localizeLocation(data.name)),currentInfo.smartLocation.id===currentInfo.selectedLocation.id&&(currentInfo.selectedLocation.is_smart_location=!0))}void 0!==currentInfo.selectedLocation&&""!==currentInfo.selectedLocation.name&&"object"==typeof locationsData[currentInfo.selectedLocation.name]&&(currentInfo.selectedLocation.country_code=locationsData[currentInfo.selectedLocation.name].country_code,currentInfo.selectedLocation.coords=modules_utils.calculateRandomPosition(locationsData[currentInfo.selectedLocation.name].coords),currentInfo.selectedLocation.id=locationsData[currentInfo.selectedLocation.name].id),chrome.runtime.sendMessage({state:!0,data:currentInfo}),chrome.storage.local.set({currentInfo:currentInfo}),setWebrtcOption()}function waitForCurrentInfo(){if(void 0!==currentInfo.selectedLocation&&""!==currentInfo.selectedLocation.name&&Array.isArray(currentInfo.recent_locations_ids)){if(!0===prefs["chrome.auto_connect"]&&"ready"===currentInfo.state&&currentInfo.recent_locations_ids.length>0){let lastLocation=locationPicker.a.getLocationById(allLocationsList,currentInfo.recent_locations_ids[0]);nativeCommunication.selectLocation(lastLocation),nativeCommunication.connectToLocation(lastLocation,{isAutoConnect:!0})}}else setTimeout(waitForCurrentInfo,50)}function updatePopupState(dontGetPrefs){if(!1===nativeCommunication.isInstalled())"BAD_OS_VERSION"!==currentInfo.state&&(currentInfo.state="NOT_INSTALLED",window.top.postMessage({method:"resetBackoff"},"*")),updateIcon(ICONS.error);else{var _locationsData$curren;if(!0!==dontGetPrefs&&nativeCommunication.getEnginePreferences(),void 0!==currentInfo.selectedLocation&&""!==currentInfo.selectedLocation.name)currentInfo.selectedLocation.country_code=null===(_locationsData$curren=locationsData[currentInfo.selectedLocation.name])||void 0===_locationsData$curren?void 0:_locationsData$curren.country_code;currentInfo.recommendedLocationsList=recommendedLocationsList,currentInfo.allLocationsList=allLocationsList}chrome.runtime.sendMessage({state:!0,data:currentInfo})}function filterByProtocol(loc){return"auto"===currentInfo.preferences.preferred_protocol.toLowerCase()||loc.protocols.includes(currentInfo.preferences.preferred_protocol.toLowerCase())}function showUpdateNotification(currentVersion){let options={type:"basic",title:localize("notification_extension_update_title"),message:localize("notification_extension_update_message").replace("%VERSION%",currentVersion),iconUrl:"/images/toolbar-icon-128.png"};chrome.notifications.create(null,options,id=>{notificationUpdateId=id,mockData.prevNotificationId=id})}function sendTelemetry(category,action,attachAppInfo=!1){if(!prefs.helpImprove)return;localStorage.getItem("uuid")||localStorage.setItem("uuid",esm_browser_v4());const fetchOptions={method:"POST",body:new URLSearchParams({v:1,tid:"UA-29468734-11",cid:localStorage.getItem("uuid"),aip:1,t:"event",ec:category})};if(action&&fetchOptions.body.append("ea",action),attachAppInfo){[{name:"desktop_app_version",index:1,value:currentInfo.app.version},{name:"extension_version",index:2,value:chrome.runtime.getManifest().version},{name:"connection_state",index:3,value:"connected"===currentInfo.state?"use_vpn":"not_connected"}].forEach(el=>fetchOptions.body.append("cd"+el.index,el.value))}fetch("https://www.google-analytics.com/collect",fetchOptions)}async function keysAdoptionEventListener(tabId,changeInfo,tab){var _currentInfo$subscrip,_currentInfo$subscrip2;const experimentBucket=null===(_currentInfo$subscrip=currentInfo.subscription)||void 0===_currentInfo$subscrip||null===(_currentInfo$subscrip2=_currentInfo$subscrip.user_experiment_buckets)||void 0===_currentInfo$subscrip2?void 0:_currentInfo$subscrip2["2022-04-password-manager"];if("complete"===changeInfo.status&&tab.url.startsWith("https")&&"variant"===experimentBucket&&currentInfo.flags.showKeysModal&&"en"===currentInfo.locale&&currentInfo.raw.activated){const keysAdoption=JSON.parse(localStorage.getItem("keysAdoption"))||{};let canSeeModalAgain=!0;if(Object.keys(keysAdoption).length>0){const lastSeen=Math.max(...Object.values(keysAdoption).map(el=>el.lastSeen),0)/1e3;canSeeModalAgain=modules_utils.getTimeDelta(lastSeen).days>5}canSeeModalAgain&&!await async function(){const fetchArray=["nndkpifgpdikkbbdkbclpfmhckmendlo","blgcbajigpdfohpgcmbbfnphcgifjopc"].map(el=>fetch(`chrome-extension://${el}/images/logo.svg`));let anyExists=!1;try{await Promise.any(fetchArray),anyExists=!0}catch(ex){}return sendTelemetry("keys_adoption_modal","is_keys_installed_"+anyExists.toString()),anyExists}()&&chrome.tabs.executeScript(tabId,{file:"scripts/content/keys.js"})}}if(localStorage.setItem("nonce",crypto.getRandomValues(new Uint32Array(3)).join("")),__webpack_require__(215),"Firefox"===myBrowser.name&&chrome.windows.onCreated.addListener((function(){nativeCommunication.getStatus()})),"Firefox"!==myBrowser.name){const MAX_TOTAL_VIEWS=4,keysAdoption=JSON.parse(localStorage.getItem("keysAdoption"))||{};Object.values(keysAdoption).reduce((acc,el)=>acc+el.count,0)<MAX_TOTAL_VIEWS&&chrome.tabs.onUpdated.addListener(keysAdoptionEventListener)}chrome.runtime.onMessage.addListener((message,sender,sendResponse)=>{if(message.mock,message.customLocation)nativeCommunication.openLocationPicker();else if(message.getLocations)nativeCommunication.getLocationList();else if(message.disconnect)nativeCommunication.disconnect();else if(message.getConnectionLogs)nativeCommunication.getConnectionLogs();else if(message.getMessages)badStates.includes(currentInfo.state)||nativeCommunication.getMessages();else if(message.finishedWelcome)currentInfo.showWelcome=!1,updatePopupState();else if(message.getState)nativeCommunication.getStatus(),updatePopupState();else if(message.connectToSelectedLocation)"ready"===currentInfo.state||"connection_error"===currentInfo.state?(nativeCommunication.selectLocation(currentInfo.selectedLocation),nativeCommunication.connectToLocation(currentInfo.selectedLocation)):"connected"===currentInfo.state&&nativeCommunication.connectToLocation(currentInfo.selectedLocation,{connectWhileConnected:!0});else if(message.reconnect)nativeCommunication.retryConnect();else if(message.reset)nativeCommunication.reset();else if(message.resetState)nativeCommunication.resetState();else if(message.cancelConnection)nativeCommunication.disconnect();else if(message.updateSelectedLocation)currentInfo.selectedLocation=message.selectedLocation,"ready"!==currentInfo.state&&"connection_error"!==currentInfo.state||nativeCommunication.selectLocation(currentInfo.selectedLocation);else if(message.openApp)"not_activated"===currentInfo.state&&nativeCommunication.connect(),nativeCommunication.openApp();else if(message.cancelSpeedTest)nativeCommunication.cancelSpeedTest();else if(message.openChromePreferences)nativeCommunication.openChromePreferences();else if(message.openPreferences)nativeCommunication.openPreferences();else if(message.updateExtensionSettings)updateExtensionSettings();else if(message.proceedAnyway)whiteList.push({tabId:message.tabId,url:message.url}),chrome.tabs.update(message.tabId,{url:message.url});else if(message.telemetry2)sendTelemetry(message.category,message.action);else if(message.telemetry){if(!localStorage2_get("GA_"+message.category)){sendTelemetry(message.category);const today=new Date;localStorage2_set("GA_"+message.category,!0,new Date(today.getFullYear(),today.getMonth(),today.getDate()+1))}}else message.removeKeysEventListener?chrome.tabs.onUpdated.removeListener(keysAdoptionEventListener):message.canStartKeysTimer&&(sendResponse(hasModalKeysLock),hasModalKeysLock||(hasModalKeysLock=!0,setTimeout(()=>{hasModalKeysLock=!1},2e4)))}),chrome.runtime.onInstalled.addListener(details=>{if("install"===details.reason)currentInfo.showWelcome=!0;else if("update"===details.reason&&!0===prefs["chrome.desktop_notification"]){const rx=/^(\d{1,2}.\d{1,2})/g,currentVersion=chrome.runtime.getManifest().version,currentVersionMatches=currentVersion.match(rx),previousVersionMatches=details.previousVersion.match(rx);1===currentVersionMatches.length&&1===previousVersionMatches.length&&previousVersionMatches[0]!==currentVersionMatches[0]&&setTimeout(()=>{showUpdateNotification(currentVersion),localStorage.getItem("hasSeenHelpImproveScreen")||(currentInfo.showWelcome=!0,currentInfo.forceShowHelpImproveScreen=!0)},100)}}),chrome.notifications.onClicked.addListener(notificationId=>{switch(notificationId){case notificationUpdateId:chrome.tabs.create({url:currentInfo.website_url+"/support/release-notes/browser-extension/"})}}),chrome.storage.onChanged.addListener(changes=>{changes.rating&&setRatingConfig()}),"Firefox"!==myBrowser.name&&chrome.webRequest.onCompleted.addListener(({tabId:tabId})=>{chrome.tabs.get(tabId,({url:url})=>{url.startsWith("https://www.google.com/sorry/")&&sendTelemetry("captcha","captcha_seen",!0)})},{urls:["https://www.google.com/recaptcha/api2/anchor?*"]}),chrome.webRequest.onBeforeRequest.addListener(details=>{if("GET"===details.method&&currentInfo.preferences.traffic_guard_level&&["connecting","reconnecting","connection_error"].includes(currentInfo.state)&&"Firefox"!==myBrowser.name)return{redirectUrl:`${chrome.runtime.getURL("/html/networkLock.html")}?nonce=${localStorage.getItem("nonce")}&url=${details.url}`}},{urls:["http://*/*","https://*/*"],types:["main_frame"]},["blocking"]),window.addEventListener("message",async event=>{var _currentInfo$subscrip3,_currentInfo$subscrip4;if(event.origin!==chrome.extension.getURL("/").slice(0,-1))return!1;const message=event.data;switch(message.method){case"updateLocationsData":recommendedLocationsList=modules_utils.sortAndGroupBy(message.data.recommended||[],"country",filterByProtocol),allLocationsList=modules_utils.sortAndGroupBy(message.data.all||[],"region",filterByProtocol);for(let region in allLocationsList)region&&(allLocationsList[region]=modules_utils.sortAndGroupBy(allLocationsList[region],"country"));if(void 0===currentInfo.selectedLocation&&modules_utils.isNullOrEmpty(currentInfo.smartLocation.name)){const[firstRecommendedLocation]=message.data.recommended;currentInfo.selectedLocation=firstRecommendedLocation,nativeCommunication.selectLocation(currentInfo.selectedLocation)}message.data.all.forEach(location=>{locationsData[location.name]={},locationsData[location.name].country_code=location.country_code,"object"==typeof locations[location.country]&&"object"==typeof locations[location.country][location.name]?locationsData[location.name].coords=locations[location.country][location.name]:"object"==typeof locations[location.country]?locationsData[location.name].coords=locations[location.country].default:locationsData[location.name].coords={lat:38.883333,lon:-77},locationsData[location.name].id=location.id,locationsData[location.country]={},locationsData[location.country].country_code=location.country_code,locationsData[location.country].id=location.id,locationsData[location.country].coords="object"==typeof locations[location.country]?locations[location.country].default:{lat:38.883333,lon:-77}}),void 0!==currentInfo.selectedLocation&&""!==currentInfo.selectedLocation.name&&(currentInfo.selectedLocation.coords=locationsData[currentInfo.selectedLocation.name].coords,chrome.storage.local.set({currentInfo:currentInfo})),currentInfo.smartLocation.name&&!currentInfo.smartLocation.country_code&&(currentInfo.smartLocation.country_code=locationsData[currentInfo.smartLocation.name].country_code),currentInfo.selectedLocation.id||currentInfo.selectedLocation.is_country||(currentInfo.selectedLocation=locationPicker.a.getLocationByName(allLocationsList,currentInfo.selectedLocation.name),currentInfo.smartLocation.id===currentInfo.selectedLocation.id&&(currentInfo.selectedLocation.is_smart_location=!0)),currentInfo.recent_locations_ids=message.data.recent_locations_ids,void 0===currentInfo.selectedLocation||currentInfo.selectedLocation.id||(currentInfo.selectedLocation.id=locationsData[currentInfo.selectedLocation.name].id),updatePopupState();break;case"updateStatus":"ServiceStateChanged"===message.name&&message.data&&"connected"===message.data.newstate&&nativeCommunication.getStatus(),updateStatus(message.name,message.data);break;case"currentState":var _ldClient;if(currentInfo.selectedLocation=message.currentInfo.selectedLocation,currentInfo.app.latest_version=message.currentInfo.app.latest_version,currentInfo.app.latest_version_url=message.currentInfo.app.latest_version_url,currentInfo.subscription=message.currentInfo.subscription,currentInfo.subscription&&(currentInfo.ratingData.isRegularUser=modules_utils.isRegularUser(currentInfo.subscription)),currentInfo.website_url=message.currentInfo.website_url||currentInfo.website_url,currentInfo.isNewProtocol=message.currentInfo.isNewProtocol,currentInfo.raw=message.currentInfo.raw,"connected"===currentInfo.raw.state&&currentInfo.raw.current_location&&currentInfo.raw.connection&&(currentInfo.previousConnection={id:currentInfo.raw.current_location.id,protocol:currentInfo.raw.connection.protocol}),updateStatus("ServiceStateChanged",{newstate:message.currentInfo.state}),currentInfo.subscription.subscription_id!==subscriptionId)subscriptionId=currentInfo.subscription.subscription_id,await(null===(_ldClient=ldClient)||void 0===_ldClient?void 0:_ldClient.close()),subscriptionId&&async function(){const userInfo={key:await modules_utils.sha256(subscriptionId),custom:{app_version:currentInfo.app.version,extension_version:"chrome_"+chrome.runtime.getManifest().version,client_os:currentInfo.os}};ldClient=gn("60f4eca7bc3c32255e6cab6e",userInfo,{bootstrap:"localStorage"}),ldClient.on("ready",()=>{currentInfo.flags.showKeysModal=ldClient.variation("browser-vpn-extension-show-keys-adoption-modal",!1),sendTelemetry("keys_adoption_modal","LD_browser_vpn_extension_show_keys_adoption_modal_"+currentInfo.flags.showKeysModal.toString())}),ldClient.on("change:browser-vpn-extension-show-keys-adoption-modal",newValue=>{currentInfo.flags.showKeysModal=newValue,sendTelemetry("keys_adoption_modal","LD_browser_vpn_extension_show_keys_adoption_modal_"+currentInfo.flags.showKeysModal.toString())})}();sendTelemetry("keys_adoption_modal","has_access_to_keys_"+("variant"===(null===(_currentInfo$subscrip3=currentInfo.subscription)||void 0===_currentInfo$subscrip3||null===(_currentInfo$subscrip4=_currentInfo$subscrip3.user_experiment_buckets)||void 0===_currentInfo$subscrip4?void 0:_currentInfo$subscrip4["2022-04-password-manager"])).toString()),sendTelemetry("keys_adoption_modal","is_desktop_app_installed_"+nativeCommunication.isInstalled().toString()),sendTelemetry("keys_adoption_modal","is_desktop_app_activated_"+currentInfo.raw.activated.toString());break;case"connectedToHelper":nativeCommunication.getStatus(),nativeCommunication.getEnginePreferences(),nativeCommunication.getLocationList(),nativeCommunication.getMessages(),Object.keys(message.data).length>0&&void 0!==(data=message.data).app_version&&(void 0!==MIN_APP_VERSION[currentInfo.os]&&modules_utils.versionCompare(data.app_version,MIN_APP_VERSION[currentInfo.os])<0&&(currentInfo.state="BAD_APP_VERSION"),currentInfo.app.version=data.app_version),waitForCurrentInfo();break;case"updateSmartLocation":"object"==typeof message.data&&(currentInfo.smartLocation=Object.assign({},message.data,{is_smart_location:!0,is_country:!1}),void 0===currentInfo.selectedLocation&&(currentInfo.selectedLocation=currentInfo.smartLocation,nativeCommunication.selectLocation(currentInfo.selectedLocation)));break;case"updatePreferences":if(currentInfo.preferences=message.data,(void 0===currentInfo.smartLocation||modules_utils.isNullOrEmpty(currentInfo.smartLocation.name))&&void 0!==currentInfo.recommendedList){let tmpSmartLocation=currentInfo.recommendedList.find(location=>"auto"===currentInfo.preferences.preferred_protocol.toLowerCase()||location.protocols.includes(currentInfo.preferences.preferred_protocol.toLowerCase()));currentInfo.smartLocation={name:tmpSmartLocation.name,id:tmpSmartLocation.id,country_code:tmpSmartLocation.country_code}}if(allLocationsList.length>0&&!modules_utils.isNullOrEmpty(currentInfo.selectedLocation.name)){let selectedLocationObj=locationPicker.a.getLocationByName(allLocationsList,currentInfo.selectedLocation.name);(!selectedLocationObj&&!currentInfo.selectedLocation.is_country||"auto"!==currentInfo.preferences.preferred_protocol.toLowerCase()&&selectedLocationObj.protocols.includes(currentInfo.preferences.preferred_protocol.toLowerCase()))&&(currentInfo.selectedLocation={name:currentInfo.smartLocation.name,id:currentInfo.smartLocation.id,country_code:currentInfo.smartLocation.country_code,is_smart_location:!0,is_country:!1})}Object.keys(locationsData).length>0&&updatePopupState(!0)}var data},!1);const sys=ua_parser_default()(window.navigator.userAgent);currentInfo.os=modules_backgroundHelper.groupOsName(sys.os.name.split(" ")[0]).toUpperCase(),currentInfo.system.os=sys.os,currentInfo.system.browser=sys.browser;const errorState=modules_backgroundHelper.checkPlatformCompatibility(currentInfo);chrome.storage.local.get("prefs",storage=>{"object"==typeof storage.prefs&&(prefs=Object.assign({},prefs,storage.prefs))}),errorState?currentInfo.state=errorState:(updateExtensionSettings(!0),setRatingConfig(),nativeCommunication.connect())}()}]);
//# sourceMappingURL=background.js.map
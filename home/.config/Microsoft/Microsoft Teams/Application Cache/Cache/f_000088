var Microsoft;!function(e){!function(e){!function(e){e[e.BT_STOP=0]="BT_STOP",e[e.BT_STOP_BASE=1]="BT_STOP_BASE",e[e.BT_BOOL=2]="BT_BOOL",e[e.BT_UINT8=3]="BT_UINT8",e[e.BT_UINT16=4]="BT_UINT16",e[e.BT_UINT32=5]="BT_UINT32",e[e.BT_UINT64=6]="BT_UINT64",e[e.BT_FLOAT=7]="BT_FLOAT",e[e.BT_DOUBLE=8]="BT_DOUBLE",e[e.BT_STRING=9]="BT_STRING",e[e.BT_STRUCT=10]="BT_STRUCT",e[e.BT_LIST=11]="BT_LIST",e[e.BT_SET=12]="BT_SET",e[e.BT_MAP=13]="BT_MAP",e[e.BT_INT8=14]="BT_INT8",e[e.BT_INT16=15]="BT_INT16",e[e.BT_INT32=16]="BT_INT32",e[e.BT_INT64=17]="BT_INT64",e[e.BT_WSTRING=18]="BT_WSTRING",e[e.BT_UNAVAILABLE=127]="BT_UNAVAILABLE"}(e.BondDataType||(e.BondDataType={}));!function(e){e[e.MARSHALED_PROTOCOL=0]="MARSHALED_PROTOCOL",e[e.MAFIA_PROTOCOL=17997]="MAFIA_PROTOCOL",e[e.COMPACT_PROTOCOL=16963]="COMPACT_PROTOCOL",e[e.JSON_PROTOCOL=21322]="JSON_PROTOCOL",e[e.PRETTY_JSON_PROTOCOL=20554]="PRETTY_JSON_PROTOCOL",e[e.SIMPLE_PROTOCOL=20563]="SIMPLE_PROTOCOL"}(e.ProtocolType||(e.ProtocolType={}))}(e.Bond||(e.Bond={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(e){!function(e){!function(e){var t=function(){function e(){this._buffer=[]}return e.prototype.Add=function(e){for(var t=0;t<this._buffer.length&&this._buffer[t]!=e;++t);t==this._buffer.length&&this._buffer.push(e)},e.prototype.Count=function(){return this._buffer.length},e.prototype.GetBuffer=function(){return this._buffer},e}();e.Set=t;var n=function(){function e(){this._buffer=[]}return e.prototype.Add=function(e,t){-1==this._getIndex(e)&&this._buffer.push({Key:e,Value:t})},e.prototype.AddOrReplace=function(e,t){var n=this._getIndex(e);n>=0?this._buffer[n]={Key:e,Value:t}:this._buffer.push({Key:e,Value:t})},e.prototype.Remove=function(e){var t=this._getIndex(e);t>=0&&this._buffer.splice(t,1)},e.prototype.Count=function(){return this._buffer.length},e.prototype.GetBuffer=function(){return this._buffer},e.prototype.ContainsKey=function(e){return this._getIndex(e)>=0},e.prototype.Get=function(e){var t=this._getIndex(e);return t>=0?this._buffer[t].Value:null},e.prototype._getIndex=function(e){for(var t=0,n=-1;t<this._buffer.length;++t)if(this._buffer[t].Key==e){n=t;break}return n},e}();e.Map=n}(e.Collections||(e.Collections={}))}(e.Bond||(e.Bond={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(e){!function(t){!function(e){var i=function(){function e(){}return e.GetBytes=function(e){for(var t=[],n=0;n<e.length;++n){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t},e}();e.Utf8=i;var r=function(){function e(){}return e.GetString=function(e){var t,n,i,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=[],s=e.length%3;for(t=0,i=e.length-s;t<i;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],o.push(function(e){return[r.charAt(e>>18&63),r.charAt(e>>12&63),r.charAt(e>>6&63),r.charAt(63&e)].join("")}(n));switch(s){case 1:n=e[e.length-1],o.push(r.charAt(n>>2)),o.push(r.charAt(n<<4&63)),o.push("==");break;case 2:n=(e[e.length-2]<<8)+e[e.length-1],o.push(r.charAt(n>>10)),o.push(r.charAt(n>>4&63)),o.push(r.charAt(n<<2&63)),o.push("=")}return o.join("")},e}();e.Base64=r;var o=function(){function e(){}return e.GetBytes=function(e){for(var t=[];4294967168&e;)t.push(127&e|128),e>>>=7;return t.push(127&e),t},e}();e.Varint=o;var s=function(){function e(){}return e.GetBytes=function(e){for(var t=e.low,n=e.high,i=[];n||4294967168&t;)i.push(127&t|128),t=(127&n)<<25|t>>>7,n>>>=7;return i.push(127&t),i},e}();e.Varint64=s;var a=function(){function e(){}return e.GetBytes=function(e){if(t.BrowserChecker.IsDataViewSupport()){var i=new DataView(new ArrayBuffer(4));i.setFloat32(0,e,!0);for(var r=[],o=0;o<4;++o)r.push(i.getUint8(o));return r}return n.ConvertNumberToArray(e,!1)},e}();e.Float=a;var u=function(){function e(){}return e.GetBytes=function(e){if(t.BrowserChecker.IsDataViewSupport()){var i=new DataView(new ArrayBuffer(8));i.setFloat64(0,e,!0);for(var r=[],o=0;o<8;++o)r.push(i.getUint8(o));return r}return n.ConvertNumberToArray(e,!0)},e}();e.Double=u;var c=function(){function e(){}return e.EncodeZigzag16=function(e){return(e=t.Number.ToInt16(e))<<1^e>>15},e.EncodeZigzag32=function(e){return(e=t.Number.ToInt32(e))<<1^e>>31},e.EncodeZigzag64=function(e){var n=e.low,i=e.high,r=i<<1|n>>>31,o=n<<1;2147483648&i&&(r=~r,o=~o);var s=new t.UInt64("0");return s.low=o,s.high=r,s},e}();e.Zigzag=c}(t.Encoding||(t.Encoding={}));!function(i){var r=function(){function e(){}return e.GetString=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(i<=191)t.push(String.fromCharCode(i));else if(i<=223){r=e[++n];t.push(String.fromCharCode((31&i)<<6|63&r))}else if(i<=239){var r=e[++n],o=e[++n];t.push(String.fromCharCode((15&i)<<12|(63&r)<<6|63&o))}else i=(7&i)<<18|(63&(r=e[++n]))<<12|(63&(o=e[++n]))<<6|63&e[++n],i-=65536,t.push(String.fromCharCode(55296|i>>10&1023)),t.push(String.fromCharCode(56320|1023&i))}return t.join("")},e}();i.Utf8=r;var o=function(){function e(){}return e.GetBytes=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[],i=0;i<e.length;++i){var r=t.indexOf(e.charAt(i++)),o=t.indexOf(e.charAt(i++)),s=t.indexOf(e.charAt(i++)),a=t.indexOf(e.charAt(i));n.push(r<<2|o>>4),s>=0&&(n.push(o<<4&240|s>>2),a>=0&&n.push(s<<6&192|a))}return n},e}();i.Base64=o;var s=function(){function t(){}return t.GetInt64=function(t){var n=new e.Bond.Int64("0"),i=this._Read(t);return n.low=i[0],i.length>1&&(n.high=i[1]),n},t.GetNumber=function(e){return this._Read(e)[0]},t._Read=function(e){for(var t=[],n=0,i=!0,r=0;i;){if(i=0!=(128&(o=e.shift())),o&=127,!(r<28)){n|=o<<r,t.push(n),n=o>>4,r=3;break}n|=o<<r,r+=7}for(;i;){var o=e.shift();if(i=0!=(128&o),o&=127,n|=o<<r,(r+=7)>=32)break}return t.push(n),t},t}();i.Varint=s;var a=function(){function e(){}return e.GetNumber=function(e){if(t.BrowserChecker.IsDataViewSupport()){for(var i=new DataView(new ArrayBuffer(4)),r=0;r<4;++r)i.setUint8(r,e[r]);return i.getFloat32(0,!0)}return n.ConvertArrayToNumber(e,!1)},e}();i.Float=a;var u=function(){function e(){}return e.GetNumber=function(e){if(t.BrowserChecker.IsDataViewSupport()){for(var i=new DataView(new ArrayBuffer(8)),r=0;r<8;++r)i.setUint8(r,e[r]);return i.getFloat64(0,!0)}return n.ConvertArrayToNumber(e,!0)},e}();i.Double=u;var c=function(){function t(){}return t.DecodeZigzag16=function(e){return((65535&e)>>>1^-(1&e))<<16>>16},t.DecodeZigzag32=function(e){return e>>>1^-(1&e)},t.DecodeZigzag64=function(t){var n=1&t.high,i=t.high>>>1,r=1&t.low,o=t.low>>>1;o|=n<<31,r&&(o^=4294967295,i^=4294967295);var s=new e.Bond.UInt64("0");return s.low=o,s.high=i,s},t}();i.Zigzag=c}(t.Decoding||(t.Decoding={}));var n=function(){function e(){}return e.ConvertNumberToArray=function(e,t){if(!e)return t?this._doubleZero:this._floatZero;var n=t?11:8,i=t?52:23,r=(1<<n-1)-1,o=1-r,s=r,a=e<0?1:0;e=Math.abs(e);for(var u=Math.floor(e),c=e-u,l=2*(r+2)+i,f=new Array(l),d=0;d<l;)f[d++]=0;for(d=r+2;d&&u;)f[--d]=u%2,u=Math.floor(u/2);for(d=r+1;d<l-1&&c>0;)(c*=2)>=1?(f[++d]=1,--c):f[++d]=0;for(var h=0;h<l&&!f[h];++h);var p=r+1-h,g=h+i;if(f[g+1]){for(d=g;d>h&&!(f[d]=1-f[d]);--d);d==h&&++p}if(p>s||u)return a?t?this._doubleNegInifinity:this._floatNegInifinity:t?this._doubleInifinity:this._floatInifinity;if(p<o)return t?this._doubleZero:this._floatZero;if(t){var v=0;for(d=0;d<20;++d)v=v<<1|f[++h];for(var _=0;d<52;++d)_=_<<1|f[++h];return y=[255&_,_>>8&255,_>>16&255,_>>>24,255&(v=a<<31|2147483647&(v|=p+r<<20)),v>>8&255,v>>16&255,v>>>24]}var m=0;for(d=0;d<23;++d)m=m<<1|f[++h];var y=[255&(m=a<<31|2147483647&(m|=p+r<<23)),m>>8&255,m>>16&255,m>>>24];return y},e.ConvertArrayToNumber=function(e,n){var i=(1<<(n?11:8)-1)-1,r=0!=(128&e[n?7:3]),o=n?(127&e[7])<<4|(240&e[6])>>4:(127&e[3])<<1|(128&e[2])>>7;if(255==o)throw new t.Exception("Not a valid float/double buffer.");var s=1,a=1;if(n){var u=(15&e[6])<<28|(255&e[5])<<20|(255&e[4])<<12,c=e[3]<<24|(255&e[2])<<16|(255&e[1])<<8|255&e[0];if(!o&&!u&&!c)return 0;for(f=0;f<20;++f)a/=2,u<0&&(s+=a),u<<=1;for(f=0;f<32;++f)a/=2,c<0&&(s+=a),c<<=1}else{var l=(127&e[2])<<25|(255&e[1])<<17|(255&e[0])<<9;if(!o&&!l)return 0;for(var f=0;f<23;++f)a/=2,l<0&&(s+=a),l<<=1}return s*=Math.pow(2,o-i),r?0-s:s},e._floatZero=[0,0,0,0],e._doubleZero=[0,0,0,0,0,0,0,0],e._floatInifinity=[0,0,128,127],e._floatNegInifinity=[0,0,128,255],e._doubleInifinity=[0,0,0,0,0,0,240,127],e._doubleNegInifinity=[0,0,0,0,0,0,240,255],e}()}(e.Bond||(e.Bond={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(e){!function(e){!function(t){var n=function(){function t(){this._buffer=[]}return t.prototype.WriteByte=function(t){this._buffer.push(e.Number.ToByte(t))},t.prototype.Write=function(e,t,n){for(;n--;)this.WriteByte(e[t++])},t.prototype.GetBuffer=function(){return this._buffer},t}();t.MemoryStream=n}(e.IO||(e.IO={}))}(e.Bond||(e.Bond={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(e){!function(e){var t=function(){return function(e,t){this.Type=e,this.Id=t}}();e.FieldTag=t;var n=function(){return function(e,t){this.ElementType=e,this.Size=t}}();e.ContainerTag=n;var i=function(){return function(e,t,n){this.KeyType=e,this.ValueType=t,this.Size=n}}();e.KeyValueContainerTag=i;var r=function(){return function(){}}();e.Bonded=r;var o=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e),this.low<0&&(this.high=-1)}return e.prototype.Equals=function(t){var n=new e(t);return this.low==n.low&&this.high==n.high},e}();e.Int64=o;var s=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e)}return e.prototype.Equals=function(t){var n=new e(t);return this.low==n.low&&this.high==n.high},e}();e.UInt64=s;var a=function(){function e(){}return e.ToByte=function(e){return this.ToUInt8(e)},e.ToInt8=function(e){return 127&e|(128&e)<<24>>24},e.ToInt16=function(e){return 32767&e|(32768&e)<<16>>16},e.ToInt32=function(e){return 2147483647&e|2147483648&e},e.ToUInt8=function(e){return 255&e},e.ToUInt16=function(e){return 65535&e},e.ToUInt32=function(e){return 4294967295&e},e}();e.Number=a;var u=function(){return function(e){this.Message=e}}();e.Exception=u;var c=function(){return function(){}}();e.KeyValuePair=c;var l=function(){function e(){}return e.IsDataViewSupport=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},e}();e.BrowserChecker=l}(e.Bond||(e.Bond={}))}(Microsoft||(Microsoft={})),function(e){!function(e){var t=function(){function t(e){this._stream=e}return t.prototype.WriteBlob=function(e){this._stream.Write(e,0,e.length)},t.prototype.WriteBool=function(e){this._stream.WriteByte(e?1:0)},t.prototype.WriteContainerBegin=function(e,t){this.WriteUInt8(t),this.WriteUInt32(e)},t.prototype.WriteMapContainerBegin=function(e,t,n){this.WriteUInt8(t),this.WriteUInt8(n),this.WriteUInt32(e)},t.prototype.WriteContainerEnd=function(){},t.prototype.WriteDouble=function(t){var n=e.Encoding.Double.GetBytes(t);this._stream.Write(n,0,n.length)},t.prototype.WriteFloat=function(t){var n=e.Encoding.Float.GetBytes(t);this._stream.Write(n,0,n.length)},t.prototype.WriteFieldBegin=function(e,t,n){t<=5?this._stream.WriteByte(e|t<<5):t<=255?(this._stream.WriteByte(192|e),this._stream.WriteByte(t)):(this._stream.WriteByte(224|e),this._stream.WriteByte(t),this._stream.WriteByte(t>>8))},t.prototype.WriteFieldEnd=function(){},t.prototype.WriteFieldOmitted=function(e,t,n){},t.prototype.WriteInt16=function(t){t=e.Encoding.Zigzag.EncodeZigzag16(t),this.WriteUInt16(t)},t.prototype.WriteInt32=function(t){t=e.Encoding.Zigzag.EncodeZigzag32(t),this.WriteUInt32(t)},t.prototype.WriteInt64=function(t){this.WriteUInt64(e.Encoding.Zigzag.EncodeZigzag64(t))},t.prototype.WriteInt8=function(t){this._stream.WriteByte(e.Number.ToInt8(t))},t.prototype.WriteString=function(t){if(""==t)this.WriteUInt32(0);else{var n=e.Encoding.Utf8.GetBytes(t);this.WriteUInt32(n.length),this._stream.Write(n,0,n.length)}},t.prototype.WriteStructBegin=function(e,t){},t.prototype.WriteStructEnd=function(t){this.WriteUInt8(t?e.BondDataType.BT_STOP_BASE:e.BondDataType.BT_STOP)},t.prototype.WriteUInt16=function(t){var n=e.Encoding.Varint.GetBytes(e.Number.ToUInt16(t));this._stream.Write(n,0,n.length)},t.prototype.WriteUInt32=function(t){var n=e.Encoding.Varint.GetBytes(e.Number.ToUInt32(t));this._stream.Write(n,0,n.length)},t.prototype.WriteUInt64=function(t){var n=e.Encoding.Varint64.GetBytes(t);this._stream.Write(n,0,n.length)},t.prototype.WriteUInt8=function(t){this._stream.WriteByte(e.Number.ToUInt8(t))},t.prototype.WriteWString=function(e){this.WriteUInt32(e.length);for(var t=0;t<e.length;++t){var n=e.charCodeAt(t);this._stream.WriteByte(n),this._stream.WriteByte(n>>>8)}},t}();e.CompactBinaryProtocolWriter=t;var n=function(){return function(){}}();e.CompactBinaryProtocolReader=n}(e.Bond||(e.Bond={}))}(Microsoft||(Microsoft={}));var sct;!function(e){var t=function(){function e(){}return e.IsSafariOrFirefox=function(){return null===e._isSafariOrFirefox&&e._DetectBrowser(),e._isSafariOrFirefox},e.ajax=function(t){var n=e._createConnection();if(t.headers){var i="qsp=true";for(var r in t.headers)i+="&",i+=encodeURIComponent(r),i+="=",i+=encodeURIComponent(t.headers[r]);t.url.indexOf("?")<0?t.url+="?":t.url+="&",t.url+=i}n.open(t.type,t.url),t.complete&&(n.onload=function(){void 0===n.status&&(n.status=200),t.complete(n)},n.ontimeout=function(){void 0===n.status&&(n.status=500),t.complete(n)},n.onerror=function(){t.complete(n)}),n.send(t.data)},e.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.IsUsingXDomainRequest=function(){if(null==e._usingXDomainRequest){var t=new XMLHttpRequest;e._usingXDomainRequest=void 0===t.withCredentials&&"undefined"!=typeof XDomainRequest}return e._usingXDomainRequest},e._createConnection=function(){var t=new XMLHttpRequest;return e.IsUsingXDomainRequest()?new XDomainRequest:t},e._DetectBrowser=function(){var t=navigator.userAgent.toLowerCase();e._isSafariOrFirefox=(t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0},e._isSafariOrFirefox=null,e._usingXDomainRequest=null,e}();e.Utils=t}(sct||(sct={}));var microsoft;!function(e){!function(e){!function(e){!function(t){var n=function(){function e(){}return e.GetGuid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1,5)};return[e(),e(),"-",e(),"-",e(),"-",e(),"-",e(),e(),e()].join("")},e.GetTimeStamp=function(){var e=(new Date).getTime(),t=new Microsoft.Bond.Int64("0");return t.low=4294967295&e,t.high=Math.floor(e/4294967296),t},e.GetTimeStampWithValue=function(e){var t=new Microsoft.Bond.Int64("0");return t.low=4294967295&e,t.high=Math.floor(e/4294967296),t},e}();t.utils=n;!function(e){e[e.NotSet=0]="NotSet",e[e.Event=1]="Event",e[e.PerformanceCounter=2]="PerformanceCounter",e[e.Anomaly=3]="Anomaly",e[e.Prediction=4]="Prediction",e[e.TraceLog=5]="TraceLog",e[e.EventSourceLog=6]="EventSourceLog",e[e.HttpLog=7]="HttpLog",e[e.PerformanceCounterAzure=8]="PerformanceCounterAzure",e[e.PerformanceCounterGfs=9]="PerformanceCounterGfs"}(t.RecordType||(t.RecordType={}));!function(e){e[e.NotSet=0]="NotSet",e[e.O365=1]="O365",e[e.SkypeBI=2]="SkypeBI",e[e.SkypeData=3]="SkypeData"}(t.PIIScrubber||(t.PIIScrubber={}));!function(e){e[e.NotSet=0]="NotSet",e[e.DistinguishedName=1]="DistinguishedName",e[e.GenericData=2]="GenericData",e[e.IPV4Address=3]="IPV4Address",e[e.IPv6Address=4]="IPv6Address",e[e.MailSubject=5]="MailSubject",e[e.PhoneNumber=6]="PhoneNumber",e[e.QueryString=7]="QueryString",e[e.SipAddress=8]="SipAddress",e[e.SmtpAddress=9]="SmtpAddress",e[e.Identity=10]="Identity",e[e.Uri=11]="Uri",e[e.Fqdn=12]="Fqdn",e[e.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(t.PIIKind||(t.PIIKind={}));var i=function(){function t(){this.ScrubType=e.datamodels.PIIScrubber.NotSet,this.Kind=e.datamodels.PIIKind.NotSet,this.RawContent=""}return t.prototype.Write=function(e){this.WriteImpl(e,!1)},t.prototype.WriteImpl=function(t,n){t.WriteStructBegin(null,n),this.ScrubType!=e.datamodels.PIIScrubber.NotSet?(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_INT32,1,null),t.WriteInt32(this.ScrubType),t.WriteFieldEnd()):t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_INT32,1,null),this.Kind!=e.datamodels.PIIKind.NotSet?(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_INT32,2,null),t.WriteInt32(this.Kind),t.WriteFieldEnd()):t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_INT32,2,null),""!=this.RawContent?(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_STRING,3,null),t.WriteString(this.RawContent),t.WriteFieldEnd()):t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_STRING,3,null),t.WriteStructEnd(n)},t.prototype.Read=function(e){this.ReadImpl(e,!1)},t.prototype.ReadImpl=function(e,t){},t}();t.PII=i;var r=function(){function t(){this.Id=n.GetGuid(),this.Timestamp=n.GetTimeStamp(),this.Type="",this.EventType="",this.Extension=new Microsoft.Bond.Collections.Map,this.RecordType=e.datamodels.RecordType.NotSet,this.PIIExtensions=new Microsoft.Bond.Collections.Map}return t.prototype.AddOrReplacePII=function(t,n,i){var r=new e.datamodels.PII;r.RawContent=n,r.Kind=i,r.ScrubType=e.datamodels.PIIScrubber.O365,this.PIIExtensions.AddOrReplace(t,r)},t.prototype.Write=function(e){this.WriteImpl(e,!1)},t.prototype.WriteImpl=function(t,n){if(t.WriteStructBegin(null,n),""!=this.Id?(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_STRING,1,null),t.WriteString(this.Id),t.WriteFieldEnd()):t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_STRING,1,null),this.Timestamp.Equals("0")?t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_INT64,3,null):(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_INT64,3,null),t.WriteInt64(this.Timestamp),t.WriteFieldEnd()),""!=this.Type?(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_STRING,5,null),t.WriteString(this.Type),t.WriteFieldEnd()):t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_STRING,5,null),""!=this.EventType?(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_STRING,6,null),t.WriteString(this.EventType),t.WriteFieldEnd()):t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_STRING,6,null),this.Extension.Count()){t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_MAP,13,null),t.WriteMapContainerBegin(this.Extension.Count(),Microsoft.Bond.BondDataType.BT_STRING,Microsoft.Bond.BondDataType.BT_STRING);for(var i=0;i<this.Extension.GetBuffer().length;++i)t.WriteString(this.Extension.GetBuffer()[i].Key),t.WriteString(this.Extension.GetBuffer()[i].Value);t.WriteContainerEnd(),t.WriteFieldEnd()}else t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_MAP,13,null);if(this.RecordType!=e.datamodels.RecordType.NotSet?(t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_INT32,24,null),t.WriteInt32(this.RecordType),t.WriteFieldEnd()):t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_INT32,24,null),this.PIIExtensions.Count()){t.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_MAP,30,null),t.WriteMapContainerBegin(this.PIIExtensions.Count(),Microsoft.Bond.BondDataType.BT_STRING,Microsoft.Bond.BondDataType.BT_STRUCT);for(var r=0;r<this.PIIExtensions.GetBuffer().length;++r)t.WriteString(this.PIIExtensions.GetBuffer()[r].Key),this.PIIExtensions.GetBuffer()[r].Value.WriteImpl(t,!1);t.WriteContainerEnd(),t.WriteFieldEnd()}else t.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_MAP,30,null);t.WriteStructEnd(n)},t.prototype.Read=function(e){this.ReadImpl(e,!1)},t.prototype.ReadImpl=function(e,t){},t}();t.Record=r;var o=function(){function e(){this.Source="",this.DataPackageId="",this.Timestamp=new Microsoft.Bond.Int64("0"),this.Records=[]}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){if(e.WriteStructBegin(null,t),""!=this.Source?(e.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_STRING,2,null),e.WriteString(this.Source),e.WriteFieldEnd()):e.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_STRING,2,null),""!=this.DataPackageId?(e.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_STRING,5,null),e.WriteString(this.DataPackageId),e.WriteFieldEnd()):e.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_STRING,5,null),this.Timestamp.Equals("0")?e.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_INT64,6,null):(e.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_INT64,6,null),e.WriteInt64(this.Timestamp),e.WriteFieldEnd()),this.Records.length){e.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_LIST,8,null),e.WriteContainerBegin(this.Records.length,Microsoft.Bond.BondDataType.BT_STRUCT);for(var n=0;n<this.Records.length;++n)this.Records[n].WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_LIST,8,null);e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}();t.DataPackage=o;var s=function(){function e(){this.DataPackages=[],this.RequestRetryCount=0}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){if(e.WriteStructBegin(null,t),this.DataPackages.length){e.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_LIST,1,null),e.WriteContainerBegin(this.DataPackages.length,Microsoft.Bond.BondDataType.BT_STRUCT);for(var n=0;n<this.DataPackages.length;++n)this.DataPackages[n].WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_LIST,1,null);0!=this.RequestRetryCount?(e.WriteFieldBegin(Microsoft.Bond.BondDataType.BT_INT32,2,null),e.WriteInt32(this.RequestRetryCount),e.WriteFieldEnd()):e.WriteFieldOmitted(Microsoft.Bond.BondDataType.BT_INT32,2,null),e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}();t.ClientToCollectorRequest=s}(e.datamodels||(e.datamodels={}))}(e.telemetry||(e.telemetry={}))}(e.applications||(e.applications={}))}(microsoft||(microsoft={}));var microsoft;!function(e){!function(t){!function(t){!function(n){var i;!function(e){e[e.SENT=0]="SENT",e[e.SEND_FAILED=1]="SEND_FAILED"}(i=n.CallbackEventType||(n.CallbackEventType={}));var r;!function(e){e[e.DATARV_ERROR_OK=0]="DATARV_ERROR_OK",e[e.DATARV_ERROR_INVALID_EVENT=1]="DATARV_ERROR_INVALID_EVENT",e[e.DATARV_ERROR_INVALID_CONFIG=2]="DATARV_ERROR_INVALID_CONFIG",e[e.DATARV_ERROR_INVALID_DEPENDENCIES=3]="DATARV_ERROR_INVALID_DEPENDENCIES",e[e.DATARV_ERROR_INVALID_STATUS=4]="DATARV_ERROR_INVALID_STATUS",e[e.DATARV_ERROR_INVALID_ARG=5]="DATARV_ERROR_INVALID_ARG"}(r=n.DATARV_ERROR||(n.DATARV_ERROR={}));var o=function(){function e(e){this._errorCode=r.DATARV_ERROR_OK,this._errorCode=e}return e.prototype.ErrorCode=function(){return this._errorCode},e.prototype.toString=function(){switch(this._errorCode){case r.DATARV_ERROR_OK:return"DATARV_ERROR_OK";case r.DATARV_ERROR_INVALID_EVENT:return"Event is invalid. Either event.Id is empty, or event.Timestamp is empty, or event.EventType is empty.";case r.DATARV_ERROR_INVALID_CONFIG:return"Invalid configuration. CollectorUrl is missing.";case r.DATARV_ERROR_INVALID_DEPENDENCIES:return"DATARV_ERROR_INVALID_DEPENDENCIES";case r.DATARV_ERROR_INVALID_STATUS:return"Telemetry Manager is not initialized.";case r.DATARV_ERROR_INVALID_ARG:return"TenantToken is null or empty, or events is null.";default:return"Unknown error"}},e}();n.Exception=o;var s=function(){return function(){this.eventsLimitInMem=1e4}}();n.TelemetryConfig=s;var a=function(){function e(){}return e.CreateTelemetryManager=function(){return new l},e}();n.TelemetryManagerFactory=a;var u,c=function(){function e(){}return e.MaxPackageSizeInBytes=3e6,e.TimeIntervalForNextSendInMS=15e3,e}();!function(e){e[e.Created=0]="Created",e[e.Initialized=1]="Initialized",e[e.Started=2]="Started"}(u||(u={}));var l=function(){function n(){this._MaxPackageSizeInBytes=c.MaxPackageSizeInBytes,this._listeners=[],this._status=u.Created,this._ecsClient=null,this._etag=null,this._ecsCallback=null,this._testServerResponseHook=null,this._isPaused=!1,this._testHookListeners=[]}return n.prototype.Initialize=function(i){if(this._status!=u.Created)throw new o(r.DATARV_ERROR_INVALID_STATUS);if(!i||!i.collectorUrl)throw new o(r.DATARV_ERROR_INVALID_CONFIG);if(this._config=i,this._Reset(),this._status=u.Initialized,i.ecsClient&&(this._Verbose("ECS object assigned. Do integration"),this._ecsClient=i.ecsClient),i.overwriteSendTimeInterval&&i.overwriteSendTimeInterval>=0&&(c.TimeIntervalForNextSendInMS=i.overwriteSendTimeInterval),i.enableTeamsStats){this.AddListener(function(i,r,o,s){if(!n.defaultLogger){var a=t.LogManager.getDefaultToken();a&&(n.defaultLogger=new e.applications.telemetry.Logger(a))}if(n.defaultLogger){for(var u=s.length,c=0,l=0;l<s.length;++l)"userbi"===s[l].EventType.toLowerCase()&&++c;var f=new t.EventProperties;f.name="scenario",f.setProperty("Scenario_Name","sdk_stats"),200===r?(f.setProperty("AriaStats_EventSentUserBi",c),f.setProperty("AriaStats_EventSent",u)):400===r&&(f.setProperty("AriaStats_EventDropUserBi",c),f.setProperty("AriaStats_EventDrop",u),f.setProperty("AriaStats_EventDropReason",r));var d=t.Logger.popEventReceivedCount();f.setProperty("AriaStats_EventRec",d);var h=t.Logger.popEventRejectCount();f.setProperty("AriaStats_EventReject",h);var p=t.Logger.popTryToSendCount();f.setProperty("AriaStats_TryToSend",p);var g=t.Logger.popEventPackageSize();f.setProperty("AriaStats_PackageSize",g),n.defaultLogger.logEvent(f)}})}this._Verbose("Initialize() done")},n.prototype.setEventsLimitInMem=function(e){this._eventsCache.setEventsLimitInMem(e)},n.prototype.AddListener=function(e){if(this._status<u.Initialized)throw new o(r.DATARV_ERROR_INVALID_STATUS);this._Verbose(["AddListener(), status: ",this._status," old length: ",this._listeners.length," func: ",e].join(""));for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return void this._Verbose("the listener has been added already, index: "+t);this._listeners.push(e),this._Verbose("AddListener() done, the new length: "+this._listeners.length)},n.prototype.RemoveListener=function(e){if(this._status<u.Initialized)throw new o(r.DATARV_ERROR_INVALID_STATUS);this._Verbose(["RemoveListener(), status: ",this._status," old length: ",this._listeners.length," func: ",e].join(""));for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return 1==this._listeners.length?this._listeners=[]:t==this._listeners.length-1?this._listeners.pop():this._listeners[t]=this._listeners.pop(),void this._Verbose(["this listener has been found, index: ",t,"new length: ",this._listeners.length].join(""));this._Verbose("listener isn't been found, new length"+this._listeners.length)},n.prototype.Start=function(){if(this._status<u.Initialized)throw new o(r.DATARV_ERROR_INVALID_STATUS);this._Verbose(["Start(), status:",this._status,"tag:",n._tag].join(" ")),this._status>=u.Started&&this._Verbose("Start() already, ignore"),this._ecsClient&&(this._ecsCallback=this._CreateEcsCallback(),this._ecsClient.AddListener(this._ecsCallback),this._etag=this._ecsClient.GetETag()),++n._tag,this._status=u.Started,this._Verbose(["Start() done, status: ",this._status,"tag: ",n._tag].join(""))},n.prototype.Stop=function(){if(this._status<u.Initialized)throw new o(r.DATARV_ERROR_INVALID_STATUS);this._Verbose("Stop(), status: "+this._status),this._status!=u.Initialized?(this._Reset(),this._status=u.Initialized,this._Verbose("Stop() done, status: "+this._status)):this._Verbose("Stop() already, ignore")},n.prototype.Flush=function(e){this._eventsCache.IsEmpty()||this._WorkThread(e)},n.prototype.SendAsync=function(e,i){if(this._status<u.Initialized)throw new o(r.DATARV_ERROR_INVALID_STATUS);if(this._Verbose(["SendAsync(), status:",this._status,"tenantToken:",e,"count:",i.length].join(" ")),this._status<u.Started)return this._Info("SendAsync(), not started, ignore, return false"),!1;if(!e||!i)throw this._Error("SendAsync(), tenantToken or events is null or empty"),new o(r.DATARV_ERROR_INVALID_ARG);for(var s=0;s<i.length;++s)if(!i[s].Id||!n._eventTypeRegex.test(i[s].EventType)||i[s].Timestamp.Equals("0"))throw this._Error(["eventId:",i[s].Id,"eventType:",i[s].EventType,"timestamp high:",i[s].Timestamp.high,"timestamp low:",i[s].Timestamp.low].join("")),t.Logger.addEventRejectCount(i.length),new o(r.DATARV_ERROR_INVALID_EVENT);return this._eventsCache.AddEvents(e,i),this._Verbose(["SendAsync(), currentTimer: ",this._timer,"eventsCacheIsEmpty",this._eventsCache.IsEmpty()].join(" ")),this._eventsCache.IsEmpty()||this._timer||this._ScheduleTimer(!1),this._Verbose("SendAsync() done"),!0},n.prototype.Pause=function(){this._isPaused||(this._CleanTimer(),this._isPaused=!0)},n.prototype.Resume=function(){this._isPaused&&(this._isPaused=!1,this._ScheduleTimer(!1))},n.prototype._WorkThread=function(e){var i=this;if(this._isPaused)this._CleanTimer();else try{var r=Date.now();if(this._Verbose("_WorkThread, status: "+this._status),this._status<u.Started)return void this._Verbose("_WorkThread, status is not started, return");var o=this._eventsCache.DequeuEvents();if(null==o)return this._Verbose("_WorkThread, No events found, return"),void this._CleanTimer();var s=o.events.length,a=this._PackEvents(o.tenantToken,o.events);this._eventsCache.AddEvents(o.tenantToken,a.remainedEvents);var c=a.remainedEvents.length;if(null==a.buffer||0==a.buffer.length)return void(this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1)));if(this._testHookListeners)for(var l=0;l<this._testHookListeners.length;++l)this._testHookListeners[l](a.sendEvents);var f=a.sendEvents,d=a.buffer.length;if(this._testServerResponseHook){var h=this._testServerResponseHook();return void setTimeout(function(){return i._SendCallback(g,o.tenantToken,f,d,h,null)},100)}var p={type:"POST",url:this._config.collectorUrl,processData:!1,headers:{"content-type":"application/bond-compact-binary","client-id":"NO_AUTH","sdk-version":"ACT-Web-JS-"+clienttelemetry_build.version},complete:function(t){return i._SendCallback(g,o.tenantToken,f,d,t,e)}};this._config.useJsonTextStream?(p.data=a.buffer,p.headers["content-type"]="application/json"):sct.Utils.IsSafariOrFirefox()||"undefined"==typeof Uint8Array?(this._Verbose("Uint8Array is undefined, send with base64 encode."),p.data=Microsoft.Bond.Encoding.Base64.GetString(a.buffer),p.headers["content-encoding"]="base64"):(this._Verbose("Uint8Array is defined, send with binary format directly."),p.data=new Uint8Array(a.buffer)),o.tenantToken&&(p.headers["x-apikey"]=o.tenantToken);var g=n._tag;if(this._lastActiveTime=(new Date).getTime(),sct.Utils.ajax(p),this._config.enableTeamsStats){var v=s-c;t.Logger.addTryToSendCount(v),t.Logger.addEventPackageSize(a.buffer.length)}this._Verbose("_Workthread, send via jquery, tag: "+g),this._Info("Processing telemetry events took "+(Date.now()-r)+" ms for "+(s-c)+" events with total size of "+a.buffer.length+" bytes, remaining events - "+c)}catch(e){this._Error("_WorkThread, exception: "+e)}},n.prototype._PackEvents=function(e,n){this._Verbose("_PackageEvents, total Count: "+n.length);var i=new t.datamodels.ClientToCollectorRequest,r=new t.datamodels.DataPackage;r.Source="JS_default_source",r.DataPackageId=t.datamodels.utils.GetGuid(),r.Timestamp=t.datamodels.utils.GetTimeStamp();var o,s=n;if(n=[],s.length>200){var a=s.splice(0,200);n.push.apply(n,s),s=a}for(;;){if(r.Records=[],r.Records.push.apply(r.Records,s),i.DataPackages=[],i.DataPackages.push(r),o=this._Serialize(i),this._Verbose(["_PackageEvents, sendEvents.length:",s.length," buffer.length:",o.length," MaxPackageSize:",this._MaxPackageSizeInBytes].join("")),o.length<this._MaxPackageSizeInBytes)break;if(1==s.length){s=[],o=null;break}var u=s.splice(0,Math.floor(s.length/2));this._Verbose("_PackageEvents, too large, package again"),n.push.apply(n,s),s=u}return this._Verbose(["_PakcageEvents done, sendEventsCount:",s.length,"buffer.length:",null==o?0:o.length,"remained events:",n.length].join("")),{buffer:o,sendEvents:s,remainedEvents:n}},n.prototype._Serialize=function(e){if(this._config.useJsonTextStream){var n=new t.JsonTextWriter;return e.Write(n),JSON.stringify(n.data)}var i=new Microsoft.Bond.IO.MemoryStream,r=new Microsoft.Bond.CompactBinaryProtocolWriter(i);return e.Write(r),i.GetBuffer()},n.prototype._SendCallback=function(e,t,r,o,s,a){if(this._Verbose(["_SendCallback","tag:",e,"current tag:",n._tag,"tenantToken:",t,"events count:",r.length,"jqXHR:",s].join("")),null==a){var c=null!=s&&s.status>=200&&s.status<300;if(this._status<u.Started||e<n._tag)this._Verbose("_SendCallback, is not started, or tag is not the same, return");else{if(!(c||s&&400==s.status))return this._Verbose("retry statusCode: "+(s?s.status:0)),this._eventsCache.AddEvents(t,r),void this._ScheduleTimer(!0);for(var l=0;l<this._listeners.length;++l)this._listeners[l](c?i.SENT:i.SEND_FAILED,s?s.status:0,t,r,o);this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1))}}else a(s?s.status:0,t,r)},n.prototype._CleanTimer=function(){this._Verbose("_CleanTimer(), timer: "+this._timer),this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._ScheduleTimer=function(e){var t=this;if(this._Verbose("_ScheduleTimer: isRetry: "+e),this._CleanTimer(),e){this._Verbose("_ScheduleTimer, current factor: "+this._rescheduleFactor);n=Math.floor(5*this._rescheduleFactor*(1+Math.random()));this._timer=setTimeout(function(){return t._WorkThread(null)},1e3*n),this._Verbose("_ScheduleTimer, next try (s): "+n),this._rescheduleFactor<<=1,this._rescheduleFactor>64&&(this._rescheduleFactor=1)}else{var n=0,i=(new Date).getTime()-this._lastActiveTime;n=i>c.TimeIntervalForNextSendInMS?0:c.TimeIntervalForNextSendInMS-i,this._timer=setTimeout(function(){return t._WorkThread(null)},n),this._Verbose("_ScheduleTimer, next try: "+n),this._rescheduleFactor=1}},n.prototype._Verbose=function(e){this._config.log&&this._config.log.Verbose("[TelemetryManagerImpl]: "+e)},n.prototype._Info=function(e){this._config.log&&this._config.log.Info("[TelemetryManagerImpl]: "+e)},n.prototype._Error=function(e){this._config.log&&this._config.log.Error("[TelemetryManagerImpl]: "+e)},n.prototype._Reset=function(){this._Verbose("Reset()"),this._CleanTimer(),this._lastActiveTime=0,this._rescheduleFactor=1,this._sendingEvents=[],this._eventsCache=new f(this._config.log,this._config.eventsLimitInMem),this._ecsClient&&(this._ecsClient.RemoveListener(this._ecsCallback),this._ecsCallback=null)},n.prototype._CreateEcsCallback=function(){var e=this;return function(t){t==ecs.CallbackEventType.CONFIG_UPDATED&&(e._etag=e._ecsClient.GetETag())}},n.prototype.__AddTestHookListener=function(e){if(this._status<u.Initialized)throw new o(r.DATARV_ERROR_INVALID_STATUS);for(var t=0;t<this._testHookListeners.length;++t)if(this._testHookListeners[t]==e)return;this._testHookListeners.push(e)},n.prototype.__ClearTestHookListener=function(){this._testHookListeners=[]},n.prototype.__GetListenerArray=function(){return this._listeners},n.prototype.__GetTotalEventsCount=function(){return this._eventsCache.GetTotalEventsCount()},n.prototype.__IsScheduled=function(){return null!=this._timer},n.prototype.__ChageMaxPackageSizeInKB=function(e){this._MaxPackageSizeInBytes=1024*e},n.prototype.__SetTestServerResponseHook=function(e){this._testServerResponseHook=e},n.defaultLogger=void 0,n._eventTypeRegex=/^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,n._tag=0,n}();n.TelemetryManagerImpl=l;var f=function(){function e(e,t){this._logger=e,this._eventsLimitInMem=t,this._events={},this._tokens=[]}return e.prototype.AddEvents=function(e,t){t.length&&(t.length>this._eventsLimitInMem?this._logDroppedEvents(e,t.length):(this._events[e]||(this._events[e]=[],this._tokens.push(e)),this._events[e].push.apply(this._events[e],t)))},e.prototype.IsEmpty=function(){return 0==this._tokens.length},e.prototype.DequeuEvents=function(){if(0==this._tokens.length)return null;var e=this._tokens.shift(),t=this._events[e];return delete this._events[e],{tenantToken:e,events:t}},e.prototype.GetTotalEventsCount=function(){var e=0;for(var t in this._events)e+=this._events[t].length;return e},e.prototype.setEventsLimitInMem=function(e){this._eventsLimitInMem=e},e.prototype._logDroppedEvents=function(e,t){if(this._logger){var n=0;this._events[e]&&(n=this._events[e].length),this._logger.Verbose("[TelemetryEventCache]: Size of dropped events: "+t+",\n          events size currently in queue for tenant "+e+": "+n)}},e}()}(t._sender||(t._sender={}))}(t.telemetry||(t.telemetry={}))}(e.applications||(e.applications={}))}(microsoft||(microsoft={}));var clienttelemetry_build;!function(e){e.version="2.5.0"}(clienttelemetry_build||(clienttelemetry_build={}));var microsoft;!function(e){!function(e){!function(e){e.globalTelemetryManager=null;var t=function(){return function(){this.collectorUrl=null}}();e.LogConfiguration=t;var n=function(){function t(){this.key=null,this.value=null,this.pii=null}return t._isPii=function(t){if(t==e.datamodels.PIIKind.NotSet)return!1;var n=!1;for(var i in e.datamodels.PIIKind)isNaN(i)||i==t&&(n=!0);return n},t}();e.Property=n;var i=function(){function t(){this.name=null,this.timestamp=null,this.properties=[],this.eventType=null}return t.prototype.setProperty=function(n,i,s){if(!n||!this.properties[n]&&!t._propertyNameRegex.test(n))throw new o(r.INVALID_PROPERTY_NAME);this.properties[n]={key:n,value:i,pii:s!=e.datamodels.PIIKind.NotSet?s:null}},t.prototype.unsetProperty=function(e){if(!e)throw new o(r.INVALID_PROPERTY_NAME);void 0!==this.properties[e]&&(this.properties[e]=void 0,delete this.properties[e])},t._propertyNameRegex=/^[a-zA-Z0-9](([a-zA-Z0-9|_|.]){0,98}[a-zA-Z0-9])?$/,t}();e.EventProperties=i;var r;!function(e){e[e.INVALID_TENANT_TOKEN=1]="INVALID_TENANT_TOKEN",e[e.MISSING_EVENT_PROPERTIES_NAME=2]="MISSING_EVENT_PROPERTIES_NAME",e[e.INVALID_PROPERTY_NAME=3]="INVALID_PROPERTY_NAME",e[e.INVALID_COLLECTOR_URL=4]="INVALID_COLLECTOR_URL",e[e.MISSING_FAILURE_SIGNATURE=5]="MISSING_FAILURE_SIGNATURE",e[e.MISSING_FAILURE_DETAIL=6]="MISSING_FAILURE_DETAIL",e[e.MISSING_PAGEVIEW_ID=7]="MISSING_PAGEVIEW_ID",e[e.MISSING_PAGEVIEW_NAME=8]="MISSING_PAGEVIEW_NAME",e[e.INVALID_SESSION_STATE=9]="INVALID_SESSION_STATE"}(r=e.TelemetryError||(e.TelemetryError={}));var o=function(){function e(e){this.errorCode=null,this.errorCode=e}return e.prototype.ErrorCode=function(){return this.errorCode},e.prototype.toString=function(){switch(this.errorCode){case r.INVALID_TENANT_TOKEN:return"Invalid tenant token";case r.MISSING_EVENT_PROPERTIES_NAME:return"Eventproperties.name can not be null or empty";case r.INVALID_PROPERTY_NAME:return"Invalid Key. Key does not conform to regular expression ^[a-zA-Z0-9](([a-zA-Z0-9|_]){0,98}[a-zA-Z0-9])?$";case r.INVALID_COLLECTOR_URL:return"Collector url can't be null or empty.";case r.MISSING_FAILURE_SIGNATURE:return"Failure signature can't be null or empty.";case r.MISSING_FAILURE_DETAIL:return"Failure detail can't be null or empty.";case r.MISSING_PAGEVIEW_ID:return"Pageview id can't be null or empty.";case r.MISSING_PAGEVIEW_NAME:return"Pageview name can't be null or empty.";case r.INVALID_SESSION_STATE:return"Session state has to be a value from the SessionState enum.";default:return"Unknown error"}},e}();e.Exception=o;var s=function(){function t(t){this.contextMap=new Microsoft.Bond.Collections.Map,this.piiKind=e.datamodels.PIIKind.NotSet,this._allowDeviceInfoFields=!1,this._allowDeviceInfoFields=t}return t.prototype.setAppId=function(e){e&&this.contextMap.Add("AppInfo.Id",e)},t.prototype.setAppVersion=function(e){e&&this.contextMap.Add("AppInfo.Version",e)},t.prototype.setAppLanguage=function(e){e&&(this.contextMap.Add("AppInfo.Language",e),this.contextMap.Add("AppInfo.Locale",e))},t.prototype.setDeviceId=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.Id",e)},t.prototype.setDeviceOsName=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.OsName",e)},t.prototype.setDeviceOsFamily=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.OsFamily",e)},t.prototype.setDeviceOsVersion=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.OsVersion",e)},t.prototype.setDeviceBrowserName=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.BrowserName",e)},t.prototype.setDeviceBrowserVersion=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.BrowserVersion",e)},t.prototype.setUserId=function(e,t){e&&this.contextMap.Add("UserInfo.Id",e),n._isPii(t)&&(this.piiKind=t)},t.prototype.setUserMsaId=function(e){e&&this.contextMap.Add("UserInfo.MsaId",e)},t.prototype.setUserANID=function(e){e&&this.contextMap.Add("UserInfo.ANID",e)},t.prototype.setUserAdvertisingId=function(e){e&&this.contextMap.Add("UserInfo.AdvertisingId",e)},t.prototype.setUserTimeZone=function(e){e&&this.contextMap.Add("UserInfo.TimeZone",e)},t.prototype.setUserLanguage=function(e){e&&this.contextMap.Add("UserInfo.Language",e)},t}();e.SemanticContext=s;var a,u=function(){function e(){}return e.initialize=function(t){e.documentInfo=t;var n=t.appLanguage;n&&e.semanticContext.setAppLanguage(n);var i=t.userLanguage;i&&e.semanticContext.setUserLanguage(i);var r=(new Date).getTimezoneOffset(),o=r%60,s=(r-o)/60,a="+";s>0&&(a="-"),o=Math.abs(o);var u=a+((s=Math.abs(s))<10?"0"+s:s.toString())+":"+(o<10?"0"+o:o.toString());e.semanticContext.setUserTimeZone(u),e.semanticContext.setDeviceBrowserName(e._getBrowserName()),e.semanticContext.setDeviceBrowserVersion(e._getBrowserVersion()),e.semanticContext.setDeviceOsName(e._getOsName()),e.semanticContext.setDeviceOsVersion(e._getOsVersion()),e.semanticContext.setDeviceOsFamily(e._getOsFamily()),e.semanticContext.setDeviceId(t.deviceId),e.firstLaunchTime=t.firstLaunchTime},e.checkAndUpdateDeviceId=function(e){},e._setCookie=function(e,t){},e._getCookie=function(e){return""},e._getUserAgent=function(){return e.documentInfo.userAgent},e._userAgentContainsString=function(t){return e._getUserAgent().indexOf(t)>-1},e._isIe=function(){return e._userAgentContainsString("Trident")},e._isEdge=function(){return e._userAgentContainsString(e.BROWSERS.EDGE)},e._isEdgeAnaheim=function(){return e._userAgentContainsString("Edg/")},e._isOpera=function(){return e._userAgentContainsString("OPR/")},e._getBrowserName=function(){return e._isOpera()?e.BROWSERS.UNKNOWN:e._userAgentContainsString(e.BROWSERS.PHANTOMJS)?e.BROWSERS.PHANTOMJS:e._isEdge()?e.BROWSERS.EDGE:e._isEdgeAnaheim()?e.BROWSERS.EDGEANAHEIM:e._userAgentContainsString(e.BROWSERS.ELECTRON)?e.BROWSERS.ELECTRON:e._userAgentContainsString(e.BROWSERS.CHROME)?e.BROWSERS.CHROME:e._userAgentContainsString(e.BROWSERS.FIREFOX)?e.BROWSERS.FIREFOX:e._userAgentContainsString(e.BROWSERS.SAFARI)?e.BROWSERS.SAFARI:e._userAgentContainsString(e.BROWSERS.SKYPE_SHELL)?e.BROWSERS.SKYPE_SHELL:e._isIe()?e.BROWSERS.MSIE:e.BROWSERS.UNKNOWN},e._getBrowserVersion=function(){return e._isIe()?function(){var t,n=e._getUserAgent(),i=n.match(new RegExp(e.BROWSERS.MSIE+" "+e.REGEX_VERSION));return i?i[1]:(t=n.match(new RegExp("rv:"+e.REGEX_VERSION)))?t[1]:void 0}():function(t){var n;return t===e.BROWSERS.SAFARI?t="Version":t===e.BROWSERS.EDGEANAHEIM&&(t="Edg"),(n=e._getUserAgent().match(new RegExp(t+"/"+e.REGEX_VERSION)))?n[1]:e.UNKNOWN_VERSION}(e._getBrowserName())},e._getOsName=function(){var t=/(windows|win32)/i,n=/ arm;/i,i=/windows\sphone\s\d+\.\d+/i,r=/(macintosh|mac os x)/i,o=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,s=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,a=/android/i;return e._getUserAgent().match(i)?e.OPERATING_SYSTEMS.WINDOWS_PHONE:e._getUserAgent().match(n)?e.OPERATING_SYSTEMS.WINDOWS_RT:e._getUserAgent().match(o)?e.OPERATING_SYSTEMS.IOS:e._getUserAgent().match(a)?e.OPERATING_SYSTEMS.ANDROID:e._getUserAgent().match(s)?e.OPERATING_SYSTEMS.LINUX:e._getUserAgent().match(r)?e.OPERATING_SYSTEMS.MACOSX:e._getUserAgent().match(t)?e.OPERATING_SYSTEMS.WINDOWS:e.OPERATING_SYSTEMS.UNKNOWN},e._getOsFamily=function(){var t=e._getOsName();if(!t)return e.OPERATING_SYSTEMS_FAMILY.UNKNOWN;switch(t){case e.OPERATING_SYSTEMS.WINDOWS:return e.OPERATING_SYSTEMS_FAMILY.WINDOWS;case e.OPERATING_SYSTEMS.MACOSX:return e.OPERATING_SYSTEMS_FAMILY.MACOSX;case e.OPERATING_SYSTEMS.LINUX:return e.OPERATING_SYSTEMS_FAMILY.UNIX}},e._getOsVersion=function(){function t(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}return e._getOsName()===e.OPERATING_SYSTEMS.WINDOWS?function(){var t=e._getUserAgent().match(new RegExp("Windows NT "+e.REGEX_VERSION));return t&&e.VERSION_MAPPINGS[t[1]]?e.VERSION_MAPPINGS[t[1]]:e.UNKNOWN_VERSION}():e._getOsName()===e.OPERATING_SYSTEMS.MACOSX?function(){var n=e._getUserAgent().match(new RegExp(e.OPERATING_SYSTEMS.MACOSX+" "+e.REGEX_VERSION_MAC));if(n){var i=n[1].replace(/_/g,".");if(i){var r=t(i);return r?i.split(r)[0]:i}}return e.UNKNOWN_VERSION}():e.UNKNOWN_VERSION},e.semanticContext=new s(!0),e.firstLaunchTime=-1,e.BROWSERS={MSIE:"MSIE",CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",EDGE:"Edge",EDGEANAHEIM:"EdgeAnaheim",ELECTRON:"Electron",SKYPE_SHELL:"SkypeShell",PHANTOMJS:"PhantomJS",UNKNOWN:"Unknown"},e.OPERATING_SYSTEMS={WINDOWS:"Windows",MACOSX:"Mac OS X",WINDOWS_PHONE:"Windows Phone",WINDOWS_RT:"Windows RT",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNKNOWN:"Unknown"},e.OPERATING_SYSTEMS_FAMILY={WINDOWS:"Windows",MACOSX:"Unix/Macintosh",UNIX:"Unix",UNKNOWN:"Unknown"},e.VERSION_MAPPINGS={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},e.REGEX_VERSION="([\\d,.]+)",e.REGEX_VERSION_MAC="([\\d,_,.]+)",e.UNKNOWN_VERSION="Unknown",e.DEVICE_ID_COOKIE="MicrosoftApplicationsTelemetryDeviceId",e.FIRST_LAUNCH_TIME_COOKIE="MicrosoftApplicationsTelemetryFirstLaunchTime",e}();!function(e){e[e.STARTED=0]="STARTED",e[e.ENDED=1]="ENDED"}(a=e.SessionState||(e.SessionState={}));var c=function(){function t(){}return t.initialize=function(n,i){if(!t._initialized){if(!i)throw new o(r.INVALID_TENANT_TOKEN);t._defaultToken=i,t._config.collectorUrl||(t._config.collectorUrl="https://browser.pipe.aria.microsoft.com/Collector/3.0/"),e.globalTelemetryManager||(e.globalTelemetryManager=e._sender.TelemetryManagerFactory.CreateTelemetryManager(),e.globalTelemetryManager.Initialize(t._config)),e.globalTelemetryManager.Start(),u.initialize(n),t._initialized=!0}},t.initializeWithConfiguration=function(e,n,i){if(!i.collectorUrl)throw new o(r.INVALID_COLLECTOR_URL);t._config.collectorUrl=i.collectorUrl,t.initialize(e,n)},t.flush=function(t){e.globalTelemetryManager.Flush(t)},t.addCallbackListener=function(n){t._initialized&&e.globalTelemetryManager.AddListener(n)},t.setContext=function(e,n,i){""!==n&&"null"!==n&&"undefined"!==n?t._contextProperties.setProperty(e,n,i):t._contextProperties.unsetProperty(e)},t.isInitialized=function(){return t._initialized},t.getDefaultToken=function(){return t._defaultToken},t.getSemanticContext=function(){return t._semanticContext},t.__addTestHookListener=function(n){t._initialized&&e.globalTelemetryManager.__AddTestHookListener(n)},t.__clearTestHookListener=function(){t._initialized&&e.globalTelemetryManager.__ClearTestHookListener()},t.__backToUninitialized=function(){t._config=new e._sender.TelemetryConfig,t._semanticContext=new s(!0),t._contextProperties=new i,e.globalTelemetryManager=e._sender.TelemetryManagerFactory.CreateTelemetryManager(),t._initialized=!1},t._initialized=!1,t._defaultToken=null,t._config=new e._sender.TelemetryConfig,t._contextProperties=new i,t._semanticContext=new s(!0),t}();e.LogManager=c;var l=function(){function t(t){this._initId=e.datamodels.utils.GetGuid(),this._sequence=0,this._tenantToken=null,this._contextProperties=new i,this._semanticContext=new s(!1),this._sessionStartTime=0,this._sessionId=null,this._tenantToken=t||c.getDefaultToken()}return t.popEventReceivedCount=function(){var e=t.eventReceivedCount;return t.eventReceivedCount=0,e},t.popEventRejectCount=function(){var e=t.eventRejectCount;return t.eventRejectCount=0,e},t.addEventRejectCount=function(e){t.eventRejectCount+=e},t.popTryToSendCount=function(){var e=t.eventPackageSize;return t.eventPackageSize=0,e},t.addTryToSendCount=function(e){t.eventTryToSendCount+=e},t.popEventPackageSize=function(){var e=t.eventPackageSize;return t.eventPackageSize=0,e},t.addEventPackageSize=function(e){t.eventPackageSize+=e},t.prototype.logEvent=function(e){if(!e.name)throw++t.eventRejectCount,new o(r.MISSING_EVENT_PROPERTIES_NAME);++t.eventReceivedCount;var n=this._createEventRecord(e.name,e.eventType);this._addCustomPropertiesToEvent(n,e),this._sendRecord(n)},t.prototype.logFailure=function(e,t,n,i,s){if(!e)throw new o(r.MISSING_FAILURE_SIGNATURE);if(!t)throw new o(r.MISSING_FAILURE_DETAIL);var a=this._createEventRecord("failure","failure");a.Extension.Add("Failure.Signature",e),a.Extension.Add("Failure.Detail",t),n&&a.Extension.Add("Failure.Category",n),i&&a.Extension.Add("Failure.Id",i),this._addCustomPropertiesToEvent(a,s),this._sendRecord(a)},t.prototype.logPageView=function(e,t,n,i,s,a){if(!e)throw new o(r.MISSING_PAGEVIEW_ID);if(!t)throw new o(r.MISSING_PAGEVIEW_NAME);var u=this._createEventRecord("pageview","pageview");u.Extension.Add("PageView.Id",e),u.Extension.Add("PageView.Name",t),n&&u.Extension.Add("PageView.Category",n),i&&u.Extension.Add("PageView.Uri",i),s&&u.Extension.Add("PageView.ReferrerUri",s),this._addCustomPropertiesToEvent(u,a),this._sendRecord(u)},t.prototype.logSession=function(t,n){if(t!==a.STARTED&&t!==a.ENDED)throw new o(r.INVALID_SESSION_STATE);var i=this._createEventRecord("session","session");if(t===a.STARTED){if(this._sessionStartTime>0)return;this._sessionStartTime=(new Date).getTime(),this._sessionId=e.datamodels.utils.GetGuid(),i.Extension.Add("Session.Id",this._sessionId),i.Extension.Add("Session.State","Started")}else if(t===a.ENDED){if(0==this._sessionStartTime)return;var s=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);i.Extension.Add("Session.Duration",s.toString()),i.Extension.Add("Session.DurationBucket",this._getSessionDurationFromTime(s)),i.Extension.Add("Session.Id",this._sessionId),i.Extension.Add("Session.State","Ended"),this._sessionId=null,this._sessionStartTime=0}i.Extension.Add("Session.FirstLaunchTime",new Date(u.firstLaunchTime).toISOString()),this._addCustomPropertiesToEvent(i,n),this._sendRecord(i)},t.prototype.getSessionId=function(){return this._sessionId},t.prototype.setContext=function(e,t,n){this._contextProperties.setProperty(e,t,n)},t.prototype.getSemanticContext=function(){return this._semanticContext},t.prototype._getSessionDurationFromTime=function(e){return e<0?"Undefined":e<=3?"UpTo3Sec":e<=10?"UpTo10Sec":e<=30?"UpTo30Sec":e<=60?"UpTo60Sec":e<=180?"UpTo3Min":e<=600?"UpTo10Min":e<=1800?"UpTo30Min":"Above30Min"},t.prototype._createEventRecord=function(t,n){var i=new e.datamodels.Record;n||(n="custom"),i.EventType=t.toLowerCase(),i.Type=n.toLowerCase(),i.Extension.Add("EventInfo.Source","JS_default_source"),i.Extension.Add("EventInfo.InitId",this._initId),this._sequence++,i.Extension.Add("EventInfo.Sequence",this._sequence.toString()),i.Extension.Add("EventInfo.Name",t.toLowerCase());var r=new Date;return i.Timestamp=e.datamodels.utils.GetTimeStampWithValue(r.getTime()),i.Extension.Add("EventInfo.Time",r.toISOString()),i.Extension.Add("EventInfo.SdkVersion","ACT-Web-JS-"+clienttelemetry_build.version),i},t.prototype._addCustomPropertiesToEvent=function(e,t){this._addSemanticContext(e,u.semanticContext),this._addSemanticContext(e,c._semanticContext),this._addSemanticContext(e,this._semanticContext),this._sessionId&&e.Extension.Add("Session.Id",this._sessionId),this._addEventPropertiesToEvent(e,c._contextProperties),this._addEventPropertiesToEvent(e,this._contextProperties),this._addEventPropertiesToEvent(e,t)},t.prototype._addSemanticContext=function(t,n){if(n&&n.contextMap.Count()>0)for(var i=n.contextMap.GetBuffer(),r=0;r<i.length;r++)"UserInfo.Id"==i[r].Key&&n.piiKind!=e.datamodels.PIIKind.NotSet?t.AddOrReplacePII(i[r].Key,i[r].Value,n.piiKind):t.Extension.AddOrReplace(i[r].Key,i[r].Value)},t.prototype._addEventPropertiesToEvent=function(t,i){if(i){i.timestamp&&i.timestamp>=new Date("1/1/2000").getTime()&&(t.Timestamp=e.datamodels.utils.GetTimeStampWithValue(i.timestamp),t.Extension.AddOrReplace("EventInfo.Time",new Date(i.timestamp).toISOString())),i.name&&(t.EventType=i.name.toLowerCase(),t.Extension.AddOrReplace("EventInfo.Name",i.name.toLowerCase()));var r=i.properties;if(r)for(var o in r)r[o].key&&"string"==typeof r[o].key&&(r[o].value||0==r[o].value||0==r[o].value||""==r[o].value)&&(n._isPii(r[o].pii)?(t.AddOrReplacePII(r[o].key,r[o].value.toString(),r[o].pii),t.Extension.Remove(r[o].key)):(t.Extension.AddOrReplace(r[o].key,r[o].value.toString()),t.PIIExtensions.Remove(r[o].key)))}},t.prototype._sendRecord=function(t){c.isInitialized()&&e.globalTelemetryManager.SendAsync(this._tenantToken,[t])},t.eventReceivedCount=0,t.eventRejectCount=0,t.eventTryToSendCount=0,t.eventPackageSize=0,t}();e.Logger=l}(e.telemetry||(e.telemetry={}))}(e.applications||(e.applications={}))}(microsoft||(microsoft={}));var ecs;!function(e){var t;!function(e){e[e.ECS_ERROR_OK=0]="ECS_ERROR_OK",e[e.ECS_ERROR_INVALID_STATUS=1]="ECS_ERROR_INVALID_STATUS",e[e.ECS_ERROR_INVALID_RESPONSE=6]="ECS_ERROR_INVALID_RESPONSE",e[e.ECS_ERROR_INVALID_CONFIG=8]="ECS_ERROR_INVALID_CONFIG"}(t=e.ECS_ERROR||(e.ECS_ERROR={}));var n=function(){function e(e){this._errorCode=e}return e.prototype.ErrorCode=function(){return this._errorCode},e.prototype.toString=function(){switch(this._errorCode){case t.ECS_ERROR_OK:return"ECS_ERROR_OK";case t.ECS_ERROR_INVALID_STATUS:return"ECS_ERROR_INVALID_STATUS";case t.ECS_ERROR_INVALID_RESPONSE:return"ECS_ERROR_INVALID_RESPONSE";case t.ECS_ERROR_INVALID_CONFIG:return"ECS_ERROR_INVALID_CONFIG";default:return"Unknown error"}},e}();e.Exception=n;var i;!function(e){e[e.CONFIG_UPDATED=0]="CONFIG_UPDATED",e[e.TOKEN_IS_INVALID=1]="TOKEN_IS_INVALID"}(i=e.CallbackEventType||(e.CallbackEventType={}));var r=function(){function e(){}return e.prototype.Copy=function(e){if(this.uiVersion=e.uiVersion,this.log=e.log,this.servers=void 0,e.servers&&e.servers.length){this.servers=[];for(var t=0;t<e.servers.length;++t)this.servers.push(e.servers[t])}},e}();e.EcsClientConfig=r;var o=function(){function e(){}return e.CreateEcsClient=function(){return new u},e.__ChangeFailedRetryFactorInMS=function(e){a.FailedRetryFactorInMS=e},e}();e.EcsClientFactory=o;var s,a=function(){function e(){}return e.Servers=["https://config.teams.microsoft.com/config/v1/Skype/"],e.RefreshIntervalInMS=36e5,e.FailedRetryFactorInMS=1e4,e.MaxRetryIntervalForFailedInMS=36e5,e}();!function(e){e[e.Created=0]="Created",e[e.Initialized=1]="Initialized",e[e.Started=2]="Started",e[e.Loading=3]="Loading"}(s||(s={}));var u=function(){function e(){this._tag=0,this._status=s.Created,this._listeners=[],this._failedTimes={},this._skypeToken=null,this._pendingToken=[],this._queryParams={}}return e.prototype.Initialize=function(e){if(this._status!=s.Created)throw new n(t.ECS_ERROR_INVALID_STATUS);if(!e||!e.uiVersion)throw new n(t.ECS_ERROR_INVALID_CONFIG);this._config=new r,this._config.Copy(e),this._config.uiVersion=this._config.uiVersion.replace("/","_");var i=[];if(this._config.servers&&this._config.servers.length)i=this._config.servers;else for(var o=0;o<a.Servers.length;++o)i.push(a.Servers[o]);for(var u=[];i.length;){var c=Math.floor(Math.random()*i.length);u.push(i[c]),c==i.length-1?i.pop():i[c]=i.pop()}this._config.servers=u,this._Info("servers: "+this._config.servers.join(",")),this._status=s.Initialized,this._Verbose("Initialize() done")},e.prototype.AddListener=function(e){this._Verbose("AddListener()"),this._CheckStatus(s.Initialized);for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return void this._Verbose("the listener has been added already, index: "+t);this._listeners.push(e)},e.prototype.RemoveListener=function(e){this._Verbose("RemoveListener()"),this._CheckStatus(s.Initialized);for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return void(t==this._listeners.length-1?this._listeners.pop():this._listeners[t]=this._listeners.pop())},e.prototype.Start=function(){this._Verbose("Start()"),this._CheckStatus(s.Initialized),this._status>=s.Started?this._Verbose("Start() already, ignore"):(++this._tag,this._status=s.Started,this.ConfigReloadAsync())},e.prototype.Stop=function(){this._Verbose("Stop()"),this._CheckStatus(s.Initialized),this._status!=s.Initialized?(this._CleanTimer(),this._ecsConfig=null,this._etag=null,this._expireTime=null,this._failedTimes={},this._status=s.Initialized):this._Verbose("Stop() already, ignore")},e.prototype.GetETag=function(){return this._CheckStatus(s.Started),this._etag},e.prototype.SetSkypeToken=function(e){this._Verbose("SetToken()"),this._CheckStatus(s.Started),e=e||null,this._status==s.Loading?(this._Verbose("A request is ongoing, postpone."),this._pendingToken.push(e)):(this._skypeToken=e,this.ConfigReloadAsync())},e.prototype.ConfigReloadAsync=function(){var e=this;if(this._Verbose("ConfigReloadAsync()"),this._CheckStatus(s.Started),this._status!=s.Loading){this._CleanTimer();var t=this._tag,n=this._config.servers[0]+this._config.uiVersion,i={};for(var r in this._queryParams){i[r]={};for(var o in this._queryParams[r])i[r][o]=this._queryParams[r][o]}i.Headers={},!sct.Utils.IsUsingXDomainRequest()&&this._etag&&(i.Headers["If-None-Match"]=this._etag),this._skypeToken&&(i.Headers.SkypeToken=this._skypeToken),0==sct.Utils.keys(i.Headers).length&&delete i.Headers,sct.Utils.ajax({type:"POST",url:n,data:JSON.stringify(i),complete:function(n){return e._HttpCallback(t,n)}}),this._status=s.Loading}else this._Verbose("ConfigReloadAsync() is loading, ignore")},e.prototype.AddQueryParameter=function(e,t,n){if(t&&n){e||(e="global");var i=e.toLowerCase();if("headers"==i)return;i in this._queryParams||(this._queryParams[i]={}),this._queryParams[i][t.toLowerCase()]=n.toLowerCase()}},e.prototype.RemoveQueryParameter=function(e,t){var n="global";e&&(n=e.toLowerCase()),t&&(t=t.toLowerCase(),n in this._queryParams&&t in this._queryParams[n]&&(delete this._queryParams[n][t],0==sct.Utils.keys(this._queryParams[n]).length&&delete this._queryParams[n]))},e.prototype.RemoveQueryParameterByNamespace=function(e){e=e?e.toLowerCase():"global",delete this._queryParams[e]},e.prototype.GetSetting=function(e,t,n){return this._CheckStatus(s.Started),e?this._GetSettingAsDefault(e,t,n,JSON.stringify):this._ecsConfig?JSON.stringify(this._ecsConfig):""},e.prototype.GetSettingAsString=function(e,t,n){return this._CheckStatus(s.Started),this._GetSettingAsDefault(e,t,n,function(e){return""+e})},e.prototype.GetSettingAsInt=function(e,t,n){return this._CheckStatus(s.Started),this._GetSettingAsDefault(e,t,n,parseInt)},e.prototype.GetSettingAsBool=function(e,t,n){return this._CheckStatus(s.Started),this._GetSettingAsDefault(e,t,n,function(e){return!!e})},e.prototype.GetSettingAsReal=function(e,t,n){return this._CheckStatus(s.Started),this._GetSettingAsDefault(e,t,n,parseFloat)},e.prototype.GetSettingAsList=function(e,t){return this._CheckStatus(s.Started),this._GetSettingAsList(e,t,function(e){return""+e})},e.prototype.GetSettingAsListOfInts=function(e,t){return this._CheckStatus(s.Started),this._GetSettingAsList(e,t,parseInt)},e.prototype.GetSettingAsListOfReal=function(e,t){return this._CheckStatus(s.Started),this._GetSettingAsList(e,t,parseFloat)},e.prototype.GetKeys=function(e,t){if(this._CheckStatus(s.Started),!e)return this.GetAgents();var n=this._NormalizePath(e,t);return n?this._GetObjectKeys(this._GetObject(n)):[]},e.prototype.GetAgents=function(){return this._CheckStatus(s.Started),this._GetObjectKeys(this._ecsConfig)},e.prototype._HttpCallback=function(e,r){if(this._Verbose("_HttpCallback"),this._status==s.Loading&&e==this._tag){var o=!0,a=!1;try{if(null==r)throw this._Error("jqXHR is null. exception"),new n(t.ECS_ERROR_INVALID_RESPONSE);var u=this._ParseResponse(r),c=u.statuscode;if(this._Info("status of HttpCallback: "+c),c>=200&&c<=299){var l=u.etag;if(this._Verbose("etag: "+l),!l)throw new n(t.ECS_ERROR_INVALID_RESPONSE);u.expires;this._Verbose("2xx: JSON.parse() success."),this._etag=l,this._ecsConfig=u.data,this._expireTime=u.expires,this._Notify(i.CONFIG_UPDATED)}else switch(c){case 304:this._Verbose("Config is not changed. Update expire time only."),this._expireTime=u.expires;break;case 401:this._Warning("token is invalid"),o=!1,this._Notify(i.TOKEN_IS_INVALID);break;case-1:o=!1;break;default:throw new n(t.ECS_ERROR_INVALID_RESPONSE)}}catch(e){this._Error("exception: "+e),a=!0}o&&this._ScheduleTimer(a),this._status=s.Started}else this._Verbose("_status != loading || tag != _tag, ignore")},e.prototype._Notify=function(e){for(var t=0;t<this._listeners.length;++t)this._listeners[t](e)},e.prototype._ScheduleTimer=function(e){var t=this;if(this._CleanTimer(),e){var n=this._config.servers.shift();this._failedTimes[n]?++this._failedTimes[n]:this._failedTimes[n]=1,this._config.servers.push(n);var i=this._failedTimes[this._config.servers[0]]||0,r=0;i&&(r=Math.pow(2,i-1)*a.FailedRetryFactorInMS)>a.MaxRetryIntervalForFailedInMS&&(r=a.MaxRetryIntervalForFailedInMS),this._timer=setTimeout(function(){return t.ConfigReloadAsync()},r)}else{this._failedTimes[this._config.servers[0]]=0;var o=!1;if(this._pendingToken.length){this._Verbose("Pending token found.");var s=this._pendingToken.pop();this._pendingToken.splice(0,this._pendingToken.length),s!=this._skypeToken&&(this._Verbose("Trigger new request immediately."),this._skypeToken=s,o=!0)}r=0;o||(r=a.RefreshIntervalInMS,this._expireTime&&(r=this._expireTime-(new Date).getTime())<0&&(r=0)),this._timer=setTimeout(function(){return t.ConfigReloadAsync()},r)}},e.prototype._CleanTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._GetSettingAsDefault=function(e,t,n,i){if(!e)return n;var r=this._NormalizePath(e,t);if(!r)return n;var o=this._GetObject(r);if(null==o)return n;try{return i(o)}catch(e){return n}},e.prototype._GetSettingAsList=function(e,t,n){if(!e)return[];var i=this._NormalizePath(e,t);if(!i)return[];var r=this._GetObject(i);if(null==r)return[];try{for(var o=[],s=0;s<r.length;++s)o.push(n(r[s]));return o}catch(e){return[]}},e.prototype._CheckStatus=function(e){if(this._status<e)throw this._Error(["status is error, current status:",this._status,"minimalStatus:",e].join(" ")),new n(t.ECS_ERROR_INVALID_STATUS)},e.prototype._GetObjectKeys=function(e){var t=[];if(null!=e)for(var n in e)t.push(n);return t},e.prototype._GetObject=function(e){for(var t=e.split("/"),n=this._ecsConfig,i=0;i<t.length&&n;++i)n=n[t[i]];return n},e.prototype._NormalizePath=function(e,t){return null!=t&&t.length&&"/"==t[0]&&(t=t.substr(1)),null!=t&&t.length&&"/"==t[t.length-1]&&(t=t.substr(0,t.length-1)),t?e?e+"/"+t:t:e},e.prototype._Verbose=function(e){this._config&&this._config.log&&this._config.log.Verbose("[EcsClient]: "+e)},e.prototype._Info=function(e){this._config&&this._config.log&&this._config.log.Info("[EcsClient]: "+e)},e.prototype._Warning=function(e){this._config&&this._config.log&&this._config.log.Warning("[EcsClient]: "+e)},e.prototype._Error=function(e){this._config&&this._config.log&&this._config.log.Error("[EcsClient]: "+e)},e.prototype._ParseResponse=function(e){var t={};if(e&&void 0!==e.status)if(304==e.status){r=e.getResponseHeader("Expires");this._Verbose("expires: "+r),t.expires=r?Date.parse(r):null,t.etag=e.getResponseHeader("ETag"),t.statuscode=e.status}else if(e.status>=500)t.statuscode=e.status;else if(0==e.status)this._Verbose("Blocked by same-origin policy."),t.statuscode=-1;else try{t.statuscode=e.status;var n=JSON.parse(e.responseText),i=this._GetHeader(n);if(i){this._Verbose("Header found in body.");var r=i.expires;t.expires=r?Date.parse(r):null,t.statuscode=parseInt(i.statuscode),t.etag=i.etag}else this._Error("Header missing in response body.");t.data=n}catch(e){this._Error("Failed when parsing")}else this._Verbose("IE8/IE9 general error handler."),t.statuscode=-1;return this._Verbose("Return code = "+t.statuscode),t},e.prototype._GetHeader=function(e){var t=null;for(var n in e)if("headers"==n.toLowerCase()){t={};for(var i in e[n])t[i.toLowerCase()]=e[n][i];break}return t},e.prototype.__GetListenerArray=function(){return this._listeners},e.prototype.__UpdateServers=function(e){this._config.servers=e},e.prototype.__GetQueryParameters=function(){return this._queryParams},e}()}(ecs||(ecs={}));var microsoft;!function(e){!function(e){!function(e){var t=function(){function e(){this.data=[]}return e.prototype.WriteBlob=function(e){var t={type:"blob",value:e};this.data.push(t)},e.prototype.WriteBool=function(e){var t={type:"boolean",value:e};this.data.push(t)},e.prototype.WriteContainerBegin=function(e,t){var n={type:"containerBegin",size:e,elementType:t};this.data.push(n)},e.prototype.WriteMapContainerBegin=function(e,t,n){var i={type:"mapContainerBegin",size:e,keyType:t,valueType:n};this.data.push(i)},e.prototype.WriteContainerEnd=function(){var e={type:"containerEnd"};this.data.push(e)},e.prototype.WriteDouble=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteFloat=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteFieldBegin=function(e,t,n){var i={type:"fieldBegin",id:t};this.data.push(i)},e.prototype.WriteFieldEnd=function(){var e={type:"fieldEnd"};this.data.push(e)},e.prototype.WriteFieldOmitted=function(e,t,n){var i={type:"fieldOmitted",id:t};this.data.push(i)},e.prototype.WriteInt16=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteInt32=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteInt64=function(e){var t={type:"number",value:4294967296*e.high+e.low};this.data.push(t)},e.prototype.WriteInt8=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteString=function(e){var t={type:"string",value:e};this.data.push(t)},e.prototype.WriteStructBegin=function(e,t){var n={type:"structBegin",isBase:t};this.data.push(n)},e.prototype.WriteStructEnd=function(e){var t={type:"structEnd",isBase:e};this.data.push(t)},e.prototype.WriteUInt16=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteUInt32=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteUInt64=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteUInt8=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteWString=function(e){var t={type:"string",value:e};this.data.push(t)},e}();e.JsonTextWriter=t}(e.telemetry||(e.telemetry={}))}(e.applications||(e.applications={}))}(microsoft||(microsoft={})),function(e){"use strict";function t(){return typeof globalThis!==Qe&&globalThis?globalThis:typeof self!==Qe&&self?self:typeof window!==Qe&&window?window:typeof global!==Qe&&global?global:null}function n(e){function t(){}var n=Object.create;if(n)return n(e);if(null==e)return{};if((n=typeof e)!=Ye&&n!==Ze)throw new TypeError("Object prototype may only be an Object:"+e);return t[$e]=e,new t}function i(e){var t=dt();return t&&t[e]?t[e]:e===at&&r()?window:null}function r(){return typeof window===st&&window}function o(){return r()?window:i(at)}function s(){return typeof document===st&&document?document:i(ut)}function a(){return!(typeof navigator!==st||!navigator)}function u(){return a()?navigator:i(ct)}function c(){return typeof location===st&&location?location:i(lt)}function l(){return typeof JSON===st&&JSON||null!==i(ft)}function f(e){e<0&&(e>>>=0),St=123456789+e&mt,xt=987654321-e&mt,It=!0}function d(){f(Math.random()*_t^(new Date).getTime())}function h(e,t){return typeof e===t}function p(e){return h(e,Qe)||void 0===e}function g(e){return p(e)||null===e}function v(e,t){return e&&Object[$e].hasOwnProperty.call(e,t)}function _(e){return h(e,Ye)}function m(e){return h(e,Ze)}function y(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!g(e))try{g(e[pt])?g(e[ht])||(e[ht]("on"+t,n),r=!0):(e[pt](t,n,i),r=!0)}catch(e){}return r}function I(e,t,n,i){if(void 0===i&&(i=!1),!g(e))try{g(e[vt])?g(e[gt])||e[gt]("on"+t,n):e[vt](t,n,i)}catch(e){}}function S(){}function x(){}function T(e,t){return e&&Object[At].hasOwnProperty.call(e,t)}function E(e){return typeof e===Rt}function C(e){return e&&(e===Object[At]||e===Array[At])}function w(e){return C(e)||e===Function[At]}function b(e){if(e){if(Wt)return Wt(e);if(e=e[Ft]||e[At]||e[bt])return e}return null}function A(e,t,n){return t!==bt&&E(e[t])&&(n||T(e,t))}function R(e){throw new TypeError("DynamicProto: "+e)}function O(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function N(e,t){return T(e,At)?e.name||t||Bt:((e||{})[bt]||{}).name||t||Bt}function k(e,t,n,i){T(e,At)||R("theClass is an invalid class definition.");var r=e[At];!function(e){for(var n=b(t);n&&!w(n);){if(n===e)return 1;n=b(n)}}(r)&&R("["+N(e)+"] is not in class hierarchy of ["+N(t)+"]");var o=null;T(r,kt)?o=r[kt]:(o=Pt+N(e,"_")+"$"+zt,zt++,r[kt]=o);var s=k[Lt],a=!!s[Ut];a&&i&&void 0!==i[Ut]&&(a=!!i[Ut]),n(t,function(e,t,n,i){function r(e,t,n){var r,o=t[u];return o[Nt]&&i&&!1!==(r=e[Ot]||{})[Dt]&&(o=(r[t[kt]]||{})[n]||o),function(){return o.apply(e,arguments)}}var o={};for(u in n)o[u]=r(t,n,u);for(var s=b(e),a=[];s&&!w(s)&&!O(a,s);){for(var u in s)!o[u]&&A(s,u,!Wt)&&(o[u]=r(t,s,u));a.push(s),s=b(s)}return o}(r,t,e=function(e){var t,n={};for(t in e)!n[t]&&A(e,t,!1)&&(n[t]=e[t]);return n}(t),a)),(s=!!Wt&&!!s[Vt])&&i&&(s=!!i[Vt]),function(e,t,n,i,r){if(!C(e)){var o,s=n[Ot]=n[Ot]||{},a=s[t]=s[t]||{};for(o in!1!==s[Dt]&&(s[Dt]=!!r),n)A(n,o,!1)&&n[o]!==i[o]&&(a[o]=n[o],delete n[o],T(e,o)&&(!e[o]||e[o][Nt])||(e[o]=function(e,t){var n=function(){var i,r;return(function(e,t,n,i){var r=null;if(e&&T(n,kt)){var o=e[Ot]||{};if((r=(o[n[kt]]||{})[t])||R("Missing ["+t+"] "+Rt),!r[Mt]&&!1!==o[Dt]){for(var s=!T(e,t),a=b(e),u=[];s&&a&&!w(a)&&!O(u,a);){var c=a[t];if(c){s=c===i;break}u.push(a),a=b(a)}try{s&&(e[t]=r),r[Mt]=1}catch(e){o[Dt]=!1}}}return r}(this,t,e,n)||((r=e[i=t])===n&&(r=b(e)[i]),E(r)||R("["+i+"] is not a "+Rt),r)).apply(this,arguments)};return n[Nt]=1,n}(e,o)))}}(r,o,t,e,!1!==s)}function P(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function M(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",l()&&(e=(l()?JSON||i(ft):null).stringify(r)),e=(t?" message:"+P(t):"")+(r?" props:"+P(e):""),this.message+=e}function D(e,t,n){var i,r=this,o=!1;r.start=Tt.dateNow(),r.name=e,r.isAsync=n,r.isChildEvt=function(){return!1},Tt.isFunction(t)&&(o=Tt.objDefineAccessors(r,"payload",function(){return!i&&Tt.isFunction(t)&&(i=t(),t=null),i})),r.getCtx=function(e){return e?(e===D.ParentContextKey||e===D.ChildrenContextKey?r:r[Xt]||{})[e]:null},r.setCtx=function(e,t){e&&(e===D.ParentContextKey?(r[e]||(r.isChildEvt=function(){return!0}),r[e]=t):e===D.ChildrenContextKey?r[e]=t:(r[Xt]=r[Xt]||{})[e]=t)},r.complete=function(){var e=0,n=r.getCtx(D.ChildrenContextKey);if(Tt.isArray(n))for(var i=0;i<n.length;i++){var s=n[i];s&&(e+=s.time)}r.time=Tt.dateNow()-r.start,r.exTime=r.time-e,r.complete=function(){},!o&&Tt.isFunction(t)&&(r.payload=t())}}function L(e,t,n,i,r){if(e){var o=e;if(o&&Tt.isFunction(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s,a=void 0,u=o.getCtx(Yt);try{if(a=o.create(t(),i,r))return u&&a.setCtx&&(a.setCtx(Jt.ParentContextKey,u),u.getCtx&&u.setCtx&&((s=u.getCtx(Jt.ChildrenContextKey))||(s=[],u.setCtx(Jt.ChildrenContextKey,s)),s.push(a))),o.setCtx(Yt,a),n(a)}catch(e){a&&a.setCtx&&a.setCtx("exception",e)}finally{a&&o.fire(a),o.setCtx(Yt,u)}}}return n()}function B(e,t){var n=[];if(e&&0<e.length)for(var i=null,r=0;r<e.length;r++){var o=e[r];o&&Tt.isFunction(o.processTelemetry)&&(o=new $t(o,t),n.push(o),i&&i.setNext(o),i=o)}return 0<n.length?n[0]:null}function F(){var e=this,t=!1,n=null,i=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){i=e},e.processNext=function(e,t){t?t.processNext(e):i&&nn(i.processTelemetry)&&i.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var r=t;return r||(t=n||new tn(null,{},e.core),r=i&&i[rn]?t.createNew(null,i[rn]):t.createNew(null,i)),r},e._baseTelInit=function(r,o,s,a){r&&(r.extensionConfig=r.extensionConfig||[]),!a&&o&&(a=o.getProcessTelContext().getNext());var u=i;i&&i[rn]&&(u=i[rn]()),e.core=o,n=new tn(a,r,o,u),t=!0}}function U(e,t){for(var n=[],i=null,r=e.getNext();r;){var o=r.getPlugin();o&&(i&&sn(i[cn])&&sn(o[an])&&i[cn](o),sn(o[ln])&&o[ln]()||n.push(o),i=o,r=r.getNext())}Tt.arrForEach(n,function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())})}function V(e){return e.sort(function(e,t){var n=0,i=sn(t[an]);return sn(e[an])?n=i?e[un]-t[un]:1:i&&(n=-1),n})}function W(){function e(e){e&&0<e.length&&(e=e.sort(function(e,t){return e.priority-t.priority}),i(e,function(e){if(e.priority<fn)throw Error(dn+e.identifier)}),n.push(e))}var t=Gt.call(this)||this;t.identifier="ChannelControllerPlugin",t.priority=fn;var n,i=Tt.arrForEach;return k(W,t,function(r,o){r.setNextPlugin=function(e){},r.processTelemetry=function(e,r){n&&i(n,function(n){0<n.length&&t._getTelCtx(r).createNew(n).processNext(e)})},r.getChannelControls=function(){return n},r.initialize=function(t,s,a){var u,c,l;r.isInitialized()||(o.initialize(t,s,a),t.isCookieUseDisabled&&Tt.disableCookies(),c=a,n=[],(u=(t||{}).channels)&&i(u,e),c&&(l=[],i(c,function(e){e.priority>fn&&l.push(e)}),e(l)),i(n,function(e){return U(new tn(e,t,s),a)}))}}),t}function z(){var e=Kt.call(this)||this;return k(z,e,function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],rt.InvalidEvent)}e.initialize=function(e,n,i,r){t.initialize(e,n,i||new jt(e),r||new mn(e))},e.track=function(i){L(e.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){if(null===i)throw n(i),Error("Invalid telemetry item");!function(e){if(Tt.isNullOrUndefined(e.name))throw n(e),Error("telemetry name required")}(i),t.track(i)},function(){return{item:i}},!i.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&0<n||(n=1e4),setInterval(function(){var n=e.logger?e.logger.queue:[];Tt.arrForEach(n,function(n){n={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:Tt.toISOString(new Date),baseType:Ht.dataType,baseData:{message:n.message}},e.track(n)}),n.length=0},n)}}),e}function G(e){return!bn(e)}function K(e){return!(An(e)||""===e)}function q(){return null===Rn&&(Rn=a()&&!!u().sendBeacon),Rn}function H(e){return!!(e&&Dn(e)&&1<=e&&e<=3)}function j(e,t,n){if(!Mn(e)||An(t)||""===t)return null;if(Mn(t)||Dn(t)||Ln(t)||Fn(t))t={value:t};else if("object"!=typeof t||t.hasOwnProperty("value")){if(An(t.value)||""===t.value||!Mn(t.value)&&!Dn(t.value)&&!Ln(t.value)&&!Fn(t.value))return null}else t={value:n?JSON.stringify(t):t};if(Fn(t.value)&&!(0<t.value.length))return null;if(G(t.kind)){if(Fn(t.value)||(n=t.kind,!Dn(n)||!(0<=n&&n<=13||32===n)))return null;t.value=t.value.toString()}return t}function X(){if(void 0===qt){qt=!1;try{var e=s(),t=u();e&&!bn(e.cookie)&&t&&t.cookieEnabled&&(qt=!0)}catch(e){}}return qt}function J(e){return!(!Mn(e)||!~e.indexOf("CPU iPhone OS 12")&&!~e.indexOf("iPad; CPU OS 12")&&!(~e.indexOf("Macintosh; Intel Mac OS X 10_14")&&~e.indexOf("Version/")&&~e.indexOf("Safari"))&&(!~e.indexOf("Macintosh; Intel Mac OS X 10_14")||(n=(t=e.length)-40,"AppleWebKit/605.1.15 (KHTML, like Gecko)"!=e.substring(0<=n?n:0,t)))&&!~e.indexOf("Chrome/5")&&!~e.indexOf("Chrome/6")&&(!~e.indexOf("UnrealEngine")||~e.indexOf("Chrome"))&&!~e.indexOf("UCBrowser/12")&&!~e.indexOf("UCBrowser/11"));var t,n}function Z(e,t,n){var i,r;X()&&(i="",(r=c())&&"https:"===r.protocol&&(i=";secure",null===wn&&(wn=J((u()||{}).userAgent)),wn||(t+=";SameSite=None")),(r=new Date).setTime(r.getTime()+24*n*60*60*1e3),r="; expires="+r.toUTCString(),s().cookie=e+"="+t+r+"; path=/"+i)}function Y(e){if(X()){e+="=";for(var t=decodeURIComponent((s()||{}).cookie||"").split(";"),n=0;n<t.length;n++){for(var i=t[n],r=0;" "==i[0|r];)r++;if(!(i=i.substring(r)).indexOf(e))return i.substring(e.length,i.length)}}return""}function Q(e){void 0===e&&(e="D");var t=Tt.newGuid();return"B"===e?t="{"+t+"}":"P"==e?t="("+t+")":"N"==e&&(t=t.replace(/-/g,"")),t}function $(e){return e<10?"0"+e:e.toString()}function ee(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=zn()}function te(){var e=Gn.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",k(te,e,function(e,t){e.initialize=function(n,i,r,o){L(e,function(){return"AppInsightsCore.initialize"},function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var s=n.propertyStorageOverride;if(s&&(!s.getProperty||!s.setProperty))throw"Invalid property storage override passed.";n.channels&&Nn(n.channels,function(t){t&&Nn(t,function(t){t.identifier&&t.version&&(t=t.identifier+"="+t.version,e.pluginVersionStringArr.push(t))})})}e.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&Nn(i,function(t){t&&t.identifier&&t.version&&(t=t.identifier+"="+t.version,e.pluginVersionStringArr.push(t))}),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,i,r,o)}catch(t){e.logger.throwInternal(it.CRITICAL,Sn.ErrorProvidedChannels,"Channels must be provided through config.channels only")}e.pollInternalLogs("InternalLog")},function(){return{config:n,extensions:i,logger:r,notificationManager:o}})},e.track=function(n){L(e,function(){return"AppInsightsCore.track"},function(){var i,r=n;r&&(r.timings=r.timings||{},r.timings.trackStart=zn(),H(r.latency)||(r.latency=In.Normal),(i=r.ext=r.ext||{}).sdk=i.sdk||{},i.sdk.ver=xn,(i=r.baseData=r.baseData||{})[Xn]||(i[Xn]={}),(i=i[Xn])[jn]||(i[jn]=""),""!=e.pluginVersionString&&(i[jn]=e.pluginVersionString)),t.track(r)},function(){return{item:n}},!n.sync)}}),e}function ne(e,t){void 0===t&&(t=Zn);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)!function(e,t){if(void 0===t&&(t=Zn),e&&!(e.length<4)){for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"==i&&e.length<=256){n=!0;break}return n}}(i[r],t)||(n?n+=","+i[r]:n=i[r]);return n}function ie(e){this.appExpId=null,this.flightIdNameSpaces=Zn.slice(0),this.expIdCookieName="Treatments",this._propertiesConfig=e;var t,n=s();n&&(t=n.documentElement,n&&(this.locale=t.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}function re(e,t,n,i){var r="",o="",a=s();a&&(i&&(r=";domain="+i),(i=c())&&"https:"===i.protocol&&(o=";secure",null===ei&&(ei=J((u()||{}).userAgent)),ei||(n+=";SameSite=None")),X()&&(a.cookie=t+"="+n+r+";path=/"+o))}function oe(){return void 0===$n&&($n=!!ae(Jn.LocalStorage)),$n}function se(){return oe()?ae(Jn.LocalStorage):null}function ae(e){var t,n=null;try{var i=dt();if(!i)return null;t=new Date,(n=e===Jn.LocalStorage?i.localStorage:i.sessionStorage)&&Bn(n.setItem)&&(n.setItem(t,t),i=n.getItem(t)!=t,n.removeItem(t),i&&(n=null))}catch(e){n=null}return n}function ue(e,t,n){var i=se();if(null!==i)try{return i.setItem(t,n),1}catch(t){$n=!1,e.throwInternal(it.CRITICAL,Sn.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}}function ce(e,t){var n=se();if(null!==n)try{return n.getItem(t)}catch(t){$n=!1,e.throwInternal(it.CRITICAL,Sn.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}function le(e,t,n){var i,r;this._logger=n,!e.disableCookiesUsage&&X()&&((n=Y("MUID"))&&this.setLocalId("t:"+n),t.enableApplicationInsightsUser&&(!(n=Y(le.userCookieName))||0<(i=n.split(le.cookieSeparator)).length&&(this.id=i[0]),this.id||(this.id=Tt.newId(e&&!Tt.isUndefined(e.idLength)?e.idLength:22),r=di(i=new Date),this.accountAcquisitionDate=r,i.setTime(31536e6+i.getTime()),e=[this.id,r],r=t.cookieDomain||void 0,re(this._logger,le.userCookieName,e.join(le.cookieSeparator)+";expires="+i.toUTCString(),r)))),"undefined"!=typeof navigator&&(r=navigator,this.locale=r.userLanguage||r.language)}function fe(e){this._propertiesConfig=e;var t=c();!t||(i=t.hostname)&&(this.domain="file:"===t.protocol?"local":i);var n,i="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(i=e.userAgent),e.populateBrowserInfo&&(i&&(n=this._getBrowserName(i),this.browser=n,this.browserVer=this._getBrowserVersion(i,n)),n=this._getScreenResolution(),this.screenRes=n.w+"X"+n.h)}function de(e){var t="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(t=e.userAgent),t&&e.populateOperatingSystemInfo&&(e=this._getOsName(t.toLowerCase()),this.name=e,this.ver=this._getOsVersion(t,e))}function he(e){e.serviceName&&(this.serviceName=e.serviceName)}function pe(){}function ge(){}function ve(){}function _e(){}function me(){}function ye(){}function Ie(){}function Se(){}function xe(){}function Te(){}function Ee(){}function Ce(){}function we(){}function be(){}function Ae(e){this._sequenceId=0,this._propertyStorage=e.propertyStorageOverride,this.seq=this._sequenceId,this.epoch=(new Date).getTime().toString(),!e.disableCookiesUsage&&X()||this._propertyStorage?(e=(e=this._getData(Hi))||Tt.newGuid(),this._saveData(Hi,e),this.installId=e):Z(Hi,"",-1)}function Re(e,t){var n,i,r;k(Re,this,function(o){function s(e){var t,n=o.automaticSession,r=e.split("|");0<r.length&&n.setId(r[0]);try{1<r.length&&(t=+r[1],n.acquisitionDate=+new Date(t),n.acquisitionDate=0<n.acquisitionDate?n.acquisitionDate:0),2<r.length&&(t=+r[2],n.renewalDate=+new Date(t),n.renewalDate=0<n.renewalDate?n.renewalDate:0)}catch(e){i.throwInternal(it.CRITICAL,Sn.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0===n.renewalDate&&i.throwInternal(it.WARNING,Sn.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!Tt.isUndefined(n)&&n?Tt.isBoolean(n)?e.setId(Q()):e.setId(Q(n)):e.setId(Tt.newId(l&&l.idLength?l.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,u(e.getId(),e.acquisitionDate,e.renewalDate),oe()||i.throwInternal(it.WARNING,Sn.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function u(e,t,i){var s=t+o.config.sessionExpirationMs(),a=i+o.config.sessionRenewalMs(),u=new Date,i=[e,t,i];s<a?u.setTime(s):u.setTime(a),a=o.config.cookieDomain?o.config.cookieDomain():null,re(0,r(),i.join("|")+";expires="+u.toUTCString(),a),n=(new Date).getTime()}var c,l={sessionRenewalMs:(c=e).sessionRenewalMs&&function(){return c.sessionRenewalMs},sessionExpirationMs:c.sessionExpirationMs&&function(){return c.sessionExpirationMs},cookieDomain:c.cookieDomain&&function(){return c.cookieDomain},namePrefix:c.namePrefix&&function(){return c.namePrefix},sessionAsGuid:function(){return c.sessionAsGuid},idLength:function(){return c.idLength||22}};i=Tt.isNullOrUndefined(t)?new jt:t,Tt.isFunction(e.sessionExpirationMs)||(l.sessionExpirationMs=function(){return Re.acquisitionSpan}),Tt.isFunction(e.sessionRenewalMs)||(l.sessionRenewalMs=function(){return Re.renewalSpan}),o.config=l,r=function(){return o.config.namePrefix&&o.config.namePrefix()?Re.cookieNameConst+o.config.namePrefix():Re.cookieNameConst},o.automaticSession=new Ni,o.update=function(){o.automaticSession.getId()||(((l=Y(r()))&&Tt.isFunction(l.split)||(l=ce(i,r())))&&s(l),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,c=(new Date).getTime(),l=c-e.acquisitionDate>t.sessionExpirationMs(),t=c-e.renewalDate>t.sessionRenewalMs();l||t?a():(!n||Re.cookieUpdateInterval<c-n)&&(e.renewalDate=c,u(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=(n=o.automaticSession).getId(),t=n.acquisitionDate,n=n.renewalDate;ue(i,r(),[e,t,n].join("|"))}})}function Oe(e,t,n){this.app=new Yn(t),this.cloud=new Qn,this.user=new hi(e,t,n&&n.logger),this.os=new wi(t),this.web=new gi(t),this.sdk=new ji(e),this.intWeb=new bi(t),this.utc=new Ai(t),this.loc=new Ri,this.device=new Oi,this.telemetryTrace=new ki(t),this.sessionManager=new Xi(t,n&&n.logger),this.session=new Ni}function Ne(){var e,t=ti.call(this)||this;t.identifier="SystemPropertiesCollector",t.priority=3,t.version="2.4.5";var n={};return k(Ne,t,function(i,r){i.initialize=function(n,r,o){ti.prototype.initialize.call(t,n,r,o),e=new Zi(n,i._getTelCtx().getExtCfg(i.identifier),r)},i.processTelemetry=function(t,r){ee(t,i.identifier),r=i._getTelCtx(r);var o,s=t.ext=t.ext||{};t.data=t.data||{},s[qi.AppExt]=s[qi.AppExt]||{},s[qi.UserExt]=s[qi.UserExt]||{},s[qi.WebExt]=s[qi.WebExt]||{},s[qi.OSExt]=s[qi.OSExt]||{},s[qi.SdkExt]=s[qi.SdkExt]||{},s[qi.IntWebExt]=s[qi.IntWebExt]||{},s[qi.UtcExt]=s[qi.UtcExt]||{},s[qi.LocExt]=s[qi.LocExt]||{},s[qi.DeviceExt]=s[qi.DeviceExt]||{},s[qi.TraceExt]=s[qi.TraceExt]||{},s[qi.CloudExt]=s[qi.CloudExt]||{},e.applyApplicationContext(t),e.applyUserContext(t),e.applyWebContext(t),e.applyOsContext(t),e.applySdkContext(t),e.applyIntWebContext(t),e.applyUtcContext(t),e.applyLocContext(t),e.applySessionContext(t),e.applyDeviceContext(t),e.applyAITraceContext(t),e.applyCloudContext(t),Nn(kn(s),function(e){0===kn(s[e]).length&&delete s[e]}),o=t.data,n&&Hn(n,function(e,t){o[e]||(o[e]=t)}),i.processNext(t,r)},i.getPropertiesContext=function(){return e},i.setProperty=function(e,t){n[e]=t}}),t}function ke(e,t){var n=t?[].concat(t):[],i=Tt.isNullOrUndefined;k(ke,this,function(t){t.iKey=function(){return e},t.count=function(){return n.length},t.events=function(){return n},t.addEvents=function(e,t){return void 0===t&&(t=!0),e&&0<e.length?(n=t?n.concat(e):e.concat(n),e.length):0},t.split=function(t,r){var o,s=new ke(e);return t<n.length&&(o=n.length-t,i(r)||(o=r<o?r:o),s.addEvents(n.splice(t,o))),s}})}function Pe(e,t,n){if(n){for(var i=e,r=t.split("."),o=0;o<r.length-1;++o)i[r[o]]||(i[r[o]]={}),i=i[r[o]];i[r[r.length-1]]=n.value}}function Me(e,t,n){if(n){var i="metadata";if(-1<(a=n.value,u=n.kind,c=n.propertyType,l=-1,l=bn(a)?l:(u&&0<u&&(32===u?l=8192:u<=13&&(l=u<<5)),G(c)&&Dn(u=c)&&0<=u&&u<=9?(-1===l&&(l=0),l|c):(Fn(a)&&(a=a[0]),-1!==l?l|(bn(c=a)?-1:Dn(c)?En:Mn(c)?Tn:Ln(c)?Cn:-1):Dn(a)?En:l)))){var r=e;r[i]||(r[i]={}),r[i].f||(r[i].f={}),r=r[i].f;for(var o=t.split("."),s=0;s<o.length-1;++s)r[o[s]]||(r[o[s]]={f:{}}),r=r[o[s]].f;Fn(n.value)?r[o[o.length-1]]={a:{t:l}}:r[o[o.length-1]]={t:l}}}var a,u,c,l}function De(){}function Le(e){try{return e.responseText}catch(e){}return""}function Be(){var e,t=ni.call(this)||this;t.identifier="PostChannel",t.priority=1011;var n,i,r,o,s,a=!(t.version="2.4.5"),u=[],c=null,l=!1,f=0,d=1e4,h={},p=Qi,g=null,v=0,_=0,m={},y=-1;return k(Be,t,function(t,I){function S(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=In.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,e.sync)if(v||l)e.latency=In.RealTime,e.sync=!1;else if(i)return i.sendSynchronousBatch(tr.create(e.iKey,[e]),3),0;var n=!1;f<d?n=!R(e,t):(n=!0,function(e,t){for(var n=In.Normal;n<=t;){var i=b(e,t,!0);if(i&&0<i.count()&&0<(i=i.split(0,gr)).count())return M(Sr,[i],rt.QueueFull),1;n++}}(e.iKey,e.latency)&&(n=!R(e,t))),n&&P(Sr,[e],rt.QueueFull)}function x(e,t,n,r){return e=O(e,t,n),i.sendQueuedRequests(t,n,r),e}function T(){0<=y&&O(y,s,!0)&&i.sendQueuedRequests(s,!0,!1);var e=h[p][1];!g&&!c&&0<=e&&!l&&(0<f?g=E(function(){g=null,x(0===_?In.RealTime:In.Normal,1,!0),_++,_%=2,T()},e):_=0)}function E(e,n){0===n&&v&&(n=1);var i=1e3;return v&&(i=ir.getMillisToBackoffForRetry(v-1)),t._setTimeoutOverride(e,n*i)}function C(){null!==g&&(t._clearTimeoutOverride(g),g=null,_=0)}function w(e,n){C(),c&&(t._clearTimeoutOverride(c),c=null),l||x(In.Normal,e,n,!0)}function b(e,t,n){var i=m[t];return i||(t=In.Normal,i=m[t]),!(t=i.iKeyMap[e])&&n&&(t=tr.create(e),i.batches.push(t),i.iKeyMap[e]=t),t}function A(e,n){i.canSendRequest()&&!v&&(0<r&&r<f&&(n=!0),n&&null==c&&t.flush(e,null,20))}function R(e,t){var n=b(e.iKey,e.latency,!0);return n.addEvents([e],t)&&(f++,t&&0===e.sendAttempt&&A(!e.sync,0<o&&n.count()>=o),1)}function O(e,n,r){var o=!1;return!r||i.canSendRequest()?L(t.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=In.RealTime;e<=n;){var r=m[n];r&&r.batches&&(Nn(r.batches,function(e){i.addBatch(e)?o=o||e&&0<e.count():t=t.concat(e.events()),f-=e.count()}),r.batches=[],r.iKeyMap={}),n--}0<t.length&&P(Sr,t,rt.KillSwitch),o&&e<=y&&(y=-1,s=0)},function(){return{latency:e,sendReason:n}},r):(y=0<=y?Math.min(y,e):e,s=Math.max(s,n)),o}function N(){(h={})[Qi]=[2,1],h[$i]=[6,3],h[er]=[18,9]}function k(e,n){var i=t._notificationManager||{},r=i[e];if(r)try{r.apply(i,n)}catch(n){t.diagLog().throwInternal(it.CRITICAL,Sn.NotificationException,e+" notification failed: "+n)}}function P(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&k(e,[t].concat(n))}function M(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&Nn(t,function(t){t&&0<t.count()&&k(e,[t.events()].concat(n))})}function D(){o=e&&e.disableAutoBatchFlushLimit?0:Math.max(pr*(yr+1),d/6)}N(),m[In.RealTime]={batches:[],iKeyMap:{}},m[In.CostDeferred]={batches:[],iKeyMap:{}},m[In.Normal]={batches:[],iKeyMap:{}},D(),i=new dr(pr,yr,Ir,{requeue:function(e,n){var i=[];Nn(e,function(e){e&&0<e.count()&&Nn(e.events(),function(e){e&&(e.sync&&(e.latency=In.RealTime,e.sync=!1),e.sendAttempt<vr?(ee(e,t.identifier),S(e,!1)):i.push(e))})}),0<i.length&&P(Sr,i,rt.NonRetryableStatus)},send:function(e,t,n){e&&0<e.length&&k("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){M("eventsSent",e,t),T()},drop:function(e,t){M(Sr,e,8e3<=t&&t<=8999?t-8e3:rt.Unknown)},rspFail:function(e){M(Sr,e,rt.NonRetryableStatus),T()},oth:function(e,t){M(Sr,e,rt.Unknown),T()}}),t._getDbgPlgTargets=function(){return[i]},t.initialize=function(o,s,a){L(s,function(){return"PostChannel:initialize"},function(){var u=s;I.initialize(o,s,a),t.setInitialized(!1);var c=t._getTelCtx();o.extensionConfig[t.identifier]=o.extensionConfig[t.identifier]||{},e=c.getExtCfg(t.identifier),t._setTimeoutOverride=e.setTimeoutOverride||setTimeout.bind(mr),t._clearTimeoutOverride=e.clearTimeoutOverride||clearTimeout.bind(mr);var l=u.getWParam;u.getWParam=function(){var t=0;return e.ignoreMc1Ms0CookieProcessing&&(t|=2),t|l()},0<e.eventsLimitInMem&&(d=e.eventsLimitInMem),0<e.autoFlushEventsLimit&&(r=e.autoFlushEventsLimit),D(),e.httpXHROverride&&e.httpXHROverride.sendPOST&&(n=e.httpXHROverride),K(o.anonCookieName)&&i.addQueryStringParameter("anoncknm",o.anonCookieName),i.sendHook=e.payloadPreprocessor,i.sendListener=e.payloadListener,c=e.overrideEndpointUrl||o.endpointUrl,t._notificationManager=o.extensionConfig.NotificationManager,i.initialize(c,t.core,t,n),c=qn("beforeunload",u=function(){w(2,!1)}),c=qn("unload",u)||c,c=qn("pagehide",u)||c,t.setInitialized(!0)},function(){return{coreConfig:o,core:s,extensions:a}})},t.processTelemetry=function(n,i){ee(n,t.identifier);var r=(i=t._getTelCtx(i)).getExtCfg(t.identifier),o=!!e.disableTelemetry;r&&(o=o||!!r.disableTelemetry),o||a||(e[xr]&&(n.iKey=e[xr]),r&&r[xr]&&(n.iKey=r[xr]),S(n,!0),T()),t.processNext(n,i)},t.setEventQueueLimits=function(e,t){d=0<e?e:1e4,r=0<t?t:0,D();var n=e<f;if(!n&&0<o)for(var i=In.Normal;!n&&i<=In.RealTime;i++){var s=m[i];s&&s.batches&&Nn(s.batches,function(e){e&&e.count()>=o&&(n=!0)})}A(!0,n)},t.teardown=function(){w(2,!1),a=!0,i.teardown()},t.pause=function(){C(),l=!0,i.pause()},t.resume=function(){l=!1,i.resume(),T()},t.addResponseHandler=function(e){i._responseHandlers.push(e)},t._loadTransmitProfiles=function(e){C(),N(),p=Qi,T(),Hn(e,function(e,t){var n;2<=t.length&&(t.splice(0,t.length-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(n=t[0]/t[1],t[0]=Math.ceil(n)*t[1]),h[e]=t)})},t.flush=function(e,t,n){void 0===e&&(e=!0),l||(C(),n=n||1,e?(O(In.Normal,n,e),null==c?c=E(function(){!function e(t,n){x(In.Normal,n,!0),function e(t){i.isCompletelyIdle()?t():c=E(function(){e(t)},hr)}(function(){t&&t(),0<u.length?c=E(function(){return e(u.shift(),n)},0):(c=null,0<f&&T())})}(t,n)},0):u.push(t)):(x(In.Normal,n,!1),null!==t&&void 0!==t&&t()))},t.setMsaAuthTicket=function(e){i.addHeader("AuthMsaDeviceTicket",e)},t.hasEvents=function(){return 0<f},t._setTransmitProfile=function(e){p!==e&&void 0!==h[e]&&(C(),p=e,T())},t._backOffTransmission=function(){v<_r&&(v++,C(),T())},t._clearBackOff=function(){v&&(v=0,C(),T())}}),t}function Fe(e,t){var n=e=ii.call(this,e)||this;return n.setId=function(e){n._setOverride(Pi.id,e)},n.getId=function(){return n._getOverride(Pi.id)},n.setVer=function(e){n._setOverride(Pi.ver,e)},n.getVer=function(){return n._getOverride(Pi.ver)},n.setName=function(e){n._setOverride(Pi.appName,e)},n.getName=function(){return n._getOverride(Pi.appName)},n.setLocale=function(e){n._setOverride(Pi.locale,e)},n.getLocale=function(){return n._getOverride(Pi.locale)},n.setEnv=function(e){n._setOverride(Pi.env,e)},n.getEnv=function(){return n._getOverride(Pi.env)},n.setExpId=function(e){n._setOverride(Pi.expId,Yn.validateAppExpId(e))},n.getExpId=function(){return n._getOverride(Pi.expId)},t&&(Tt.isUndefined(t.env)||n.setEnv(t.env),Tt.isNullOrUndefined(t.expId)||n.setExpId(t.expId)),e}function Ue(e){var t=e=ri.call(this,e)||this;return t.setProperty=function(e,n){t._setOverride(e,n)},t.getProperty=function(e){return t._getOverride(e)},e}function Ve(e){var t=e=oi.call(this,e)||this;return t.setLocalId=function(e){t._setOverride(zi.localId,e)},t.getLocalId=function(){return t._getOverride(zi.localId)},t.setDeviceClass=function(e){t._setOverride(zi.deviceClass,e)},t.getDeviceClass=function(){return t._getOverride(zi.deviceClass)},t.setMake=function(e){t._setOverride(zi.make,e)},t.getMake=function(){return t._getOverride(zi.make)},t.setModel=function(e){t._setOverride(zi.model,e)},t.getModel=function(){return t._getOverride(zi.model)},e}function We(e,t){var n=e=si.call(this,e)||this;return n.setOsName=function(e){n._setOverride(Li.osName,e)},n.getOsName=function(){return n._getOverride(Li.osName)},n.setVer=function(e){n._setOverride(Li.ver,e)},n.getVer=function(){return n._getOverride(Li.ver)},t&&t.userAgent&&t.populateOperatingSystemInfo&&(t=new wi(t),n.setOsName(t.name),n.setVer(t.ver)),e}function ze(e,t){if(e)for(var n=0;n<t.length;n++){var i=t[n];Ar(e[i])&&(e[i]={}),e=e[i]}return e}function Ge(e){var t=e=ai.call(this,e)||this;return t.setLocalId=function(e){t._setOverride(Di.localId,e)},t.getLocalId=function(){return t._getOverride(Di.localId)},t.setLocale=function(e){t._setOverride(Di.locale,e)},t.getLocale=function(){return t._getOverride(Di.locale)},t.setId=function(e){t._setOverride(Di.id,e)},t.getId=function(){return t._getOverride(Di.id)},e}function Ke(e,t){var n=e=ui.call(this,e)||this;return n.setDomain=function(e){n._setOverride(Mi.domain,e)},n.getDomain=function(){return n._getOverride(Mi.domain)},n.setBrowser=function(e){n._setOverride(Mi.browser,e)},n.getBrowser=function(){return n._getOverride(Mi.browser)},n.setBrowserVer=function(e){n._setOverride(Mi.browserVer,e)},n.getBrowserVer=function(){return n._getOverride(Mi.browserVer)},n.setScreenRes=function(e){n._setOverride(Mi.screenRes,e)},n.getScreenRes=function(){return n._getOverride(Mi.screenRes)},n.setUserConsent=function(e){n._setOverride(Mi.userConsent,e)},n.getUserContext=function(){return n._getOverride(Mi.userConsent)},t&&(Tt.isUndefined(t.userConsented)||n.setUserConsent(t.userConsented)),e}function qe(){var e=ci.call(this)||this;e.identifier="OverridePropertiesPlugin",e.priority=4,e.version="1.1.11";var t=e,n=null;return t._baseInit=function(t,i,r){n=new Mr(0,e._getTelCtx().getExtCfg(e.identifier))},t.setProperty=function(e,t){n&&n.data.setProperty(e,t)},t.getOverrideContext=function(){return n},e}function He(e,t){if(t)for(var n=Tt.objKeys(t),i=0;i<n.length;i++){var r=n[i];Tt.hasOwnProperty(e,r)||(e[r]=t[r])}}function je(e,t){var n=null;return t&&(t.endpointUrl&&(n=t.endpointUrl),(e=(t.extensionConfig||{})[e]||{}).overrideEndpointUrl&&(n=e.overrideEndpointUrl)),n}function Xe(e,t){var n=li.call(this)||this;return k(Xe,n,function(n,i){function r(t){var n=[];return t&&Nn(t,function(t){t.iKey===e&&n.push(t)}),n}function o(e){if(n[e]&&n.listeners)for(var t=0;t<n.listeners.length;t++){var i=n.listeners[t];if(i&&i[e])return 1}}var s={eventsSent:function(e){!o("eventsSent")||0<(e=r(e)).length&&n.eventsSent(e)},eventsDiscarded:function(e,t){!o("eventsDiscarded")||0<(e=r(e)).length&&n.eventsDiscarded(e,t)},eventsSendRequest:function(e,t){o("eventsSendRequest")&&n.eventsSendRequest(e,t)},perfEvent:function(e){o("perfEvent")&&n.perfEvent(e)}};t.addNotificationListener(s)}),n}function Je(e,t,n){var i,r=fi.call(this)||this,o=e;return k(Je,r,function(e,r){e.getSharedPropertyManager=function(){return o.getPropertyManager()},e.getSharedPostChannel=function(){return o.getPostChannel()},e.getOverridePropertyManager=function(){return i},e.initialize=function(o,s){L(e,function(){return"ApplicationInsights:initialize"},function(){var a=[i=new Dr];s&&(a=a.concat(s)),o.extensionConfig=o.extensionConfig||[];var u=o.propertyConfiguration||{};o.propertyConfiguration&&delete o.propertyConfiguration,o.extensionConfig[i.identifier]=u;try{r.initialize(o,a,t,n)}catch(t){e.logger.throwInternal(it.CRITICAL,Sn.FailedToInitializeSDK,"Failed to initialize SDK."+t)}},function(){return{config:o,extensions:s}})}}),r}var Ze="function",Ye="object",Qe="undefined",$e="prototype",et="hasOwnProperty",tt=function(e,t){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[et](n)&&(e[n]=t[n])})(e,t)},nt=function(e,t){function i(){this.constructor=e}tt(e,t),e[$e]=null===t?n(t):(i[$e]=t[$e],new i)};(hn=yn=t()||{}).__assign||(hn.__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object[$e][et].call(t,r)&&(e[r]=t[r]);return e}),hn.__extends||(hn.__extends=nt),__assign=__assign||yn.__assign,__extends=__extends||yn.__extends;var it,rt={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},ot=Qe,st=Ye,at="window",ut="document",ct="navigator",lt="location",ft="JSON",dt=t,ht="attachEvent",pt="addEventListener",gt="detachEvent",vt="removeEventListener",_t=4294967296,mt=4294967295,yt=null,It=!1,St=123456789,xt=987654321,Tt=(S.isDate=function(e){return"[object Date]"===Object[$e].toString.call(e)},S.isArray=function(e){return"[object Array]"===Object[$e].toString.call(e)},S.isError=function(e){return"[object Error]"===Object[$e].toString.call(e)},S.isString=function(e){return h(e,"string")},S.isNumber=function(e){return h(e,"number")},S.isBoolean=function(e){return h(e,"boolean")},S.disableCookies=function(){S._canUseCookies=!1},S.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Et,function(e){var t=0|S.randomValue(15);return("x"===e?t:3&t|8).toString(16)})},S.toISOString=function(e){if(S.isDate(e)){var t=function(e){return 1===(e+="").length&&(e="0"+e),e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}},S.arrForEach=function(e,t,n){for(var i=e.length,r=0;r<i;r++)r in e&&t.call(n||e,e[r],r,e)},S.arrIndexOf=function(e,t,n){for(var i=e.length,r=Math.max(0<=(n=n||0)?n:i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1},S.arrMap=function(e,t,n){for(var i=e.length,r=n||e,o=Array(i),s=0;s<i;s++)s in e&&(o[s]=t.call(r,e[s],e));return o},S.arrReduce=function(e,t,n){var i,r=e.length,o=0;if(3<=arguments.length)i=n;else{for(;o<r&&!(o in e);)o++;i=e[o++]}for(;o<r;)o in e&&(i=t(i,e[o],o,e)),o++;return i},S.strTrim=function(e){return S.isString(e)?e.replace(/^\s+|\s+$/g,""):e},S.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(m(e)||_(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n,i=[];for(n in e)v(e,n)&&i.push(n);if(t)for(var r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length,s=0;s<o;s++)v(e,r[s])&&i.push(r[s]);return i},S.objDefineAccessors=function(e,t,n,i){var r=Object.defineProperty;if(r)try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),i&&(o.set=i),r(e,t,o),!0}catch(e){}return!1},S.addEventHandler=function(e,t){var n=!1,i=o();return i&&(n=y(i,e,t),n=y(i.body,e,t)||n),(i=s())&&(n=Ct.Attach(i,e,t)||n),n},S.dateNow=function(){var e=Date;return e.now?e.now():(new e).getTime()},S.perfNow=function(){var e=i("performance");return e&&e.now?e.now():S.dateNow()},S.newId=function(e){void 0===e&&(e=22);for(var t=S.random32()>>>0,n=0,i="";i.length<e;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t],t>>>=6,5==++n&&(t=(S.random32()<<2&4294967295|3&t)>>>0,n=0);return i},S.isIE=function(){var e;return null===yt&&(e=((u()||{}).userAgent||"").toLowerCase(),yt=!!~e.indexOf("msie")||!!~e.indexOf("trident/")),yt},S.randomValue=function(e){return 0<e?Math.floor(S.random32()/mt*(e+1))>>>0:0},S.random32=function(e){var t=(t=i("crypto")||i("msCrypto"))&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&mt:S.isIE()?(It||d(),S.mwcRandom32()&mt):Math.floor(_t*Math.random()|0);return e||(t>>>=0),t},S.mwcRandomSeed=function(e){e?f(e):d()},S.mwcRandom32=function(e){var t=((xt=36969*(65535&xt)+(xt>>16)&mt)<<16)+(65535&(St=18e3*(65535&St)+(St>>16)&mt))>>>0&mt|0;return e||(t>>>=0),t},S.generateW3CId=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=S.random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&S.random32())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)},S.isTypeof=h,S.isUndefined=p,S.isNullOrUndefined=g,S.hasOwnProperty=v,S.isFunction=m,S.isObject=_,S.objCreate=n,S),Et=/[xy]/g,Ct=(x.Attach=y,x.AttachEvent=y,x.Detach=I,x.DetachEvent=I,x);(Wn=it=it||{})[Wn.CRITICAL=1]="CRITICAL",Wn[Wn.WARNING=2]="WARNING";var wt={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},bt="constructor",At="prototype",Rt="function",Ot="_dynInstFuncs",Nt="_isDynProxy",kt="_dynClass",Pt="_dynCls$",Mt="_dynInstChk",Dt=Mt,Lt="_dfOpts",Bt="_unknown_",Ft="__proto__",Ut="useBaseInst",Vt="setInstFuncs",Wt=Object.getPrototypeOf,zt=0;k[Lt]={setInstFuncs:!0,useBaseInst:!0};var Gt,Kt,qt,Ht=(M.dataType="MessageData",M),jt=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};k(e,this,function(e){function o(e,n){return e=t[e],s(e)?n:e}var s=Tt.isNullOrUndefined,a=Tt.isUndefined,u=Tt.isFunction;s(t)&&(t={}),e.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},e.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){if(void 0===s&&(s=!1),o=new Ht(n,i,s,o),e.enableDebugExceptions())throw o;!a(o)&&o&&(a(o.message)||(s?(s=+o.messageId,!r[s]&&e.consoleLoggingLevel()>=it.WARNING&&(e.warnToConsole(o.message),r[s]=!0)):e.consoleLoggingLevel()>=it.WARNING&&e.warnToConsole(o.message),e.logInternalMessage(t,o)))},e.warnToConsole=function(e){var t,n=typeof console!==ot?console:i("console");n&&(t="log",n.warn&&(t="warn"),u(n[t])&&n[t](e))},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){var o,s;n>=e.maxInternalMessageLimit()||(o=!0,s="AITR_"+i.messageId,r[s]?o=!1:r[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++),n===e.maxInternalMessageLimit()&&(i=new Ht(wt.MessageLimitPerPVExceeded,t="Internal events throttle limit per PageView reached for this app.",!1),e.queue.push(i),e.warnToConsole(t))))}})},Xt="ctx",Jt=(D.ParentContextKey="parent",D.ChildrenContextKey="childEvts",D),Zt=function e(t){this.ctx={},k(e,this,function(e){e.create=function(e,t,n){return new Jt(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e[Xt]=e[Xt]||{})[t]=n)},e.getCtx=function(t){return(e[Xt]||{})[t]}})},Yt="CoreUtils.doPerf",Qt=Tt.isFunction,$t=function(e,t){var n=this,i=null,r=Qt(e.processTelemetry),o=Qt(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(e){i=e},n.processTelemetry=function(s,a){a=a||t;var u=e?e.identifier:"TelemetryPluginChain";L(a?a.core():null,function(){return u+":processTelemetry"},function(){if(e&&r){n._hasRun=!0;try{a.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(s,a)}catch(n){var t=i&&i._hasRun;i&&t||a.diagLog().throwInternal(it.CRITICAL,wt.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),i&&!t&&i.processTelemetry(s,a)}}else i&&(n._hasRun=!0,i.processTelemetry(s,a))},function(){return{item:s}},!s.sync)}},en=Tt.isNullOrUndefined,tn=function e(t,n,i,r){var o,s,a,u,c=this,l=null;null!==r&&(t&&Tt.isFunction(t.getPlugin)?l=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var o=e.getPlugin();!r&&o!==n||(r=!0,i.push(o)),e=e.getNext()}return r||i.push(n),B(i,t)}(t,c,r||t.getPlugin()):r?(o=c,a=t,u=!1,(s=r)&&t&&(a=[],Tt.arrForEach(t,function(e){!u&&e!==s||(u=!0,a.push(e))})),s&&!u&&(a=a||[]).push(s),l=B(a,o)):Tt.isUndefined(r)&&(l=B(t,c))),c.core=function(){return i},c.diagLog=function(){return(i||{}).logger||new jt(n||{})},c.getCfg=function(){return n},c.getExtCfg=function(e,t){var i,r;return void 0===t&&(t={}),!n||(r=n.extensionConfig)&&e&&(i=r[e]),i||t},c.getConfig=function(e,t,i){var r;return void 0===i&&(i=!1),(e=c.getExtCfg(e,null))&&!en(e[t])?r=e[t]:n&&!en(n[t])&&(r=n[t]),en(r)?i:r},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(t,r){return void 0===t&&(t=null),new e(t||l,n,i,r)}},nn=Tt.isFunction,rn="getPlugin",on=(F.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},F),sn=Tt.isFunction,an="processTelemetry",un="priority",cn="setNextPlugin",ln="isInitialized",fn=500,dn="Channel has invalid priority",hn=Tt.objDefineAccessors,pn=(Gt=on,__extends(W,Gt),W._staticInit=(hn(W.prototype,"ChannelControls",W.prototype.getChannelControls),void hn(W.prototype,"channelQueue",W.prototype.getChannelControls)),W),gn=Tt.arrForEach,vn=Tt.isNullOrUndefined,_n="_notificationManager",mn=function e(t){this.listeners=[];var n=Tt.arrForEach,i=!!(t||{}).perfEvtsSendAll;k(e,this,function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=Tt.arrIndexOf(e.listeners,t);-1<n;)e.listeners.splice(n,1),n=Tt.arrIndexOf(e.listeners,t)},e.eventsSent=function(t){n(e.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},e.eventsDiscarded=function(t,i){n(e.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,i)},0)})},e.eventsSendRequest=function(t,i){n(e.listeners,function(e){if(e&&e.eventsSendRequest)if(i)setTimeout(function(){return e.eventsSendRequest(t,i)},0);else try{e.eventsSendRequest(t,i)}catch(e){}})},e.perfEvent=function(t){t&&(!i&&t.isChildEvt()||n(e.listeners,function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout(function(){return e.perfEvent(t)},0);else try{e.perfEvent(t)}catch(e){}}))}})},yn=(Kt=nt=function e(){var t,n,i,r,o=!1;k(e,this,function(e){e._extensions=[],n=new pn,e.logger=Tt.objCreate({throwInternal:function(e,t,n,i,r){void 0===r&&(r=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return o},e.initialize=function(t,r,s,a){if(e.isInitialized())throw Error("Core should not be initialized more than once");if(!t||vn(t.instrumentationKey))throw Error("Please provide instrumentation key");i=a,e[_n]=a,e.config=t||{},t.extensions=vn(t.extensions)?[]:t.extensions,(t.extensionConfig=vn(t.extensionConfig)?{}:t.extensionConfig).NotificationManager=a,s&&(e.logger=s),(a=[]).push.apply(a,r.concat(t.extensions)),a=V(a);var u=[],c={};if(gn(a,function(e){if(vn(e)||vn(e.initialize))throw Error("Extensions must provide callback to initialize");var t=e.priority,i=e.identifier;e&&t&&(vn(c[t])?c[t]=i:s.warnToConsole("Two extensions have same priority #"+t+" - "+c[t]+", "+i)),(!t||t<n.priority)&&u.push(e)}),a.push(n),u.push(n),a=V(a),e._extensions=a,U(new tn([n],t,e),a),U(new tn(u,t,e),a),e._extensions=u,0===e.getTransmissionControls().length)throw Error("No channels available");o=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){n.iKey||(n.iKey=e.config.instrumentationKey),n.time||(n.time=Tt.toISOString(new Date)),vn(n.ver)&&(n.ver="4.0"),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,i=t;return t&&0!==t.length||(i=[n]),new tn(i,e.config,e)},e.getNotifyMgr=function(){return i||(i=Tt.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e[_n]=i),i},e.getPerfMgr=function(){return r||e.config&&e.config.enablePerfMgr&&(r=new Zt(e.getNotifyMgr())),r},e.setPerfMgr=function(e){r=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){0<t.length&&(gn(t,function(t){e.getProcessTelContext().processNext(t)}),t=[])}})},__extends(z,Kt),z),In={Normal:1,CostDeferred:2,RealTime:3},Sn=__assign({},wt,{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519}),xn="1DS-Web-JS-2.4.5",Tn=1,En=6,Cn=7,wn=null,bn=Tt.isUndefined,An=Tt.isNullOrUndefined,Rn=null,On=null,Nn=Tt.arrForEach,kn=Tt.objKeys,Pn=function(){var e=u();return!(!e||!e.product)&&"ReactNative"===e.product},Mn=Tt.isString,Dn=Tt.isNumber,Ln=Tt.isBoolean,Bn=Tt.isFunction,Fn=Tt.isArray,Un=Tt.strTrim,Vn=!!s(),Wn=!!o(),zn=Tt.perfNow;hn=Tt.objDefineAccessors;var Gn,Kn,qn=Tt.addEventHandler,Hn=function(e,t){if(e&&_(e))for(var n in e)v(e,n)&&t.call(e,n,e[n])},jn="version",Xn="properties",yn=(Gn=yn,__extends(te,Gn),te);Kn=nt,__extends(function e(){var t=Kn.call(this)||this;return k(e,t,function(e,t){e.initialize=function(n,i,r,o){n&&(n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/")),e.getWParam=function(){return Vn?0:-1};try{t.initialize(n,i,r,o)}catch(t){e.logger.throwInternal(it.CRITICAL,Sn.ErrorProvidedChannels,"Channels must be provided through config.channels only")}},e.track=function(e){var n=e;n&&((e=n.ext=n.ext||{}).sdk=e.sdk||{},e.sdk.ver=xn),t.track(n)}}),t},Kn);var Jn,Zn=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"],Yn=(ie.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},ie.prototype._getMetaDataFromDOM=function(e){var t,n={},i=s();if(i){t=i&&i.querySelectorAll("meta");for(var r=0;r<t.length;r++){var o=t[r];o.name&&(o.name.toLowerCase().indexOf(e)||(n[o.name.replace(e,"")]=o.content))}}return n},ie.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=ne(e,this.flightIdNameSpaces))},ie.prototype._getAppExpId=function(){return this.appExpId},ie.prototype._readExpIdFromCookie=function(){return this._setAppExpId(Y(this.expIdCookieName)),this._getAppExpId()},ie.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},ie.validateAppExpId=ne,ie._staticInit=void hn(ie.prototype,"expId",ie.prototype.getExpId),ie),Qn=function(){},$n=void 0,ei=null;(nt=Jn=Jn||{})[nt.LocalStorage=0]="LocalStorage",nt[nt.SessionStorage=1]="SessionStorage";var ti,ni,ii,ri,oi,si,ai,ui,ci,li,fi,di=Tt.toISOString,hi=(le.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e=Y("MUID");return void(e&&this.setLocalId("t:"+e))},le.prototype.setLocalId=function(e){this._customLocalId=e},le.cookieSeparator="|",le.userCookieName="ai_user",le._staticInit=void hn(le.prototype,"localId",le.prototype.getLocalId,le.prototype.setLocalId),le),pi="Unknown",gi=(fe.prototype.getUserConsent=function(){return this._propertiesConfig.userConsented||!!Y(this._propertiesConfig.userConsentCookieName||"MSCC")},fe.prototype.getUserConsentDetails=function(){try{if(this._propertiesConfig.callback&&this._propertiesConfig.callback.userConsentDetails){var e=this._propertiesConfig.callback.userConsentDetails();if(e)return JSON.stringify({Required:e.Required||!1,Analytics:e.Analytics||!1,SocialMedia:e.SocialMedia||!1,Advertising:e.Advertising||!1})}}catch(e){}return null},fe.prototype._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?"Opera":this._userAgentContainsString("PhantomJS",e)?"PhantomJS":this._userAgentContainsString("Edge",e)?"Edge":this._userAgentContainsString("Electron",e)?"Electron":this._userAgentContainsString("Chrome",e)?"Chrome":this._userAgentContainsString("Trident",e)?"MSIE":this._userAgentContainsString("Firefox",e)?"Firefox":this._userAgentContainsString("Safari",e)?"Safari":this._userAgentContainsString("SkypeShell",e)?"SkypeShell":pi},fe.prototype._userAgentContainsString=function(e,t){return!!~t.indexOf(e)},fe.prototype._getBrowserVersion=function(e,t){return"MSIE"===t?this._getIeVersion(e):this._getOtherVersion(t,e)},fe.prototype._getIeVersion=function(e){var t=e.match(/MSIE ([\d,.]+)/);return t?t[1]:(e=e.match(/rv:([\d,.]+)/))?e[1]:void 0},fe.prototype._getOtherVersion=function(e,t){return"Safari"===e&&(e="Version"),(e=t.match(RegExp(e+"/([\\d,.]+)")))?e[1]:pi},fe.prototype._getScreenResolution=function(){var e={h:0,w:0},t=o();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e},fe._staticInit=void hn(fe.prototype,"userConsent",fe.prototype.getUserConsent),fe),vi=/(windows|win32)/i,_i=/ arm;/i,mi=/windows\sphone\s\d+\.\d+/i,yi=/(macintosh|mac os x)/i,Ii=/(ipad|iphone|ipod)(?=.*like mac os x)/i,Si=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,xi=/android/i,Ti=/CrOS/i,Ei={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},Ci="Unknown",wi=(de.prototype._getOsName=function(e){return e.match(mi)?"Windows Phone":e.match(_i)?"Windows RT":e.match(vi)?"Windows":e.match(Ii)?"iOS":e.match(xi)?"Android":e.match(Si)?"Linux":~e.indexOf("x11")?"Unix":~e.indexOf("blackberry")?"BlackBerry":~e.indexOf("symbian")?"Symbian":~e.indexOf("nokia")?"Nokia":e.match(yi)?"Mac OS X":e.match(Ti)?"Chrome OS":Ci},de.prototype._getOsVersion=function(e,t){return"Windows"===t?this._getGenericOsVersion(e,"Windows NT"):"Android"===t?this._getGenericOsVersion(e,t):"Mac OS X"===t?this._getMacOsxVersion(e):Ci},de.prototype._getGenericOsVersion=function(e,t){return(t=e.match(RegExp(t+" ([\\d,.]+)")))?Ei[t[1]]||t[1]:Ci},de.prototype._getMacOsxVersion=function(e){var t=e.match(/Mac OS X ([\d,_,.]+)/);return t&&(e=t[1].replace(/_/g,"."))?(t=this._getDelimiter(e))?e.split(t)[0]:e:Ci},de.prototype._getDelimiter=function(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null},de),bi=(he.prototype.getMsfpc=function(){return Y("MSFPC")},he.prototype.getAnid=function(){return Y("ANON").slice(0,34)},he._staticInit=(hn(he.prototype,"msfpc",he.prototype.getMsfpc),void hn(he.prototype,"anid",he.prototype.getAnid)),he),Ai=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Ri=function(){var e=0<(t=((e=(new Date).getTimezoneOffset())-(n=e%60))/60)?"-":"+",t=Math.abs(t),n=Math.abs(n);this.tz=e+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())},Oi=function(){},Ni=(pe.prototype.setId=function(e){this.customId=e},pe._staticInit=void hn(pe.prototype,"id",pe.prototype.getId=function(){return Mn(this.customId)?this.customId:this.automaticId},pe.prototype.setId),pe),ki=function(e,t,n,i){e.enableApplicationInsightsTrace&&(this.traceId=t||Tt.generateW3CId(),this.parentId=n,this.name=i,(i=c())&&i.pathname&&(this.name=i.pathname))},Pi=(ge.id="id",ge.ver="ver",ge.appName="name",ge.locale="locale",ge.expId="expId",ge.env="env",ge),Mi=(ve.domain="domain",ve.browser="browser",ve.browserVer="browserVer",ve.screenRes="screenRes",ve.userConsent="userConsent",ve.consentDetails="consentDetails",ve),Di=(_e.locale="locale",_e.localId="localId",_e.id="id",_e),Li=(me.osName="name",me.ver="ver",me),Bi=(ye.ver="ver",ye.seq="seq",ye.installId="installId",ye.epoch="epoch",ye),Fi=(Ie.msfpc="msfpc",Ie.anid="anid",Ie.serviceName="serviceName",Ie),Ui=(Se.popSample="popSample",Se.eventFlags="eventFlags",Se),Vi=(xe.tz="tz",xe),Wi=(Te.sessionId="sesId",Te),zi=(Ee.localId="localId",Ee.deviceClass="deviceClass",Ee.make="make",Ee.model="model",Ee),Gi=(Ce.role="role",Ce.roleInstance="roleInstance",Ce.roleVer="roleVer",Ce),Ki=(we.traceId="traceID",we.traceName="name",we.parentId="parentID",we),qi=(be.UserExt="user",be.DeviceExt="device",be.TraceExt="trace",be.WebExt="web",be.AppExt="app",be.OSExt="os",be.SdkExt="sdk",be.IntWebExt="intweb",be.UtcExt="utc",be.LocExt="loc",be.CloudExt="cloud",be),Hi="MicrosoftApplicationsTelemetryDeviceId",ji=(Ae.prototype.getSequenceId=function(){return++this._sequenceId},Ae.prototype._saveData=function(e,t){var n=this._propertyStorage;n?n.setProperty(e,t):Z(e,t,365)},Ae.prototype._getData=function(e){return this._propertyStorage?this._propertyStorage.getProperty(e)||"":Y(e)},Ae),Xi=(Re.acquisitionSpan=864e5,Re.renewalSpan=18e5,Re.cookieUpdateInterval=6e4,Re.cookieNameConst="ai_session",Re),Ji=Mn,Zi=(Oe.prototype.getSessionId=function(){var e=this.session;if(e&&Ji(e.customId))return e.customId;var t=this.sessionManager;return t.update(),!(t=t.automaticSession)||(t=t.getId())&&Ji(t)&&(e.automaticId=t),e.automaticId},Oe.prototype.applyApplicationContext=function(e){var t=this.app;Ji(t.id)&&(e.ext[qi.AppExt][Pi.id]=t.id),Ji(t.ver)&&(e.ext[qi.AppExt][Pi.ver]=t.ver),Ji(t.name)&&(e.ext[qi.AppExt][Pi.appName]=t.name),Ji(t.locale)&&(e.ext[qi.AppExt][Pi.locale]=t.locale);var n=t.getExpId();Ji(n)&&(e.ext[qi.AppExt][Pi.expId]=n),Ji(t.env)&&(e.ext[qi.AppExt][Pi.env]=t.env)},Oe.prototype.applyUserContext=function(e){var t=this.user,n=t.getLocalId();Ji(n)&&(e.ext[qi.UserExt][Di.localId]=n),Ji(t.locale)&&(e.ext[qi.UserExt][Di.locale]=t.locale),Ji(t.id)&&(e.ext[qi.UserExt][Di.id]=t.id)},Oe.prototype.applyWebContext=function(e){var t=this.web;Ji(t.domain)&&(e.ext[qi.WebExt][Mi.domain]=t.domain),Ji(t.browser)&&(e.ext[qi.WebExt][Mi.browser]=t.browser),Ji(t.browserVer)&&(e.ext[qi.WebExt][Mi.browserVer]=t.browserVer),Ji(t.screenRes)&&(e.ext[qi.WebExt][Mi.screenRes]=t.screenRes),e.ext[qi.WebExt][Mi.userConsent]=t.getUserConsent(),e.ext[qi.WebExt][Mi.consentDetails]=t.getUserConsentDetails()},Oe.prototype.applyOsContext=function(e){var t=this.os;Ji(t.name)&&(e.ext[qi.OSExt][Li.osName]=t.name),Ji(t.ver)&&(e.ext[qi.OSExt][Li.ver]=t.ver)},Oe.prototype.applySdkContext=function(e){var t=this.sdk;e.ext[qi.SdkExt][Bi.seq]=t.getSequenceId(),e.ext[qi.SdkExt][Bi.epoch]=t.epoch,Ji(t.installId)&&(e.ext[qi.SdkExt][Bi.installId]=t.installId)},Oe.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=t.getMsfpc();Ji(n)&&(e.ext[qi.IntWebExt][Fi.msfpc]=n),n=t.getAnid(),Ji(n)&&(e.ext[qi.IntWebExt][Fi.anid]=n),Ji(t.serviceName)&&(e.ext[qi.IntWebExt][Fi.serviceName]=t.serviceName)},Oe.prototype.applyUtcContext=function(e){var t=this.utc;e.ext[qi.UtcExt][Ui.popSample]=t.popSample,0<t.eventFlags&&(e.ext[qi.UtcExt][Ui.eventFlags]=t.eventFlags)},Oe.prototype.applyLocContext=function(e){e.ext[qi.LocExt][Vi.tz]=this.loc.tz},Oe.prototype.applySessionContext=function(e){e.ext[qi.AppExt][Wi.sessionId]=this.getSessionId()},Oe.prototype.applyDeviceContext=function(e){var t=this.device;Ji(t.localId)&&(e.ext[qi.DeviceExt][zi.localId]=t.localId),Ji(t.make)&&(e.ext[qi.DeviceExt][zi.make]=t.make),Ji(t.model)&&(e.ext[qi.DeviceExt][zi.model]=t.model),Ji(t.deviceClass)&&(e.ext[qi.DeviceExt][zi.deviceClass]=t.deviceClass)},Oe.prototype.applyCloudContext=function(e){var t=this.cloud;Ji(t.role)&&(e.ext[qi.CloudExt][Gi.role]=t.role),Ji(t.roleInstance)&&(e.ext[qi.CloudExt][Gi.roleInstance]=t.roleInstance),Ji(t.roleVer)&&(e.ext[qi.CloudExt][Gi.roleVer]=t.roleVer)},Oe.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;Ji(t.traceId)&&(e.ext[qi.TraceExt][Ki.traceId]=t.traceId),Ji(t.name)&&(e.ext[qi.TraceExt][Ki.traceName]=t.name),Ji(t.parentId)&&(e.ext[qi.TraceExt][Ki.parentId]=t.parentId)},Oe),Yi=(ti=on,__extends(Ne,ti),Ne),Qi="REAL_TIME",$i="NEAR_REAL_TIME",er="BEST_EFFORT",tr=(ke.create=function(e,t){return new ke(e,t)},ke),nr=function e(t){k(e,this,function(e){e.createPayload=function(e,t,n,i){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i}},e.appendPayload=function(n,i,r){var o=n&&i&&!n.overflow;return o&&L(t,function(){return"Serializer:appendPayload"},function(){for(var t=i.events(),o=n.payloadBlob,s=n.numEvents,a=!1,u=[],c=n.isBeacon,l=c?65e3:3984588,f=c?65e3:2e6,d=0;d<t.length;){var h=t[d];if(h){if(r<=s){n.overflow=i.split(d);break}var p=e.getEventBlob(h);if(p.length<=f){if(h=p.length,l<o.length+h){n.overflow=i.split(d);break}o&&(o+="\n"),o+=p,a=!0,s++}else u.concat(t.slice(d,1))}d++}u&&0<u.length&&n.sizeExceed.push(tr.create(i.iKey(),u)),a&&(n.batches.push(i),n.payloadBlob=o,n.numEvents=s,c=i.iKey(),-1===Tt.arrIndexOf(n.apiKeys,c)&&n.apiKeys.push(c))},function(){return{payload:n,theBatch:{iKey:i.iKey(),evts:i.events()},max:r}}),o},e.getEventBlob=function(e){return L(t,function(){return"Serializer.getEventBlob"},function(){var t="data",n="baseData",i={};return i.name=e.name,i.time=e.time,i.ver=e.ver,i.iKey="o:"+function(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}(e.iKey),e.ext&&(i.ext={},Nn(kn(e.ext),function(t){i.ext[t]={},Nn(kn(e.ext[t]),function(n){K(e.ext[t][n])&&(i.ext[t][n]=j(n,e.ext[t][n]).value)})})),i[t]={},i[t][n]={},i[t].baseType=e.baseType,e.baseData&&Nn(kn(e.baseData),function(r){var o=j(r,e.baseData[r]);Pe(i[t][n],r,o),Me(i.ext,n+"."+r,o)}),e.data&&Nn(kn(e.data),function(n){var r=j(n,e.data[n]);Pe(i[t],n,r),Me(i.ext,n,r)}),JSON.stringify(i)},function(){return{item:e}})}})},ir=(De.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!==e&&429!==e||501===e||505===e)},De.getMillisToBackoffForRetry=function(e){var t=2400+Math.floor(1200*Math.random());return Math.min(Math.pow(2,e)*t,6e5)},De),rr=function e(){var t={};k(e,this,function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var i=(s=e.split(","),a=[],s&&Nn(s,function(e){a.push(Un(e))}),a);if("this-request-only"===n)return i;for(var r=1e3*parseInt(n,10),o=0;o<i.length;++o)t[i[o]]=Tt.dateNow()+r}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t;return void 0!==n[e=Un(e)]&&n[e]>Tt.dateNow()||(delete n[e],!1)}})},or=function e(){var t=!0,n=!0,i=!0,r="use-collector-delta",o=!1;k(e,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,o||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){o||(e?(r=e,o=n=!0):n=!1,t=!0)}})},sr="POST",ar="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ur="drop",cr="kill-duration",lr="time-delta-millis",fr=((hn={})[1]=nt="requeue",hn[100]=nt,hn[200]="sent",hn[8004]=ur,hn[8003]=ur,hn),dr=function e(t,n,r,o){this._responseHandlers=[];var s,a,l,f="?cors=true&content-type=application/x-json-stream&client-id=NO_AUTH&client-version="+xn,d=new rr,h=!1,p=new or,g=!1,v=0,_=!0,m=[],y={},I=[],S=null,x=!0;k(e,this,function(e){function T(e,t){var n=new XDomainRequest;n.open(sr,e.urlString),n.onload=function(){var e=Le(n);w(t,200,{},e),U(e)},n.onerror=function(){w(t,400,{})},n.ontimeout=function(){w(t,500,{})},n.send(e.data)}function E(e,t){var n;fetch(e.urlString,((n={body:e.data,method:sr,credentials:"include"})[ar]=!0,n.headers=e.headers,n)).then(function(e){var n={},i="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){i=e}),w(t,e.status,n,i),U(i)}).catch(function(e){w(t,0,{})})}function C(e,t,n){function i(e,t,n){return e[n]||!t||!t.getResponseHeader||(t=t.getResponseHeader(n))&&(e[n]=Un(t)),e}function r(e,n){var r,o,s;w(t,e.status,(s={},(r=e).getAllResponseHeaders?(e=r.getAllResponseHeaders(),o={},Mn(e)&&(e=Un(e).split(/[\r\n]+/),Nn(e,function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=Un(e.substring(0,n)).toLowerCase(),n=Un(e.substring(1+n)),o[t]=n):o[Un(e)]=1)})),o):(s=i(s,r,lr),s=i(s,r,cr),i(s,r,"kill-duration-seconds"))),n)}var o=new XMLHttpRequest;try{o[ar]=!0}catch(e){}W&&(o.withCredentials=!0),o.open(sr,e.urlString,!n),Nn(kn(e.headers),function(t){o.setRequestHeader(t,e.headers[t])}),o.onload=function(){var e=Le(o);r(o,e),U(e)},o.onerror=function(){r(o)},o.ontimeout=function(){r(o)},o.send(e.data)}function w(e,t,n,i){try{e(t,n,i)}catch(e){s.diagLog().throwInternal(it.WARNING,Sn.SendPostOnCompleteFailure,e)}}function b(){return!h&&v<n}function A(){var e=I;return I=[],e}function R(e,t,n){var i=!1;return e&&0<e.length&&!h&&a&&S&&(i=t||b()&&(0<n||p.allowRequestSending())),i}function O(e){var t={};return e&&Nn(e,function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}}),t}function N(e,n,i,r,o,s){var a;e&&0!==e.length&&(h?V(e,1,r):(a=e,L(l,function(){return"HttpManager:_sendBatches"},function(a){a&&(e=e.slice(0));for(var u=[],c=null,l=zn();R(e,r,n);){var f=e.shift();f&&0<f.count()&&(d.isTenantKilled(f.iKey())?u.push(f):(c=c||S.createPayload(n,i,r,s&&k()),S.appendPayload(c,f,t)?null!==c.overflow&&(e=[c.overflow].concat(e),c.overflow=null,M(c,l,zn(),o),l=zn(),c=null):(M(c,l,zn(),o),l=zn(),e=[f].concat(e),c=null)))}c&&M(c,l,zn(),o),0<e.length&&(I=e.concat(I)),V(u,8004,r)},function(){return{batches:O(a),retryCount:n,isTeardown:i,isSynchronous:r,sendReason:o,useSendBeacon:s}},!r)))}function k(){return!_&&g&&q()}function P(e,t,n){e[t]=e[t]||{},e[t][s.identifier]=n}function M(t,n,i,o){var s,u,c;t&&t.payloadBlob&&0<t.payloadBlob.length&&(s=function(e){var t=f,n="";Nn(e.apiKeys,function(e){0<n.length&&(n+=","),n+=e}),0<n.length&&(t+="&apikey="+n),t+="&upload-time="+Tt.dateNow().toString(),K(e=function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),i=0;i<n.length;i++){var r=(n[i].ext||{}).intweb||{};if(K(r.msfpc))return encodeURIComponent(r.msfpc)}return""}(e))&&(t=t+"&ext.intweb.msfpc="+e),p.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+p.getClockSkewHeaderValue()),!l.getWParam||0<=(e=l.getWParam())&&(t+="&w="+e);for(var i=0;i<m.length;i++)t+="&"+m[i].name+"="+m[i].value;return t}(t),u=zn(),c="sendAttempt",L(l,function(){return"HttpManager:_doPayloadSend"},function(){Nn(t.batches,function(e){Nn(e.events(),function(e){var t;x&&(P(t=e.timings=e.timings||{},"sendEventStart",u),P(t,"serializationStart",n),P(t,"serializationCompleted",i)),0<e[c]?e[c]++:e[c]=1})}),V(t.batches,1e3+(o||0),t.isSync,!0);var f={data:t.payloadBlob,urlString:s,headers:y},h=t.payloadBlob=null,g=!!e.sendHook;k()&&t.isBeacon?(g=!1,h=function(n){D(n,t,o),e.sendListener&&e.sendListener(f,n,t.isSync||t.isTeardown,!0)}):a&&(h=function(n){p.firstRequestSent();var i=function(e,n){!function(e,t,n,i){var o=9e3,s=null,a=!1,u=!1;try{var c,l,f=!0;if(void 0!==e){if(t&&(p.setClockSkew(t[lr]),c=t[cr]||t["kill-duration-seconds"],Nn(d.setKillSwitchTenants(t["kill-tokens"],c),function(e){Nn(n.batches,function(t){t.iKey()===e&&(s=s||[],t=t.split(0),n.numEvents-=t.count(),s.push(t))})})),200===e)return o=200;(!ir.shouldRetryForStatus(e)||n.numEvents<=0)&&(f=!1),o=9e3+e%1e3}f&&(o=100,l=n.retryCnt,n.isSync||(l<r?F(function(){n.isSync||v--,N(n.batches,l+1,n.isTeardown,n.isSync,5,n.isBeacon)},a=!0,ir.getMillisToBackoffForRetry(l)):u=!0))}finally{a||(p.setClockSkew(),B(n,o,i,u)),V(s,8004,n.isSync)}}(e,n,t,o)};try{a.sendPOST(n,i,t.isTeardown||t.isSync),e.sendListener&&e.sendListener(f,n,t.isSync||t.isTeardown,!1)}catch(e){w(i,0,{})}}),L(l,function(){return"HttpManager:_doPayloadSend.sender"},function(){var n,i;h&&(t.isSync||v++,g?(i=!(n={data:f.data,urlString:f.urlString,headers:f.headers}),L(l,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{e.sendHook(n,function(e){i=!0,h(e)},t.isSync||t.isTeardown)}catch(e){i||h(f)}})):h(f))}),V(t.sizeExceed,8003,t.isSync)},function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:o}},t.isSync))}function D(e,t,n){try{if(q()){if(u().sendBeacon(e.urlString,e.data))return B(t,200,n,!1),0;Nn(t.batches,function(e){null.push(e.split(0))}),B(t,200,n,!1),V(null,8003,t.isSync,!0)}}catch(e){s.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+e)}}function B(t,n,i,r){try{r&&s._backOffTransmission(),200===n&&(r||t.isSync||s._clearBackOff(),o=t.batches,x&&(a=zn(),Nn(o,function(e){var t;e&&0<e.count()&&(e=e.events(),t=a,x&&Nn(e,function(e){P(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),V(t.batches,n,t.isSync,!0)}finally{t.isSync||(v--,5!==i&&e.sendQueuedRequests(i,!t.isSync,t.isBeacon))}var o,a}function F(e,t,n){t?e():s._setTimeoutOverride(e,n)}function U(t){var n=e._responseHandlers;try{for(var i,r=0;r<n.length;r++)try{n[r](t)}catch(e){s.diagLog().throwInternal(it.CRITICAL,Sn.PostResponseHandler,"Response handler failed: "+e)}!t||K((i=JSON.parse(t)).webResult)&&K(i.webResult.msfpc)&&Z("MSFPC",i.webResult.msfpc,365)}catch(e){}}function V(e,t,n,i){var r,a,u;e&&0<e.length&&o&&(r=o[(K(u=fr[a=t])||(u="oth",9e3<=a&&a<=9999?u="rspFail":8e3<=a&&a<=8999?u=ur:1e3<=a&&a<=1999&&(u="send")),u)])&&L(l,function(){return"HttpManager:_sendBatchesNotification"},function(){F(function(){try{r.call(o,e,t,n)}catch(e){s.diagLog().throwInternal(it.CRITICAL,Sn.NotificationException,"send request notification failed: "+e)}},i||n,0)},function(){return{batches:O(e),reason:t,isSync:n,sendSync:i}},!n)}var W=!0;e.initialize=function(e,t,n,r){f=e+f,x=!(l=t).config.disableEventTimings,s=n,S=new nr(t),(a=r)||(_=!1,g=!Pn(),(r=c())&&r.protocol&&"file:"==r.protocol.toLowerCase()&&(W=!1),r=null,function(){if(void 0!==typeof XMLHttpRequest){var e=i("XMLHttpRequest");return e&&(e=new e,bn(e.withCredentials)&&void 0!==typeof XDomainRequest)}}()?r=T:Pn()?r=E:"undefined"!=typeof XMLHttpRequest&&(r=C),a={sendPOST:r})},e._getDbgPlgTargets=function(){return[a,d,S]},e.addQueryStringParameter=function(e,t){for(var n=0;n<m.length;n++)if(m[n].name===e)return void(m[n].value=t);m.push({name:e,value:t})},e.addHeader=function(e,t){y[e]=t},e.canSendRequest=function(){return b()&&p.allowRequestSending()},e.sendQueuedRequests=function(e,t,n){t=!Tt.isNullOrUndefined(t)&&!t,R(I,t,0)&&N(A(),0,!1,t,e||0,!!n)},e.isCompletelyIdle=function(){return!h&&0===v&&0===I.length},e.addBatch=function(e){if(e&&0<e.count()){if(d.isTenantKilled(e.iKey()))return!1;I.push(e)}return!0},e.teardown=function(){0<I.length&&N(A(),0,!0,!0,2,!0)},e.pause=function(){h=!0},e.resume=function(){h=!1,e.sendQueuedRequests(4,!1)},e.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&N([e],0,!1,!0,t||0,!!n)}})},hr=.25,pr=500,gr=20,vr=6,_r=4,mr=Wn?window:void 0,yr=2,Ir=1,Sr="eventsDiscarded",xr="overrideInstrumentationKey",Tr=(ni=on,__extends(Be,ni),Be),Er=(ii=Wn=function(e){this._setOverride=function(t,n){e.setOverride(t,n)},this._getOverride=function(t){return e.getOverride(t)}},__extends(Fe,ii),Fe),Cr=(ri=Wn,__extends(Ue,ri),Ue),wr=(oi=Wn,__extends(Ve,oi),Ve),br=(si=Wn,__extends(We,si),We),Ar=Tt.isNullOrUndefined,Rr=Tt.arrForEach,Or=function(e){var t=[];this.setOverride=function(e,n){e&&t.push({key:e,value:n})},this.hasOverride=function(e){var n=!1;return Rr(t,function(t){t.key===e&&(n=!0)}),n},this.getOverride=function(e){var n;return Rr(t,function(t){t.key===e&&(n=t.value)}),n},this.applyOverrides=function(n,i){if(0<t.length)try{var r=ze(n,e);Rr(t,function(e){var t=r,n=e.key,i=e.value;t&&n&&(n=(e=n.split("."))[e.length-1],1<e.length&&(t=ze(t,e.splice(-1,1))),Ar(i)?Tt.isUndefined(t[n])||delete t[n]:t[n]=i)})}catch(e){}}},Nr=(ai=Wn,__extends(Ge,ai),Ge),kr=(ui=Wn,__extends(Ke,ui),Ke),Pr="ext",Mr=function(e,t,n){function i(e){for(var t="",n=0;n<e.length;n++)t&&(t+="_"),t+=e[n];return Tt.isUndefined(o[t])&&(o[t]=new Or(e)),t?o[t]:null}var r=this,o={};r.data=new Cr(i(["data"])),r.app=new Er(i([Pr,qi.AppExt]),t),r.user=new Nr(i([Pr,qi.UserExt])),r.os=new br(i([Pr,qi.OSExt]),t),r.web=new kr(i([Pr,qi.WebExt]),t),r.device=new wr(i([Pr,qi.DeviceExt])),r.applyOverrides=function(e,t){var n=kn(o);n&&0<n.length&&Tt.arrForEach(n,function(n){o[n].applyOverrides(e,t)})}},Dr=(ci=on,__extends(qe,ci),qe.prototype.initialize=function(e,t,n){ci.prototype.initialize.call(this,e,t,n),this._baseInit(e,t,n)},qe.prototype.processTelemetry=function(e,t){ee(e,this.identifier),t=this._getTelCtx(t);var n=this.getOverrideContext();n&&n.applyOverrides(e,t),this.processNext(e,t)},qe),Lr=(li=mn,__extends(Xe,li),Xe),on=function e(){var t,n,i,r,o,s,a,u={},c=[],l=null,f=[],d=[],h={};k(e,this,function(e){function p(e,t){var n;return void 0===t&&(t=null),e&&(((n=e).pause&&n.teardown&&n.flush?d:f).push(e),n=e.identifier,u.extensionConfig[n]=u.extensionConfig[n]||{},He(u.extensionConfig[n],t)),e}function g(n){l||(n=v(n||u.instrumentationKey||"_not_defined_",{}),t=new mn,(l=new Br(e,e.diagLog(),t)).initialize(n,c),i&&(r=je(i.identifier,n)))}function v(e,t){var n,i,r={};return r.instrumentationKey=e,r.channels=(n=t,i=[[]],u.channels&&Nn(u.channels,function(e,t){Tt.isFunction(e)||(i[t]=i[t]||[],i[t]=i[t].concat(e))}),n&&n.channels&&Nn(n.channels,function(e,t){Tt.isFunction(e)||(i[t]=i[t]||[],i[t]=i[t].concat(e))}),i),e=r,n=[],u.extensions&&0<u.extensions.length&&(n=n.concat(u.extensions)),e&&e.extensions&&0<e.extensions.length&&(n=n.concat(e.extensions)),0<n.length&&(e.extensions=n),e.extensionConfig=e.extensionConfig||{},He(e.extensionConfig,u.extensionConfig),He(r,t),He(r,u),r}e.diagLog=function(){return o=o||new jt(u)},e.getPerfMgr=function(){return a||u&&u.enablePerfMgr&&(a=new Zt(e.getNotifyMgr())),a},e.setPerfMgr=function(e){a=e},e.create=function(e,t){var o,s,a=(u=e||{}).channels||[[]];e=new Tr,o=e.identifier,s=!1,r=i=null,Tt.arrForEach(a,function(e){Tt.arrForEach(e,function(e){Tt.isFunction(e)||(p(e),e.identifier===o&&(s=!0,i=e))})}),s||(a[0].push(e),i=p(e,u.channelConfiguration)),u.channels=a,c=[],n=p(new Yi,u.propertyConfiguration),c.push(n),u.extensions&&Tt.arrForEach(u.extensions,function(e){Tt.isFunction(e)||p(e)}),t&&Tt.arrForEach(t,function(e){e&&!Tt.isFunction(e)&&c.push(p(e))})},e.getInst=function(e){return(h[e]||{}).inst},e.newInst=function(n,o,s){if(u=e.getInst(n))return e.diagLog().throwInternal(it.WARNING,Sn.FailedToInitializeSDK,"Instance already exists for ["+n+"]"),u;g(n),o=v(n,o),i&&(a=je(i.identifier,o),r&&a&&r!=a&&e.diagLog().throwInternal(it.WARNING,Sn.ErrorProvidedChannels,"The endpointUrl mismatch, shared Url ["+r+"] is different from configured ["+a+"] shared will be used!"));var a=new Lr(n,t),u=new Br(e,e.diagLog(),a);return h[n]={iKey:n,inst:u,notifyMgr:a},u.setPerfMgr(e.getPerfMgr()),u.initialize(o,(o=s,s=[],c&&0<c.length&&(s=s.concat(c)),o&&0<o.length&&(s=s.concat(o)),s)),u},e.getSharedPlugin=function(e){g();var t=null;return Tt.arrForEach(f,function(n){e===n.identifier&&(t=n)}),t||Tt.arrForEach(d,function(n){e===n.identifier&&(t=n)}),t},e.getPropertyManager=function(){return g(),n},e.getPostChannel=function(){return g(),i},e.getNotifyMgr=function(){return s=s||new mn}})},Br=(fi=yn,__extends(Je,fi),Je);e.ApplicationInsightsManager=on,e.ApplicationInsights=Br,e.OverridePropertiesPlugin=Dr,e.PostChannel=Tr,e.BE_PROFILE=er,e.NRT_PROFILE=$i,e.RT_PROFILE=Qi,e.PropertiesPlugin=Yi,e.Extensions=qi,e.AppExtensionKeys=Pi,e.WebExtensionKeys=Mi,e.UserExtensionKeys=Di,e.OSExtKeys=Li,e.DeviceExtKeys=zi,e.OperatingSystem=wi,e.Application=Yn,e.Device=Oi,e.Session=Ni,e.defaultFlightIdNameSpaces=Zn,e.TelemetryContext=Zi,e.ValueKind={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},e.EventLatency=In,e.EventPersistence={Normal:1,Critical:2},e.TraceLevel={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},e.MinChannelPriorty=100,e.NotificationManager=mn,e.EventsDiscardedReason=rt,e.CoreUtils=Tt,e.DiagnosticLogger=jt,e.isValueAssigned=K,e.isArray=Fn,e.isBeaconsSupported=q,e.isBoolean=Ln,e.isLatency=H,e.isNumber=Dn,e.isReactNative=Pn,e.isString=Mn,e.isUint8ArrayAvailable=function(){return null===On&&(On=G(Uint8Array)&&!(G(e=u())&&e.userAgent&&(~(e=e.userAgent.toLowerCase()).indexOf("safari")||~e.indexOf("firefox"))&&!~e.indexOf("chrome"))&&!Pn()),On;var e},e.getISOString=function(e){return e.getUTCFullYear()+"-"+$(1+e.getUTCMonth())+"-"+$(e.getUTCDate())+"T"+$(e.getUTCHours())+":"+$(e.getUTCMinutes())+":"+$(e.getUTCSeconds())+"."+((e=e.getUTCMilliseconds())<10?"00"+e:e<100?"0"+e:e.toString())+"Z"},e.cookieAvailable=X}(this.oneDS=this.oneDS||{});var e=function(e){"use strict";function t(){return typeof globalThis!==Qe&&globalThis?globalThis:typeof self!==Qe&&self?self:typeof window!==Qe&&window?window:typeof global!==Qe&&global?global:null}function n(e){function t(){}var n=Object.create;if(n)return n(e);if(null==e)return{};if((n=typeof e)!=Ye&&n!==Ze)throw new TypeError("Object prototype may only be an Object:"+e);return t[$e]=e,new t}function i(e){var t=dt();return t&&t[e]?t[e]:e===at&&r()?window:null}function r(){return typeof window===st&&window}function o(){return r()?window:i(at)}function s(){return typeof document===st&&document?document:i(ut)}function a(){return!(typeof navigator!==st||!navigator)}function u(){return a()?navigator:i(ct)}function c(){return typeof location===st&&location?location:i(lt)}function l(){return typeof JSON===st&&JSON||null!==i(ft)}function f(e){e<0&&(e>>>=0),St=123456789+e&mt,xt=987654321-e&mt,It=!0}function d(){f(Math.random()*_t^(new Date).getTime())}function h(e,t){return typeof e===t}function p(e){return h(e,Qe)||void 0===e}function g(e){return p(e)||null===e}function v(e,t){return e&&Object[$e].hasOwnProperty.call(e,t)}function _(e){return h(e,Ye)}function m(e){return h(e,Ze)}function y(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!g(e))try{g(e[pt])?g(e[ht])||(e[ht]("on"+t,n),r=!0):(e[pt](t,n,i),r=!0)}catch(e){}return r}function I(e,t,n,i){if(void 0===i&&(i=!1),!g(e))try{g(e[vt])?g(e[gt])||e[gt]("on"+t,n):e[vt](t,n,i)}catch(e){}}function S(){}function x(){}function T(e,t){return e&&Object[At].hasOwnProperty.call(e,t)}function E(e){return typeof e===Rt}function C(e){return e&&(e===Object[At]||e===Array[At])}function w(e){return C(e)||e===Function[At]}function b(e){if(e){if(Wt)return Wt(e);if(e=e[Ft]||e[At]||e[bt])return e}return null}function A(e,t,n){return t!==bt&&E(e[t])&&(n||T(e,t))}function R(e){throw new TypeError("DynamicProto: "+e)}function O(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function N(e,t){return T(e,At)?e.name||t||Bt:((e||{})[bt]||{}).name||t||Bt}function k(e,t,n,i){T(e,At)||R("theClass is an invalid class definition.");var r=e[At];!function(e){for(var n=b(t);n&&!w(n);){if(n===e)return 1;n=b(n)}}(r)&&R("["+N(e)+"] is not in class hierarchy of ["+N(t)+"]");var o=null;T(r,kt)?o=r[kt]:(o=Pt+N(e,"_")+"$"+zt,zt++,r[kt]=o);var s=k[Lt],a=!!s[Ut];a&&i&&void 0!==i[Ut]&&(a=!!i[Ut]),n(t,function(e,t,n,i){function r(e,t,n){var r,o=t[u];return o[Nt]&&i&&!1!==(r=e[Ot]||{})[Dt]&&(o=(r[t[kt]]||{})[n]||o),function(){return o.apply(e,arguments)}}var o={};for(u in n)o[u]=r(t,n,u);for(var s=b(e),a=[];s&&!w(s)&&!O(a,s);){for(var u in s)!o[u]&&A(s,u,!Wt)&&(o[u]=r(t,s,u));a.push(s),s=b(s)}return o}(r,t,e=function(e){var t,n={};for(t in e)!n[t]&&A(e,t,!1)&&(n[t]=e[t]);return n}(t),a)),(s=!!Wt&&!!s[Vt])&&i&&(s=!!i[Vt]),function(e,t,n,i,r){if(!C(e)){var o,s=n[Ot]=n[Ot]||{},a=s[t]=s[t]||{};for(o in!1!==s[Dt]&&(s[Dt]=!!r),n)A(n,o,!1)&&n[o]!==i[o]&&(a[o]=n[o],delete n[o],T(e,o)&&(!e[o]||e[o][Nt])||(e[o]=function(e,t){var n=function(){var i,r;return(function(e,t,n,i){var r=null;if(e&&T(n,kt)){var o=e[Ot]||{};if((r=(o[n[kt]]||{})[t])||R("Missing ["+t+"] "+Rt),!r[Mt]&&!1!==o[Dt]){for(var s=!T(e,t),a=b(e),u=[];s&&a&&!w(a)&&!O(u,a);){var c=a[t];if(c){s=c===i;break}u.push(a),a=b(a)}try{s&&(e[t]=r),r[Mt]=1}catch(e){o[Dt]=!1}}}return r}(this,t,e,n)||((r=e[i=t])===n&&(r=b(e)[i]),E(r)||R("["+i+"] is not a "+Rt),r)).apply(this,arguments)};return n[Nt]=1,n}(e,o)))}}(r,o,t,e,!1!==s)}function P(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function M(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",l()&&(e=(l()?JSON||i(ft):null).stringify(r)),e=(t?" message:"+P(t):"")+(r?" props:"+P(e):""),this.message+=e}function D(e,t,n){var i,r=this,o=!1;r.start=Tt.dateNow(),r.name=e,r.isAsync=n,r.isChildEvt=function(){return!1},Tt.isFunction(t)&&(o=Tt.objDefineAccessors(r,"payload",function(){return!i&&Tt.isFunction(t)&&(i=t(),t=null),i})),r.getCtx=function(e){return e?(e===D.ParentContextKey||e===D.ChildrenContextKey?r:r[Xt]||{})[e]:null},r.setCtx=function(e,t){e&&(e===D.ParentContextKey?(r[e]||(r.isChildEvt=function(){return!0}),r[e]=t):e===D.ChildrenContextKey?r[e]=t:(r[Xt]=r[Xt]||{})[e]=t)},r.complete=function(){var e=0,n=r.getCtx(D.ChildrenContextKey);if(Tt.isArray(n))for(var i=0;i<n.length;i++){var s=n[i];s&&(e+=s.time)}r.time=Tt.dateNow()-r.start,r.exTime=r.time-e,r.complete=function(){},!o&&Tt.isFunction(t)&&(r.payload=t())}}function L(e,t,n,i,r){if(e){var o=e;if(o&&Tt.isFunction(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s,a=void 0,u=o.getCtx(Yt);try{if(a=o.create(t(),i,r))return u&&a.setCtx&&(a.setCtx(Jt.ParentContextKey,u),u.getCtx&&u.setCtx&&((s=u.getCtx(Jt.ChildrenContextKey))||(s=[],u.setCtx(Jt.ChildrenContextKey,s)),s.push(a))),o.setCtx(Yt,a),n(a)}catch(e){a&&a.setCtx&&a.setCtx("exception",e)}finally{a&&o.fire(a),o.setCtx(Yt,u)}}}return n()}function B(e,t){var n=[];if(e&&0<e.length)for(var i=null,r=0;r<e.length;r++){var o=e[r];o&&Tt.isFunction(o.processTelemetry)&&(o=new $t(o,t),n.push(o),i&&i.setNext(o),i=o)}return 0<n.length?n[0]:null}function F(){var e=this,t=!1,n=null,i=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){i=e},e.processNext=function(e,t){t?t.processNext(e):i&&nn(i.processTelemetry)&&i.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var r=t;return r||(t=n||new tn(null,{},e.core),r=i&&i[rn]?t.createNew(null,i[rn]):t.createNew(null,i)),r},e._baseTelInit=function(r,o,s,a){r&&(r.extensionConfig=r.extensionConfig||[]),!a&&o&&(a=o.getProcessTelContext().getNext());var u=i;i&&i[rn]&&(u=i[rn]()),e.core=o,n=new tn(a,r,o,u),t=!0}}function U(e,t){for(var n=[],i=null,r=e.getNext();r;){var o=r.getPlugin();o&&(i&&sn(i[cn])&&sn(o[an])&&i[cn](o),sn(o[ln])&&o[ln]()||n.push(o),i=o,r=r.getNext())}Tt.arrForEach(n,function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())})}function V(e){return e.sort(function(e,t){var n=0,i=sn(t[an]);return sn(e[an])?n=i?e[un]-t[un]:1:i&&(n=-1),n})}function W(){function e(e){e&&0<e.length&&(e=e.sort(function(e,t){return e.priority-t.priority}),i(e,function(e){if(e.priority<fn)throw Error(dn+e.identifier)}),n.push(e))}var t=Gt.call(this)||this;t.identifier="ChannelControllerPlugin",t.priority=fn;var n,i=Tt.arrForEach;return k(W,t,function(r,o){r.setNextPlugin=function(e){},r.processTelemetry=function(e,r){n&&i(n,function(n){0<n.length&&t._getTelCtx(r).createNew(n).processNext(e)})},r.getChannelControls=function(){return n},r.initialize=function(t,s,a){var u,c,l;r.isInitialized()||(o.initialize(t,s,a),t.isCookieUseDisabled&&Tt.disableCookies(),c=a,n=[],(u=(t||{}).channels)&&i(u,e),c&&(l=[],i(c,function(e){e.priority>fn&&l.push(e)}),e(l)),i(n,function(e){return U(new tn(e,t,s),a)}))}}),t}function z(){var e=Kt.call(this)||this;return k(z,e,function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],rt.InvalidEvent)}e.initialize=function(e,n,i,r){t.initialize(e,n,i||new jt(e),r||new mn(e))},e.track=function(i){L(e.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){if(null===i)throw n(i),Error("Invalid telemetry item");!function(e){if(Tt.isNullOrUndefined(e.name))throw n(e),Error("telemetry name required")}(i),t.track(i)},function(){return{item:i}},!i.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&0<n||(n=1e4),setInterval(function(){var n=e.logger?e.logger.queue:[];Tt.arrForEach(n,function(n){n={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:Tt.toISOString(new Date),baseType:Ht.dataType,baseData:{message:n.message}},e.track(n)}),n.length=0},n)}}),e}function G(e){return!bn(e)}function K(e){return!(An(e)||""===e)}function q(){return null===Rn&&(Rn=a()&&!!u().sendBeacon),Rn}function H(e){return!!(e&&Dn(e)&&1<=e&&e<=3)}function j(e,t,n){if(!Mn(e)||An(t)||""===t)return null;if(Mn(t)||Dn(t)||Ln(t)||Fn(t))t={value:t};else if("object"!=typeof t||t.hasOwnProperty("value")){if(An(t.value)||""===t.value||!Mn(t.value)&&!Dn(t.value)&&!Ln(t.value)&&!Fn(t.value))return null}else t={value:n?JSON.stringify(t):t};if(Fn(t.value)&&!(0<t.value.length))return null;if(G(t.kind)){if(Fn(t.value)||(n=t.kind,!Dn(n)||!(0<=n&&n<=13||32===n)))return null;t.value=t.value.toString()}return t}function X(){if(void 0===qt){qt=!1;try{var e=s(),t=u();e&&!bn(e.cookie)&&t&&t.cookieEnabled&&(qt=!0)}catch(e){}}return qt}function J(e){return!(!Mn(e)||!~e.indexOf("CPU iPhone OS 12")&&!~e.indexOf("iPad; CPU OS 12")&&!(~e.indexOf("Macintosh; Intel Mac OS X 10_14")&&~e.indexOf("Version/")&&~e.indexOf("Safari"))&&(!~e.indexOf("Macintosh; Intel Mac OS X 10_14")||(n=(t=e.length)-40,"AppleWebKit/605.1.15 (KHTML, like Gecko)"!=e.substring(0<=n?n:0,t)))&&!~e.indexOf("Chrome/5")&&!~e.indexOf("Chrome/6")&&(!~e.indexOf("UnrealEngine")||~e.indexOf("Chrome"))&&!~e.indexOf("UCBrowser/12")&&!~e.indexOf("UCBrowser/11"));var t,n}function Z(e,t,n){var i,r;X()&&(i="",(r=c())&&"https:"===r.protocol&&(i=";secure",null===wn&&(wn=J((u()||{}).userAgent)),wn||(t+=";SameSite=None")),(r=new Date).setTime(r.getTime()+24*n*60*60*1e3),r="; expires="+r.toUTCString(),s().cookie=e+"="+t+r+"; path=/"+i)}function Y(e){if(X()){e+="=";for(var t=decodeURIComponent((s()||{}).cookie||"").split(";"),n=0;n<t.length;n++){for(var i=t[n],r=0;" "==i[0|r];)r++;if(!(i=i.substring(r)).indexOf(e))return i.substring(e.length,i.length)}}return""}function Q(e){void 0===e&&(e="D");var t=Tt.newGuid();return"B"===e?t="{"+t+"}":"P"==e?t="("+t+")":"N"==e&&(t=t.replace(/-/g,"")),t}function $(e){return e<10?"0"+e:e.toString()}function ee(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=zn()}function te(){var e=Gn.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",k(te,e,function(e,t){e.initialize=function(n,i,r,o){L(e,function(){return"AppInsightsCore.initialize"},function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var s=n.propertyStorageOverride;if(s&&(!s.getProperty||!s.setProperty))throw"Invalid property storage override passed.";n.channels&&Nn(n.channels,function(t){t&&Nn(t,function(t){t.identifier&&t.version&&(t=t.identifier+"="+t.version,e.pluginVersionStringArr.push(t))})})}e.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&Nn(i,function(t){t&&t.identifier&&t.version&&(t=t.identifier+"="+t.version,e.pluginVersionStringArr.push(t))}),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,i,r,o)}catch(t){e.logger.throwInternal(it.CRITICAL,Sn.ErrorProvidedChannels,"Channels must be provided through config.channels only")}e.pollInternalLogs("InternalLog")},function(){return{config:n,extensions:i,logger:r,notificationManager:o}})},e.track=function(n){L(e,function(){return"AppInsightsCore.track"},function(){var i,r=n;r&&(r.timings=r.timings||{},r.timings.trackStart=zn(),H(r.latency)||(r.latency=In.Normal),(i=r.ext=r.ext||{}).sdk=i.sdk||{},i.sdk.ver=xn,(i=r.baseData=r.baseData||{})[Xn]||(i[Xn]={}),(i=i[Xn])[jn]||(i[jn]=""),""!=e.pluginVersionString&&(i[jn]=e.pluginVersionString)),t.track(r)},function(){return{item:n}},!n.sync)}}),e}function ne(e,t){void 0===t&&(t=Zn);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)!function(e,t){if(void 0===t&&(t=Zn),e&&!(e.length<4)){for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"==i&&e.length<=256){n=!0;break}return n}}(i[r],t)||(n?n+=","+i[r]:n=i[r]);return n}function ie(e){this.appExpId=null,this.flightIdNameSpaces=Zn.slice(0),this.expIdCookieName="Treatments",this._propertiesConfig=e;var t,n=s();n&&(t=n.documentElement,n&&(this.locale=t.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}function re(e,t,n,i){var r="",o="",a=s();a&&(i&&(r=";domain="+i),(i=c())&&"https:"===i.protocol&&(o=";secure",null===ei&&(ei=J((u()||{}).userAgent)),ei||(n+=";SameSite=None")),X()&&(a.cookie=t+"="+n+r+";path=/"+o))}function oe(){return void 0===$n&&($n=!!ae(Jn.LocalStorage)),$n}function se(){return oe()?ae(Jn.LocalStorage):null}function ae(e){var t,n=null;try{var i=dt();if(!i)return null;t=new Date,(n=e===Jn.LocalStorage?i.localStorage:i.sessionStorage)&&Bn(n.setItem)&&(n.setItem(t,t),i=n.getItem(t)!=t,n.removeItem(t),i&&(n=null))}catch(e){n=null}return n}function ue(e,t,n){var i=se();if(null!==i)try{return i.setItem(t,n),1}catch(t){$n=!1,e.throwInternal(it.CRITICAL,Sn.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}}function ce(e,t){var n=se();if(null!==n)try{return n.getItem(t)}catch(t){$n=!1,e.throwInternal(it.CRITICAL,Sn.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}function le(e,t,n){var i,r;this._logger=n,!e.disableCookiesUsage&&X()&&((n=Y("MUID"))&&this.setLocalId("t:"+n),t.enableApplicationInsightsUser&&(!(n=Y(le.userCookieName))||0<(i=n.split(le.cookieSeparator)).length&&(this.id=i[0]),this.id||(this.id=Tt.newId(e&&!Tt.isUndefined(e.idLength)?e.idLength:22),r=di(i=new Date),this.accountAcquisitionDate=r,i.setTime(31536e6+i.getTime()),e=[this.id,r],r=t.cookieDomain||void 0,re(this._logger,le.userCookieName,e.join(le.cookieSeparator)+";expires="+i.toUTCString(),r)))),"undefined"!=typeof navigator&&(r=navigator,this.locale=r.userLanguage||r.language)}function fe(e){this._propertiesConfig=e;var t=c();!t||(i=t.hostname)&&(this.domain="file:"===t.protocol?"local":i);var n,i="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(i=e.userAgent),e.populateBrowserInfo&&(i&&(n=this._getBrowserName(i),this.browser=n,this.browserVer=this._getBrowserVersion(i,n)),n=this._getScreenResolution(),this.screenRes=n.w+"X"+n.h)}function de(e){var t="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(t=e.userAgent),t&&e.populateOperatingSystemInfo&&(e=this._getOsName(t.toLowerCase()),this.name=e,this.ver=this._getOsVersion(t,e))}function he(e){e.serviceName&&(this.serviceName=e.serviceName)}function pe(){}function ge(){}function ve(){}function _e(){}function me(){}function ye(){}function Ie(){}function Se(){}function xe(){}function Te(){}function Ee(){}function Ce(){}function we(){}function be(){}function Ae(e){this._sequenceId=0,this._propertyStorage=e.propertyStorageOverride,this.seq=this._sequenceId,this.epoch=(new Date).getTime().toString(),!e.disableCookiesUsage&&X()||this._propertyStorage?(e=(e=this._getData(Hi))||Tt.newGuid(),this._saveData(Hi,e),this.installId=e):Z(Hi,"",-1)}function Re(e,t){var n,i,r;k(Re,this,function(o){function s(e){var t,n=o.automaticSession,r=e.split("|");0<r.length&&n.setId(r[0]);try{1<r.length&&(t=+r[1],n.acquisitionDate=+new Date(t),n.acquisitionDate=0<n.acquisitionDate?n.acquisitionDate:0),2<r.length&&(t=+r[2],n.renewalDate=+new Date(t),n.renewalDate=0<n.renewalDate?n.renewalDate:0)}catch(e){i.throwInternal(it.CRITICAL,Sn.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0===n.renewalDate&&i.throwInternal(it.WARNING,Sn.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!Tt.isUndefined(n)&&n?Tt.isBoolean(n)?e.setId(Q()):e.setId(Q(n)):e.setId(Tt.newId(l&&l.idLength?l.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,u(e.getId(),e.acquisitionDate,e.renewalDate),oe()||i.throwInternal(it.WARNING,Sn.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function u(e,t,i){var s=t+o.config.sessionExpirationMs(),a=i+o.config.sessionRenewalMs(),u=new Date,i=[e,t,i];s<a?u.setTime(s):u.setTime(a),a=o.config.cookieDomain?o.config.cookieDomain():null,re(0,r(),i.join("|")+";expires="+u.toUTCString(),a),n=(new Date).getTime()}var c,l={sessionRenewalMs:(c=e).sessionRenewalMs&&function(){return c.sessionRenewalMs},sessionExpirationMs:c.sessionExpirationMs&&function(){return c.sessionExpirationMs},cookieDomain:c.cookieDomain&&function(){return c.cookieDomain},namePrefix:c.namePrefix&&function(){return c.namePrefix},sessionAsGuid:function(){return c.sessionAsGuid},idLength:function(){return c.idLength||22}};i=Tt.isNullOrUndefined(t)?new jt:t,Tt.isFunction(e.sessionExpirationMs)||(l.sessionExpirationMs=function(){return Re.acquisitionSpan}),Tt.isFunction(e.sessionRenewalMs)||(l.sessionRenewalMs=function(){return Re.renewalSpan}),o.config=l,r=function(){return o.config.namePrefix&&o.config.namePrefix()?Re.cookieNameConst+o.config.namePrefix():Re.cookieNameConst},o.automaticSession=new Ni,o.update=function(){o.automaticSession.getId()||(((l=Y(r()))&&Tt.isFunction(l.split)||(l=ce(i,r())))&&s(l),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,c=(new Date).getTime(),l=c-e.acquisitionDate>t.sessionExpirationMs(),t=c-e.renewalDate>t.sessionRenewalMs();l||t?a():(!n||Re.cookieUpdateInterval<c-n)&&(e.renewalDate=c,u(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=(n=o.automaticSession).getId(),t=n.acquisitionDate,n=n.renewalDate;ue(i,r(),[e,t,n].join("|"))}})}function Oe(e,t,n){this.app=new Yn(t),this.cloud=new Qn,this.user=new hi(e,t,n&&n.logger),this.os=new wi(t),this.web=new gi(t),this.sdk=new ji(e),this.intWeb=new bi(t),this.utc=new Ai(t),this.loc=new Ri,this.device=new Oi,this.telemetryTrace=new ki(t),this.sessionManager=new Xi(t,n&&n.logger),this.session=new Ni}function Ne(){var e,t=ti.call(this)||this;t.identifier="SystemPropertiesCollector",t.priority=3,t.version="2.4.5";var n={};return k(Ne,t,function(i,r){i.initialize=function(n,r,o){ti.prototype.initialize.call(t,n,r,o),e=new Zi(n,i._getTelCtx().getExtCfg(i.identifier),r)},i.processTelemetry=function(t,r){ee(t,i.identifier),r=i._getTelCtx(r);var o,s=t.ext=t.ext||{};t.data=t.data||{},s[qi.AppExt]=s[qi.AppExt]||{},s[qi.UserExt]=s[qi.UserExt]||{},s[qi.WebExt]=s[qi.WebExt]||{},s[qi.OSExt]=s[qi.OSExt]||{},s[qi.SdkExt]=s[qi.SdkExt]||{},s[qi.IntWebExt]=s[qi.IntWebExt]||{},s[qi.UtcExt]=s[qi.UtcExt]||{},s[qi.LocExt]=s[qi.LocExt]||{},s[qi.DeviceExt]=s[qi.DeviceExt]||{},s[qi.TraceExt]=s[qi.TraceExt]||{},s[qi.CloudExt]=s[qi.CloudExt]||{},e.applyApplicationContext(t),e.applyUserContext(t),e.applyWebContext(t),e.applyOsContext(t),e.applySdkContext(t),e.applyIntWebContext(t),e.applyUtcContext(t),e.applyLocContext(t),e.applySessionContext(t),e.applyDeviceContext(t),e.applyAITraceContext(t),e.applyCloudContext(t),Nn(kn(s),function(e){0===kn(s[e]).length&&delete s[e]}),o=t.data,n&&Hn(n,function(e,t){o[e]||(o[e]=t)}),i.processNext(t,r)},i.getPropertiesContext=function(){return e},i.setProperty=function(e,t){n[e]=t}}),t}function ke(e,t){var n=t?[].concat(t):[],i=Tt.isNullOrUndefined;k(ke,this,function(t){t.iKey=function(){return e},t.count=function(){return n.length},t.events=function(){return n},t.addEvents=function(e,t){return void 0===t&&(t=!0),e&&0<e.length?(n=t?n.concat(e):e.concat(n),e.length):0},t.split=function(t,r){var o,s=new ke(e);return t<n.length&&(o=n.length-t,i(r)||(o=r<o?r:o),s.addEvents(n.splice(t,o))),s}})}function Pe(e,t,n){if(n){for(var i=e,r=t.split("."),o=0;o<r.length-1;++o)i[r[o]]||(i[r[o]]={}),i=i[r[o]];i[r[r.length-1]]=n.value}}function Me(e,t,n){if(n){var i="metadata";if(-1<(a=n.value,u=n.kind,c=n.propertyType,l=-1,l=bn(a)?l:(u&&0<u&&(32===u?l=8192:u<=13&&(l=u<<5)),G(c)&&Dn(u=c)&&0<=u&&u<=9?(-1===l&&(l=0),l|c):(Fn(a)&&(a=a[0]),-1!==l?l|(bn(c=a)?-1:Dn(c)?En:Mn(c)?Tn:Ln(c)?Cn:-1):Dn(a)?En:l)))){var r=e;r[i]||(r[i]={}),r[i].f||(r[i].f={}),r=r[i].f;for(var o=t.split("."),s=0;s<o.length-1;++s)r[o[s]]||(r[o[s]]={f:{}}),r=r[o[s]].f;Fn(n.value)?r[o[o.length-1]]={a:{t:l}}:r[o[o.length-1]]={t:l}}}var a,u,c,l}function De(){}function Le(e){try{return e.responseText}catch(e){}return""}function Be(){var e,t=ni.call(this)||this;t.identifier="PostChannel",t.priority=1011;var n,i,r,o,s,a=!(t.version="2.4.5"),u=[],c=null,l=!1,f=0,d=1e4,h={},p=Qi,g=null,v=0,_=0,m={},y=-1;return k(Be,t,function(t,I){function S(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=In.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,e.sync)if(v||l)e.latency=In.RealTime,e.sync=!1;else if(i)return i.sendSynchronousBatch(tr.create(e.iKey,[e]),3),0;var n=!1;f<d?n=!R(e,t):(n=!0,function(e,t){for(var n=In.Normal;n<=t;){var i=b(e,t,!0);if(i&&0<i.count()&&0<(i=i.split(0,gr)).count())return M(Sr,[i],rt.QueueFull),1;n++}}(e.iKey,e.latency)&&(n=!R(e,t))),n&&P(Sr,[e],rt.QueueFull)}function x(e,t,n,r){return e=O(e,t,n),i.sendQueuedRequests(t,n,r),e}function T(){0<=y&&O(y,s,!0)&&i.sendQueuedRequests(s,!0,!1);var e=h[p][1];!g&&!c&&0<=e&&!l&&(0<f?g=E(function(){g=null,x(0===_?In.RealTime:In.Normal,1,!0),_++,_%=2,T()},e):_=0)}function E(e,n){0===n&&v&&(n=1);var i=1e3;return v&&(i=ir.getMillisToBackoffForRetry(v-1)),t._setTimeoutOverride(e,n*i)}function C(){null!==g&&(t._clearTimeoutOverride(g),g=null,_=0)}function w(e,n){C(),c&&(t._clearTimeoutOverride(c),c=null),l||x(In.Normal,e,n,!0)}function b(e,t,n){var i=m[t];return i||(t=In.Normal,i=m[t]),!(t=i.iKeyMap[e])&&n&&(t=tr.create(e),i.batches.push(t),i.iKeyMap[e]=t),t}function A(e,n){i.canSendRequest()&&!v&&(0<r&&r<f&&(n=!0),n&&null==c&&t.flush(e,null,20))}function R(e,t){var n=b(e.iKey,e.latency,!0);return n.addEvents([e],t)&&(f++,t&&0===e.sendAttempt&&A(!e.sync,0<o&&n.count()>=o),1)}function O(e,n,r){var o=!1;return!r||i.canSendRequest()?L(t.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=In.RealTime;e<=n;){var r=m[n];r&&r.batches&&(Nn(r.batches,function(e){i.addBatch(e)?o=o||e&&0<e.count():t=t.concat(e.events()),f-=e.count()}),r.batches=[],r.iKeyMap={}),n--}0<t.length&&P(Sr,t,rt.KillSwitch),o&&e<=y&&(y=-1,s=0)},function(){return{latency:e,sendReason:n}},r):(y=0<=y?Math.min(y,e):e,s=Math.max(s,n)),o}function N(){(h={})[Qi]=[2,1],h[$i]=[6,3],h[er]=[18,9]}function k(e,n){var i=t._notificationManager||{},r=i[e];if(r)try{r.apply(i,n)}catch(n){t.diagLog().throwInternal(it.CRITICAL,Sn.NotificationException,e+" notification failed: "+n)}}function P(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&k(e,[t].concat(n))}function M(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&Nn(t,function(t){t&&0<t.count()&&k(e,[t.events()].concat(n))})}function D(){o=e&&e.disableAutoBatchFlushLimit?0:Math.max(pr*(yr+1),d/6)}N(),m[In.RealTime]={batches:[],iKeyMap:{}},m[In.CostDeferred]={batches:[],iKeyMap:{}},m[In.Normal]={batches:[],iKeyMap:{}},D(),i=new dr(pr,yr,Ir,{requeue:function(e,n){var i=[];Nn(e,function(e){e&&0<e.count()&&Nn(e.events(),function(e){e&&(e.sync&&(e.latency=In.RealTime,e.sync=!1),e.sendAttempt<vr?(ee(e,t.identifier),S(e,!1)):i.push(e))})}),0<i.length&&P(Sr,i,rt.NonRetryableStatus)},send:function(e,t,n){e&&0<e.length&&k("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){M("eventsSent",e,t),T()},drop:function(e,t){M(Sr,e,8e3<=t&&t<=8999?t-8e3:rt.Unknown)},rspFail:function(e){M(Sr,e,rt.NonRetryableStatus),T()},oth:function(e,t){M(Sr,e,rt.Unknown),T()}}),t._getDbgPlgTargets=function(){return[i]},t.initialize=function(o,s,a){L(s,function(){return"PostChannel:initialize"},function(){var u=s;I.initialize(o,s,a),t.setInitialized(!1);var c=t._getTelCtx();o.extensionConfig[t.identifier]=o.extensionConfig[t.identifier]||{},e=c.getExtCfg(t.identifier),t._setTimeoutOverride=e.setTimeoutOverride||setTimeout.bind(mr),t._clearTimeoutOverride=e.clearTimeoutOverride||clearTimeout.bind(mr);var l=u.getWParam;u.getWParam=function(){var t=0;return e.ignoreMc1Ms0CookieProcessing&&(t|=2),t|l()},0<e.eventsLimitInMem&&(d=e.eventsLimitInMem),0<e.autoFlushEventsLimit&&(r=e.autoFlushEventsLimit),D(),e.httpXHROverride&&e.httpXHROverride.sendPOST&&(n=e.httpXHROverride),K(o.anonCookieName)&&i.addQueryStringParameter("anoncknm",o.anonCookieName),i.sendHook=e.payloadPreprocessor,i.sendListener=e.payloadListener,c=e.overrideEndpointUrl||o.endpointUrl,t._notificationManager=o.extensionConfig.NotificationManager,i.initialize(c,t.core,t,n),c=qn("beforeunload",u=function(){w(2,!1)}),c=qn("unload",u)||c,c=qn("pagehide",u)||c,t.setInitialized(!0)},function(){return{coreConfig:o,core:s,extensions:a}})},t.processTelemetry=function(n,i){ee(n,t.identifier);var r=(i=t._getTelCtx(i)).getExtCfg(t.identifier),o=!!e.disableTelemetry;r&&(o=o||!!r.disableTelemetry),o||a||(e[xr]&&(n.iKey=e[xr]),r&&r[xr]&&(n.iKey=r[xr]),S(n,!0),T()),t.processNext(n,i)},t.setEventQueueLimits=function(e,t){d=0<e?e:1e4,r=0<t?t:0,D();var n=e<f;if(!n&&0<o)for(var i=In.Normal;!n&&i<=In.RealTime;i++){var s=m[i];s&&s.batches&&Nn(s.batches,function(e){e&&e.count()>=o&&(n=!0)})}A(!0,n)},t.teardown=function(){w(2,!1),a=!0,i.teardown()},t.pause=function(){C(),l=!0,i.pause()},t.resume=function(){l=!1,i.resume(),T()},t.addResponseHandler=function(e){i._responseHandlers.push(e)},t._loadTransmitProfiles=function(e){C(),N(),p=Qi,T(),Hn(e,function(e,t){var n;2<=t.length&&(t.splice(0,t.length-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(n=t[0]/t[1],t[0]=Math.ceil(n)*t[1]),h[e]=t)})},t.flush=function(e,t,n){void 0===e&&(e=!0),l||(C(),n=n||1,e?(O(In.Normal,n,e),null==c?c=E(function(){!function e(t,n){x(In.Normal,n,!0),function e(t){i.isCompletelyIdle()?t():c=E(function(){e(t)},hr)}(function(){t&&t(),0<u.length?c=E(function(){return e(u.shift(),n)},0):(c=null,0<f&&T())})}(t,n)},0):u.push(t)):(x(In.Normal,n,!1),null!==t&&void 0!==t&&t()))},t.setMsaAuthTicket=function(e){i.addHeader("AuthMsaDeviceTicket",e)},t.hasEvents=function(){return 0<f},t._setTransmitProfile=function(e){p!==e&&void 0!==h[e]&&(C(),p=e,T())},t._backOffTransmission=function(){v<_r&&(v++,C(),T())},t._clearBackOff=function(){v&&(v=0,C(),T())}}),t}function Fe(e,t){var n=e=ii.call(this,e)||this;return n.setId=function(e){n._setOverride(Pi.id,e)},n.getId=function(){return n._getOverride(Pi.id)},n.setVer=function(e){n._setOverride(Pi.ver,e)},n.getVer=function(){return n._getOverride(Pi.ver)},n.setName=function(e){n._setOverride(Pi.appName,e)},n.getName=function(){return n._getOverride(Pi.appName)},n.setLocale=function(e){n._setOverride(Pi.locale,e)},n.getLocale=function(){return n._getOverride(Pi.locale)},n.setEnv=function(e){n._setOverride(Pi.env,e)},n.getEnv=function(){return n._getOverride(Pi.env)},n.setExpId=function(e){n._setOverride(Pi.expId,Yn.validateAppExpId(e))},n.getExpId=function(){return n._getOverride(Pi.expId)},t&&(Tt.isUndefined(t.env)||n.setEnv(t.env),Tt.isNullOrUndefined(t.expId)||n.setExpId(t.expId)),e}function Ue(e){var t=e=ri.call(this,e)||this;return t.setProperty=function(e,n){t._setOverride(e,n)},t.getProperty=function(e){return t._getOverride(e)},e}function Ve(e){var t=e=oi.call(this,e)||this;return t.setLocalId=function(e){t._setOverride(zi.localId,e)},t.getLocalId=function(){return t._getOverride(zi.localId)},t.setDeviceClass=function(e){t._setOverride(zi.deviceClass,e)},t.getDeviceClass=function(){return t._getOverride(zi.deviceClass)},t.setMake=function(e){t._setOverride(zi.make,e)},t.getMake=function(){return t._getOverride(zi.make)},t.setModel=function(e){t._setOverride(zi.model,e)},t.getModel=function(){return t._getOverride(zi.model)},e}function We(e,t){var n=e=si.call(this,e)||this;return n.setOsName=function(e){n._setOverride(Li.osName,e)},n.getOsName=function(){return n._getOverride(Li.osName)},n.setVer=function(e){n._setOverride(Li.ver,e)},n.getVer=function(){return n._getOverride(Li.ver)},t&&t.userAgent&&t.populateOperatingSystemInfo&&(t=new wi(t),n.setOsName(t.name),n.setVer(t.ver)),e}function ze(e,t){if(e)for(var n=0;n<t.length;n++){var i=t[n];Ar(e[i])&&(e[i]={}),e=e[i]}return e}function Ge(e){var t=e=ai.call(this,e)||this;return t.setLocalId=function(e){t._setOverride(Di.localId,e)},t.getLocalId=function(){return t._getOverride(Di.localId)},t.setLocale=function(e){t._setOverride(Di.locale,e)},t.getLocale=function(){return t._getOverride(Di.locale)},t.setId=function(e){t._setOverride(Di.id,e)},t.getId=function(){return t._getOverride(Di.id)},e}function Ke(e,t){var n=e=ui.call(this,e)||this;return n.setDomain=function(e){n._setOverride(Mi.domain,e)},n.getDomain=function(){return n._getOverride(Mi.domain)},n.setBrowser=function(e){n._setOverride(Mi.browser,e)},n.getBrowser=function(){return n._getOverride(Mi.browser)},n.setBrowserVer=function(e){n._setOverride(Mi.browserVer,e)},n.getBrowserVer=function(){return n._getOverride(Mi.browserVer)},n.setScreenRes=function(e){n._setOverride(Mi.screenRes,e)},n.getScreenRes=function(){return n._getOverride(Mi.screenRes)},n.setUserConsent=function(e){n._setOverride(Mi.userConsent,e)},n.getUserContext=function(){return n._getOverride(Mi.userConsent)},t&&(Tt.isUndefined(t.userConsented)||n.setUserConsent(t.userConsented)),e}function qe(){var e=ci.call(this)||this;e.identifier="OverridePropertiesPlugin",e.priority=4,e.version="1.1.11";var t=e,n=null;return t._baseInit=function(t,i,r){n=new Mr(0,e._getTelCtx().getExtCfg(e.identifier))},t.setProperty=function(e,t){n&&n.data.setProperty(e,t)},t.getOverrideContext=function(){return n},e}function He(e,t){if(t)for(var n=Tt.objKeys(t),i=0;i<n.length;i++){var r=n[i];Tt.hasOwnProperty(e,r)||(e[r]=t[r])}}function je(e,t){var n=null;return t&&(t.endpointUrl&&(n=t.endpointUrl),(e=(t.extensionConfig||{})[e]||{}).overrideEndpointUrl&&(n=e.overrideEndpointUrl)),n}function Xe(e,t){var n=li.call(this)||this;return k(Xe,n,function(n,i){function r(t){var n=[];return t&&Nn(t,function(t){t.iKey===e&&n.push(t)}),n}function o(e){if(n[e]&&n.listeners)for(var t=0;t<n.listeners.length;t++){var i=n.listeners[t];if(i&&i[e])return 1}}var s={eventsSent:function(e){!o("eventsSent")||0<(e=r(e)).length&&n.eventsSent(e)},eventsDiscarded:function(e,t){!o("eventsDiscarded")||0<(e=r(e)).length&&n.eventsDiscarded(e,t)},eventsSendRequest:function(e,t){o("eventsSendRequest")&&n.eventsSendRequest(e,t)},perfEvent:function(e){o("perfEvent")&&n.perfEvent(e)}};t.addNotificationListener(s)}),n}function Je(e,t,n){var i,r=fi.call(this)||this,o=e;return k(Je,r,function(e,r){e.getSharedPropertyManager=function(){return o.getPropertyManager()},e.getSharedPostChannel=function(){return o.getPostChannel()},e.getOverridePropertyManager=function(){return i},e.initialize=function(o,s){L(e,function(){return"ApplicationInsights:initialize"},function(){var a=[i=new Dr];s&&(a=a.concat(s)),o.extensionConfig=o.extensionConfig||[];var u=o.propertyConfiguration||{};o.propertyConfiguration&&delete o.propertyConfiguration,o.extensionConfig[i.identifier]=u;try{r.initialize(o,a,t,n)}catch(t){e.logger.throwInternal(it.CRITICAL,Sn.FailedToInitializeSDK,"Failed to initialize SDK."+t)}},function(){return{config:o,extensions:s}})}}),r}var Ze="function",Ye="object",Qe="undefined",$e="prototype",et="hasOwnProperty",tt=function(e,t){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[et](n)&&(e[n]=t[n])})(e,t)},nt=function(e,t){function i(){this.constructor=e}tt(e,t),e[$e]=null===t?n(t):(i[$e]=t[$e],new i)};(hn=yn=t()||{}).__assign||(hn.__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object[$e][et].call(t,r)&&(e[r]=t[r]);return e}),hn.__extends||(hn.__extends=nt),__assign=__assign||yn.__assign,__extends=__extends||yn.__extends;var it,rt={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},ot=Qe,st=Ye,at="window",ut="document",ct="navigator",lt="location",ft="JSON",dt=t,ht="attachEvent",pt="addEventListener",gt="detachEvent",vt="removeEventListener",_t=4294967296,mt=4294967295,yt=null,It=!1,St=123456789,xt=987654321,Tt=(S.isDate=function(e){return"[object Date]"===Object[$e].toString.call(e)},S.isArray=function(e){return"[object Array]"===Object[$e].toString.call(e)},S.isError=function(e){return"[object Error]"===Object[$e].toString.call(e)},S.isString=function(e){return h(e,"string")},S.isNumber=function(e){return h(e,"number")},S.isBoolean=function(e){return h(e,"boolean")},S.disableCookies=function(){S._canUseCookies=!1},S.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Et,function(e){var t=0|S.randomValue(15);return("x"===e?t:3&t|8).toString(16)})},S.toISOString=function(e){if(S.isDate(e)){var t=function(e){return 1===(e+="").length&&(e="0"+e),e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}},S.arrForEach=function(e,t,n){for(var i=e.length,r=0;r<i;r++)r in e&&t.call(n||e,e[r],r,e)},S.arrIndexOf=function(e,t,n){for(var i=e.length,r=Math.max(0<=(n=n||0)?n:i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1},S.arrMap=function(e,t,n){for(var i=e.length,r=n||e,o=Array(i),s=0;s<i;s++)s in e&&(o[s]=t.call(r,e[s],e));return o},S.arrReduce=function(e,t,n){var i,r=e.length,o=0;if(3<=arguments.length)i=n;else{for(;o<r&&!(o in e);)o++;i=e[o++]}for(;o<r;)o in e&&(i=t(i,e[o],o,e)),o++;return i},S.strTrim=function(e){return S.isString(e)?e.replace(/^\s+|\s+$/g,""):e},S.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(m(e)||_(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n,i=[];for(n in e)v(e,n)&&i.push(n);if(t)for(var r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length,s=0;s<o;s++)v(e,r[s])&&i.push(r[s]);return i},S.objDefineAccessors=function(e,t,n,i){var r=Object.defineProperty;if(r)try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),i&&(o.set=i),r(e,t,o),!0}catch(e){}return!1},S.addEventHandler=function(e,t){var n=!1,i=o();return i&&(n=y(i,e,t),n=y(i.body,e,t)||n),(i=s())&&(n=Ct.Attach(i,e,t)||n),n},S.dateNow=function(){var e=Date;return e.now?e.now():(new e).getTime()},S.perfNow=function(){var e=i("performance");return e&&e.now?e.now():S.dateNow()},S.newId=function(e){void 0===e&&(e=22);for(var t=S.random32()>>>0,n=0,i="";i.length<e;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t],t>>>=6,5==++n&&(t=(S.random32()<<2&4294967295|3&t)>>>0,n=0);return i},S.isIE=function(){var e;return null===yt&&(e=((u()||{}).userAgent||"").toLowerCase(),yt=!!~e.indexOf("msie")||!!~e.indexOf("trident/")),yt},S.randomValue=function(e){return 0<e?Math.floor(S.random32()/mt*(e+1))>>>0:0},S.random32=function(e){var t=(t=i("crypto")||i("msCrypto"))&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&mt:S.isIE()?(It||d(),S.mwcRandom32()&mt):Math.floor(_t*Math.random()|0);return e||(t>>>=0),t},S.mwcRandomSeed=function(e){e?f(e):d()},S.mwcRandom32=function(e){var t=((xt=36969*(65535&xt)+(xt>>16)&mt)<<16)+(65535&(St=18e3*(65535&St)+(St>>16)&mt))>>>0&mt|0;return e||(t>>>=0),t},S.generateW3CId=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=S.random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&S.random32())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)},S.isTypeof=h,S.isUndefined=p,S.isNullOrUndefined=g,S.hasOwnProperty=v,S.isFunction=m,S.isObject=_,S.objCreate=n,S),Et=/[xy]/g,Ct=(x.Attach=y,x.AttachEvent=y,x.Detach=I,x.DetachEvent=I,x);(Wn=it=it||{})[Wn.CRITICAL=1]="CRITICAL",Wn[Wn.WARNING=2]="WARNING";var wt={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},bt="constructor",At="prototype",Rt="function",Ot="_dynInstFuncs",Nt="_isDynProxy",kt="_dynClass",Pt="_dynCls$",Mt="_dynInstChk",Dt=Mt,Lt="_dfOpts",Bt="_unknown_",Ft="__proto__",Ut="useBaseInst",Vt="setInstFuncs",Wt=Object.getPrototypeOf,zt=0;k[Lt]={setInstFuncs:!0,useBaseInst:!0};var Gt,Kt,qt,Ht=(M.dataType="MessageData",M),jt=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};k(e,this,function(e){function o(e,n){return e=t[e],s(e)?n:e}var s=Tt.isNullOrUndefined,a=Tt.isUndefined,u=Tt.isFunction;s(t)&&(t={}),e.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},e.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){if(void 0===s&&(s=!1),o=new Ht(n,i,s,o),e.enableDebugExceptions())throw o;!a(o)&&o&&(a(o.message)||(s?(s=+o.messageId,!r[s]&&e.consoleLoggingLevel()>=it.WARNING&&(e.warnToConsole(o.message),r[s]=!0)):e.consoleLoggingLevel()>=it.WARNING&&e.warnToConsole(o.message),e.logInternalMessage(t,o)))},e.warnToConsole=function(e){var t,n=typeof console!==ot?console:i("console");n&&(t="log",n.warn&&(t="warn"),u(n[t])&&n[t](e))},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){var o,s;n>=e.maxInternalMessageLimit()||(o=!0,s="AITR_"+i.messageId,r[s]?o=!1:r[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++),n===e.maxInternalMessageLimit()&&(i=new Ht(wt.MessageLimitPerPVExceeded,t="Internal events throttle limit per PageView reached for this app.",!1),e.queue.push(i),e.warnToConsole(t))))}})},Xt="ctx",Jt=(D.ParentContextKey="parent",D.ChildrenContextKey="childEvts",D),Zt=function e(t){this.ctx={},k(e,this,function(e){e.create=function(e,t,n){return new Jt(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e[Xt]=e[Xt]||{})[t]=n)},e.getCtx=function(t){return(e[Xt]||{})[t]}})},Yt="CoreUtils.doPerf",Qt=Tt.isFunction,$t=function(e,t){var n=this,i=null,r=Qt(e.processTelemetry),o=Qt(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(e){i=e},n.processTelemetry=function(s,a){a=a||t;var u=e?e.identifier:"TelemetryPluginChain";L(a?a.core():null,function(){return u+":processTelemetry"},function(){if(e&&r){n._hasRun=!0;try{a.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(s,a)}catch(n){var t=i&&i._hasRun;i&&t||a.diagLog().throwInternal(it.CRITICAL,wt.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),i&&!t&&i.processTelemetry(s,a)}}else i&&(n._hasRun=!0,i.processTelemetry(s,a))},function(){return{item:s}},!s.sync)}},en=Tt.isNullOrUndefined,tn=function e(t,n,i,r){var o,s,a,u,c=this,l=null;null!==r&&(t&&Tt.isFunction(t.getPlugin)?l=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var o=e.getPlugin();!r&&o!==n||(r=!0,i.push(o)),e=e.getNext()}return r||i.push(n),B(i,t)}(t,c,r||t.getPlugin()):r?(o=c,a=t,u=!1,(s=r)&&t&&(a=[],Tt.arrForEach(t,function(e){!u&&e!==s||(u=!0,a.push(e))})),s&&!u&&(a=a||[]).push(s),l=B(a,o)):Tt.isUndefined(r)&&(l=B(t,c))),c.core=function(){return i},c.diagLog=function(){return(i||{}).logger||new jt(n||{})},c.getCfg=function(){return n},c.getExtCfg=function(e,t){var i,r;return void 0===t&&(t={}),!n||(r=n.extensionConfig)&&e&&(i=r[e]),i||t},c.getConfig=function(e,t,i){var r;return void 0===i&&(i=!1),(e=c.getExtCfg(e,null))&&!en(e[t])?r=e[t]:n&&!en(n[t])&&(r=n[t]),en(r)?i:r},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(t,r){return void 0===t&&(t=null),new e(t||l,n,i,r)}},nn=Tt.isFunction,rn="getPlugin",on=(F.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},F),sn=Tt.isFunction,an="processTelemetry",un="priority",cn="setNextPlugin",ln="isInitialized",fn=500,dn="Channel has invalid priority",hn=Tt.objDefineAccessors,pn=(Gt=on,__extends(W,Gt),W._staticInit=(hn(W.prototype,"ChannelControls",W.prototype.getChannelControls),void hn(W.prototype,"channelQueue",W.prototype.getChannelControls)),W),gn=Tt.arrForEach,vn=Tt.isNullOrUndefined,_n="_notificationManager",mn=function e(t){this.listeners=[];var n=Tt.arrForEach,i=!!(t||{}).perfEvtsSendAll;k(e,this,function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=Tt.arrIndexOf(e.listeners,t);-1<n;)e.listeners.splice(n,1),n=Tt.arrIndexOf(e.listeners,t)},e.eventsSent=function(t){n(e.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},e.eventsDiscarded=function(t,i){n(e.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,i)},0)})},e.eventsSendRequest=function(t,i){n(e.listeners,function(e){if(e&&e.eventsSendRequest)if(i)setTimeout(function(){return e.eventsSendRequest(t,i)},0);else try{e.eventsSendRequest(t,i)}catch(e){}})},e.perfEvent=function(t){t&&(!i&&t.isChildEvt()||n(e.listeners,function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout(function(){return e.perfEvent(t)},0);else try{e.perfEvent(t)}catch(e){}}))}})},yn=(Kt=nt=function e(){var t,n,i,r,o=!1;k(e,this,function(e){e._extensions=[],n=new pn,e.logger=Tt.objCreate({throwInternal:function(e,t,n,i,r){void 0===r&&(r=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return o},e.initialize=function(t,r,s,a){if(e.isInitialized())throw Error("Core should not be initialized more than once");if(!t||vn(t.instrumentationKey))throw Error("Please provide instrumentation key");i=a,e[_n]=a,e.config=t||{},t.extensions=vn(t.extensions)?[]:t.extensions,(t.extensionConfig=vn(t.extensionConfig)?{}:t.extensionConfig).NotificationManager=a,s&&(e.logger=s),(a=[]).push.apply(a,r.concat(t.extensions)),a=V(a);var u=[],c={};if(gn(a,function(e){if(vn(e)||vn(e.initialize))throw Error("Extensions must provide callback to initialize");var t=e.priority,i=e.identifier;e&&t&&(vn(c[t])?c[t]=i:s.warnToConsole("Two extensions have same priority #"+t+" - "+c[t]+", "+i)),(!t||t<n.priority)&&u.push(e)}),a.push(n),u.push(n),a=V(a),e._extensions=a,U(new tn([n],t,e),a),U(new tn(u,t,e),a),e._extensions=u,0===e.getTransmissionControls().length)throw Error("No channels available");o=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){n.iKey||(n.iKey=e.config.instrumentationKey),n.time||(n.time=Tt.toISOString(new Date)),vn(n.ver)&&(n.ver="4.0"),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,i=t;return t&&0!==t.length||(i=[n]),new tn(i,e.config,e)},e.getNotifyMgr=function(){return i||(i=Tt.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e[_n]=i),i},e.getPerfMgr=function(){return r||e.config&&e.config.enablePerfMgr&&(r=new Zt(e.getNotifyMgr())),r},e.setPerfMgr=function(e){r=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){0<t.length&&(gn(t,function(t){e.getProcessTelContext().processNext(t)}),t=[])}})},__extends(z,Kt),z),In={Normal:1,CostDeferred:2,RealTime:3},Sn=__assign({},wt,{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519}),xn="1DS-Web-JS-2.4.5",Tn=1,En=6,Cn=7,wn=null,bn=Tt.isUndefined,An=Tt.isNullOrUndefined,Rn=null,On=null,Nn=Tt.arrForEach,kn=Tt.objKeys,Pn=function(){var e=u();return!(!e||!e.product)&&"ReactNative"===e.product},Mn=Tt.isString,Dn=Tt.isNumber,Ln=Tt.isBoolean,Bn=Tt.isFunction,Fn=Tt.isArray,Un=Tt.strTrim,Vn=!!s(),Wn=!!o(),zn=Tt.perfNow;hn=Tt.objDefineAccessors;var Gn,Kn,qn=Tt.addEventHandler,Hn=function(e,t){if(e&&_(e))for(var n in e)v(e,n)&&t.call(e,n,e[n])},jn="version",Xn="properties",yn=(Gn=yn,__extends(te,Gn),te);Kn=nt,__extends(function e(){var t=Kn.call(this)||this;return k(e,t,function(e,t){e.initialize=function(n,i,r,o){n&&(n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/")),e.getWParam=function(){return Vn?0:-1};try{t.initialize(n,i,r,o)}catch(t){e.logger.throwInternal(it.CRITICAL,Sn.ErrorProvidedChannels,"Channels must be provided through config.channels only")}},e.track=function(e){var n=e;n&&((e=n.ext=n.ext||{}).sdk=e.sdk||{},e.sdk.ver=xn),t.track(n)}}),t},Kn);var Jn,Zn=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"],Yn=(ie.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},ie.prototype._getMetaDataFromDOM=function(e){var t,n={},i=s();if(i){t=i&&i.querySelectorAll("meta");for(var r=0;r<t.length;r++){var o=t[r];o.name&&(o.name.toLowerCase().indexOf(e)||(n[o.name.replace(e,"")]=o.content))}}return n},ie.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=ne(e,this.flightIdNameSpaces))},ie.prototype._getAppExpId=function(){return this.appExpId},ie.prototype._readExpIdFromCookie=function(){return this._setAppExpId(Y(this.expIdCookieName)),this._getAppExpId()},ie.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},ie.validateAppExpId=ne,ie._staticInit=void hn(ie.prototype,"expId",ie.prototype.getExpId),ie),Qn=function(){},$n=void 0,ei=null;(nt=Jn=Jn||{})[nt.LocalStorage=0]="LocalStorage",nt[nt.SessionStorage=1]="SessionStorage";var ti,ni,ii,ri,oi,si,ai,ui,ci,li,fi,di=Tt.toISOString,hi=(le.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e=Y("MUID");return void(e&&this.setLocalId("t:"+e))},le.prototype.setLocalId=function(e){this._customLocalId=e},le.cookieSeparator="|",le.userCookieName="ai_user",le._staticInit=void hn(le.prototype,"localId",le.prototype.getLocalId,le.prototype.setLocalId),le),pi="Unknown",gi=(fe.prototype.getUserConsent=function(){return this._propertiesConfig.userConsented||!!Y(this._propertiesConfig.userConsentCookieName||"MSCC")},fe.prototype.getUserConsentDetails=function(){try{if(this._propertiesConfig.callback&&this._propertiesConfig.callback.userConsentDetails){var e=this._propertiesConfig.callback.userConsentDetails();if(e)return JSON.stringify({Required:e.Required||!1,Analytics:e.Analytics||!1,SocialMedia:e.SocialMedia||!1,Advertising:e.Advertising||!1})}}catch(e){}return null},fe.prototype._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?"Opera":this._userAgentContainsString("PhantomJS",e)?"PhantomJS":this._userAgentContainsString("Edge",e)?"Edge":this._userAgentContainsString("Electron",e)?"Electron":this._userAgentContainsString("Chrome",e)?"Chrome":this._userAgentContainsString("Trident",e)?"MSIE":this._userAgentContainsString("Firefox",e)?"Firefox":this._userAgentContainsString("Safari",e)?"Safari":this._userAgentContainsString("SkypeShell",e)?"SkypeShell":pi},fe.prototype._userAgentContainsString=function(e,t){return!!~t.indexOf(e)},fe.prototype._getBrowserVersion=function(e,t){return"MSIE"===t?this._getIeVersion(e):this._getOtherVersion(t,e)},fe.prototype._getIeVersion=function(e){var t=e.match(/MSIE ([\d,.]+)/);return t?t[1]:(e=e.match(/rv:([\d,.]+)/))?e[1]:void 0},fe.prototype._getOtherVersion=function(e,t){return"Safari"===e&&(e="Version"),(e=t.match(RegExp(e+"/([\\d,.]+)")))?e[1]:pi},fe.prototype._getScreenResolution=function(){var e={h:0,w:0},t=o();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e},fe._staticInit=void hn(fe.prototype,"userConsent",fe.prototype.getUserConsent),fe),vi=/(windows|win32)/i,_i=/ arm;/i,mi=/windows\sphone\s\d+\.\d+/i,yi=/(macintosh|mac os x)/i,Ii=/(ipad|iphone|ipod)(?=.*like mac os x)/i,Si=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,xi=/android/i,Ti=/CrOS/i,Ei={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},Ci="Unknown",wi=(de.prototype._getOsName=function(e){return e.match(mi)?"Windows Phone":e.match(_i)?"Windows RT":e.match(vi)?"Windows":e.match(Ii)?"iOS":e.match(xi)?"Android":e.match(Si)?"Linux":~e.indexOf("x11")?"Unix":~e.indexOf("blackberry")?"BlackBerry":~e.indexOf("symbian")?"Symbian":~e.indexOf("nokia")?"Nokia":e.match(yi)?"Mac OS X":e.match(Ti)?"Chrome OS":Ci},de.prototype._getOsVersion=function(e,t){return"Windows"===t?this._getGenericOsVersion(e,"Windows NT"):"Android"===t?this._getGenericOsVersion(e,t):"Mac OS X"===t?this._getMacOsxVersion(e):Ci},de.prototype._getGenericOsVersion=function(e,t){return(t=e.match(RegExp(t+" ([\\d,.]+)")))?Ei[t[1]]||t[1]:Ci},de.prototype._getMacOsxVersion=function(e){var t=e.match(/Mac OS X ([\d,_,.]+)/);return t&&(e=t[1].replace(/_/g,"."))?(t=this._getDelimiter(e))?e.split(t)[0]:e:Ci},de.prototype._getDelimiter=function(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null},de),bi=(he.prototype.getMsfpc=function(){return Y("MSFPC")},he.prototype.getAnid=function(){return Y("ANON").slice(0,34)},he._staticInit=(hn(he.prototype,"msfpc",he.prototype.getMsfpc),void hn(he.prototype,"anid",he.prototype.getAnid)),he),Ai=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Ri=function(){var e=0<(t=((e=(new Date).getTimezoneOffset())-(n=e%60))/60)?"-":"+",t=Math.abs(t),n=Math.abs(n);this.tz=e+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())},Oi=function(){},Ni=(pe.prototype.setId=function(e){this.customId=e},pe._staticInit=void hn(pe.prototype,"id",pe.prototype.getId=function(){return Mn(this.customId)?this.customId:this.automaticId},pe.prototype.setId),pe),ki=function(e,t,n,i){e.enableApplicationInsightsTrace&&(this.traceId=t||Tt.generateW3CId(),this.parentId=n,this.name=i,(i=c())&&i.pathname&&(this.name=i.pathname))},Pi=(ge.id="id",ge.ver="ver",ge.appName="name",ge.locale="locale",ge.expId="expId",ge.env="env",ge),Mi=(ve.domain="domain",ve.browser="browser",ve.browserVer="browserVer",ve.screenRes="screenRes",ve.userConsent="userConsent",ve.consentDetails="consentDetails",ve),Di=(_e.locale="locale",_e.localId="localId",_e.id="id",_e),Li=(me.osName="name",me.ver="ver",me),Bi=(ye.ver="ver",ye.seq="seq",ye.installId="installId",ye.epoch="epoch",ye),Fi=(Ie.msfpc="msfpc",Ie.anid="anid",Ie.serviceName="serviceName",Ie),Ui=(Se.popSample="popSample",Se.eventFlags="eventFlags",Se),Vi=(xe.tz="tz",xe),Wi=(Te.sessionId="sesId",Te),zi=(Ee.localId="localId",Ee.deviceClass="deviceClass",Ee.make="make",Ee.model="model",Ee),Gi=(Ce.role="role",Ce.roleInstance="roleInstance",Ce.roleVer="roleVer",Ce),Ki=(we.traceId="traceID",we.traceName="name",we.parentId="parentID",we),qi=(be.UserExt="user",be.DeviceExt="device",be.TraceExt="trace",be.WebExt="web",be.AppExt="app",be.OSExt="os",be.SdkExt="sdk",be.IntWebExt="intweb",be.UtcExt="utc",be.LocExt="loc",be.CloudExt="cloud",be),Hi="MicrosoftApplicationsTelemetryDeviceId",ji=(Ae.prototype.getSequenceId=function(){return++this._sequenceId},Ae.prototype._saveData=function(e,t){var n=this._propertyStorage;n?n.setProperty(e,t):Z(e,t,365)},Ae.prototype._getData=function(e){return this._propertyStorage?this._propertyStorage.getProperty(e)||"":Y(e)},Ae),Xi=(Re.acquisitionSpan=864e5,Re.renewalSpan=18e5,Re.cookieUpdateInterval=6e4,Re.cookieNameConst="ai_session",Re),Ji=Mn,Zi=(Oe.prototype.getSessionId=function(){var e=this.session;if(e&&Ji(e.customId))return e.customId;var t=this.sessionManager;return t.update(),!(t=t.automaticSession)||(t=t.getId())&&Ji(t)&&(e.automaticId=t),e.automaticId},Oe.prototype.applyApplicationContext=function(e){var t=this.app;Ji(t.id)&&(e.ext[qi.AppExt][Pi.id]=t.id),Ji(t.ver)&&(e.ext[qi.AppExt][Pi.ver]=t.ver),Ji(t.name)&&(e.ext[qi.AppExt][Pi.appName]=t.name),Ji(t.locale)&&(e.ext[qi.AppExt][Pi.locale]=t.locale);var n=t.getExpId();Ji(n)&&(e.ext[qi.AppExt][Pi.expId]=n),Ji(t.env)&&(e.ext[qi.AppExt][Pi.env]=t.env)},Oe.prototype.applyUserContext=function(e){var t=this.user,n=t.getLocalId();Ji(n)&&(e.ext[qi.UserExt][Di.localId]=n),Ji(t.locale)&&(e.ext[qi.UserExt][Di.locale]=t.locale),Ji(t.id)&&(e.ext[qi.UserExt][Di.id]=t.id)},Oe.prototype.applyWebContext=function(e){var t=this.web;Ji(t.domain)&&(e.ext[qi.WebExt][Mi.domain]=t.domain),Ji(t.browser)&&(e.ext[qi.WebExt][Mi.browser]=t.browser),Ji(t.browserVer)&&(e.ext[qi.WebExt][Mi.browserVer]=t.browserVer),Ji(t.screenRes)&&(e.ext[qi.WebExt][Mi.screenRes]=t.screenRes),e.ext[qi.WebExt][Mi.userConsent]=t.getUserConsent(),e.ext[qi.WebExt][Mi.consentDetails]=t.getUserConsentDetails()},Oe.prototype.applyOsContext=function(e){var t=this.os;Ji(t.name)&&(e.ext[qi.OSExt][Li.osName]=t.name),Ji(t.ver)&&(e.ext[qi.OSExt][Li.ver]=t.ver)},Oe.prototype.applySdkContext=function(e){var t=this.sdk;e.ext[qi.SdkExt][Bi.seq]=t.getSequenceId(),e.ext[qi.SdkExt][Bi.epoch]=t.epoch,Ji(t.installId)&&(e.ext[qi.SdkExt][Bi.installId]=t.installId)},Oe.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=t.getMsfpc();Ji(n)&&(e.ext[qi.IntWebExt][Fi.msfpc]=n),n=t.getAnid(),Ji(n)&&(e.ext[qi.IntWebExt][Fi.anid]=n),Ji(t.serviceName)&&(e.ext[qi.IntWebExt][Fi.serviceName]=t.serviceName)},Oe.prototype.applyUtcContext=function(e){var t=this.utc;e.ext[qi.UtcExt][Ui.popSample]=t.popSample,0<t.eventFlags&&(e.ext[qi.UtcExt][Ui.eventFlags]=t.eventFlags)},Oe.prototype.applyLocContext=function(e){e.ext[qi.LocExt][Vi.tz]=this.loc.tz},Oe.prototype.applySessionContext=function(e){e.ext[qi.AppExt][Wi.sessionId]=this.getSessionId()},Oe.prototype.applyDeviceContext=function(e){var t=this.device;Ji(t.localId)&&(e.ext[qi.DeviceExt][zi.localId]=t.localId),Ji(t.make)&&(e.ext[qi.DeviceExt][zi.make]=t.make),Ji(t.model)&&(e.ext[qi.DeviceExt][zi.model]=t.model),Ji(t.deviceClass)&&(e.ext[qi.DeviceExt][zi.deviceClass]=t.deviceClass)},Oe.prototype.applyCloudContext=function(e){var t=this.cloud;Ji(t.role)&&(e.ext[qi.CloudExt][Gi.role]=t.role),Ji(t.roleInstance)&&(e.ext[qi.CloudExt][Gi.roleInstance]=t.roleInstance),Ji(t.roleVer)&&(e.ext[qi.CloudExt][Gi.roleVer]=t.roleVer)},Oe.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;Ji(t.traceId)&&(e.ext[qi.TraceExt][Ki.traceId]=t.traceId),Ji(t.name)&&(e.ext[qi.TraceExt][Ki.traceName]=t.name),Ji(t.parentId)&&(e.ext[qi.TraceExt][Ki.parentId]=t.parentId)},Oe),Yi=(ti=on,__extends(Ne,ti),Ne),Qi="REAL_TIME",$i="NEAR_REAL_TIME",er="BEST_EFFORT",tr=(ke.create=function(e,t){return new ke(e,t)},ke),nr=function e(t){k(e,this,function(e){e.createPayload=function(e,t,n,i){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i}},e.appendPayload=function(n,i,r){var o=n&&i&&!n.overflow;return o&&L(t,function(){return"Serializer:appendPayload"},function(){for(var t=i.events(),o=n.payloadBlob,s=n.numEvents,a=!1,u=[],c=n.isBeacon,l=c?65e3:3984588,f=c?65e3:2e6,d=0;d<t.length;){var h=t[d];if(h){if(r<=s){n.overflow=i.split(d);break}var p=e.getEventBlob(h);if(p.length<=f){if(h=p.length,l<o.length+h){n.overflow=i.split(d);break}o&&(o+="\n"),o+=p,a=!0,s++}else u.concat(t.slice(d,1))}d++}u&&0<u.length&&n.sizeExceed.push(tr.create(i.iKey(),u)),a&&(n.batches.push(i),n.payloadBlob=o,n.numEvents=s,c=i.iKey(),-1===Tt.arrIndexOf(n.apiKeys,c)&&n.apiKeys.push(c))},function(){return{payload:n,theBatch:{iKey:i.iKey(),evts:i.events()},max:r}}),o},e.getEventBlob=function(e){return L(t,function(){return"Serializer.getEventBlob"},function(){var t="data",n="baseData",i={};return i.name=e.name,i.time=e.time,i.ver=e.ver,i.iKey="o:"+function(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}(e.iKey),e.ext&&(i.ext={},Nn(kn(e.ext),function(t){i.ext[t]={},Nn(kn(e.ext[t]),function(n){K(e.ext[t][n])&&(i.ext[t][n]=j(n,e.ext[t][n]).value)})})),i[t]={},i[t][n]={},i[t].baseType=e.baseType,e.baseData&&Nn(kn(e.baseData),function(r){var o=j(r,e.baseData[r]);Pe(i[t][n],r,o),Me(i.ext,n+"."+r,o)}),e.data&&Nn(kn(e.data),function(n){var r=j(n,e.data[n]);Pe(i[t],n,r),Me(i.ext,n,r)}),JSON.stringify(i)},function(){return{item:e}})}})},ir=(De.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!==e&&429!==e||501===e||505===e)},De.getMillisToBackoffForRetry=function(e){var t=2400+Math.floor(1200*Math.random());return Math.min(Math.pow(2,e)*t,6e5)},De),rr=function e(){var t={};k(e,this,function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var i=(s=e.split(","),a=[],s&&Nn(s,function(e){a.push(Un(e))}),a);if("this-request-only"===n)return i;for(var r=1e3*parseInt(n,10),o=0;o<i.length;++o)t[i[o]]=Tt.dateNow()+r}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t;return void 0!==n[e=Un(e)]&&n[e]>Tt.dateNow()||(delete n[e],!1)}})},or=function e(){var t=!0,n=!0,i=!0,r="use-collector-delta",o=!1;k(e,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,o||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){o||(e?(r=e,o=n=!0):n=!1,t=!0)}})},sr="POST",ar="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ur="drop",cr="kill-duration",lr="time-delta-millis",fr=((hn={})[1]=nt="requeue",hn[100]=nt,hn[200]="sent",hn[8004]=ur,hn[8003]=ur,hn),dr=function e(t,n,r,o){this._responseHandlers=[];var s,a,l,f="?cors=true&content-type=application/x-json-stream&client-id=NO_AUTH&client-version="+xn,d=new rr,h=!1,p=new or,g=!1,v=0,_=!0,m=[],y={},I=[],S=null,x=!0;k(e,this,function(e){function T(e,t){var n=new XDomainRequest;n.open(sr,e.urlString),n.onload=function(){var e=Le(n);w(t,200,{},e),U(e)},n.onerror=function(){w(t,400,{})},n.ontimeout=function(){w(t,500,{})},n.send(e.data)}function E(e,t){var n;fetch(e.urlString,((n={body:e.data,method:sr,credentials:"include"})[ar]=!0,n.headers=e.headers,n)).then(function(e){var n={},i="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){i=e}),w(t,e.status,n,i),U(i)}).catch(function(e){w(t,0,{})})}function C(e,t,n){function i(e,t,n){return e[n]||!t||!t.getResponseHeader||(t=t.getResponseHeader(n))&&(e[n]=Un(t)),e}function r(e,n){var r,o,s;w(t,e.status,(s={},(r=e).getAllResponseHeaders?(e=r.getAllResponseHeaders(),o={},Mn(e)&&(e=Un(e).split(/[\r\n]+/),Nn(e,function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=Un(e.substring(0,n)).toLowerCase(),n=Un(e.substring(1+n)),o[t]=n):o[Un(e)]=1)})),o):(s=i(s,r,lr),s=i(s,r,cr),i(s,r,"kill-duration-seconds"))),n)}var o=new XMLHttpRequest;try{o[ar]=!0}catch(e){}W&&(o.withCredentials=!0),o.open(sr,e.urlString,!n),Nn(kn(e.headers),function(t){o.setRequestHeader(t,e.headers[t])}),o.onload=function(){var e=Le(o);r(o,e),U(e)},o.onerror=function(){r(o)},o.ontimeout=function(){r(o)},o.send(e.data)}function w(e,t,n,i){try{e(t,n,i)}catch(e){s.diagLog().throwInternal(it.WARNING,Sn.SendPostOnCompleteFailure,e)}}function b(){return!h&&v<n}function A(){var e=I;return I=[],e}function R(e,t,n){var i=!1;return e&&0<e.length&&!h&&a&&S&&(i=t||b()&&(0<n||p.allowRequestSending())),i}function O(e){var t={};return e&&Nn(e,function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}}),t}function N(e,n,i,r,o,s){var a;e&&0!==e.length&&(h?V(e,1,r):(a=e,L(l,function(){return"HttpManager:_sendBatches"},function(a){a&&(e=e.slice(0));for(var u=[],c=null,l=zn();R(e,r,n);){var f=e.shift();f&&0<f.count()&&(d.isTenantKilled(f.iKey())?u.push(f):(c=c||S.createPayload(n,i,r,s&&k()),S.appendPayload(c,f,t)?null!==c.overflow&&(e=[c.overflow].concat(e),c.overflow=null,M(c,l,zn(),o),l=zn(),c=null):(M(c,l,zn(),o),l=zn(),e=[f].concat(e),c=null)))}c&&M(c,l,zn(),o),0<e.length&&(I=e.concat(I)),V(u,8004,r)},function(){return{batches:O(a),retryCount:n,isTeardown:i,isSynchronous:r,sendReason:o,useSendBeacon:s}},!r)))}function k(){return!_&&g&&q()}function P(e,t,n){e[t]=e[t]||{},e[t][s.identifier]=n}function M(t,n,i,o){var s,u,c;t&&t.payloadBlob&&0<t.payloadBlob.length&&(s=function(e){var t=f,n="";Nn(e.apiKeys,function(e){0<n.length&&(n+=","),n+=e}),0<n.length&&(t+="&apikey="+n),t+="&upload-time="+Tt.dateNow().toString(),K(e=function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),i=0;i<n.length;i++){var r=(n[i].ext||{}).intweb||{};if(K(r.msfpc))return encodeURIComponent(r.msfpc)}return""}(e))&&(t=t+"&ext.intweb.msfpc="+e),p.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+p.getClockSkewHeaderValue()),!l.getWParam||0<=(e=l.getWParam())&&(t+="&w="+e);for(var i=0;i<m.length;i++)t+="&"+m[i].name+"="+m[i].value;return t}(t),u=zn(),c="sendAttempt",L(l,function(){return"HttpManager:_doPayloadSend"},function(){Nn(t.batches,function(e){Nn(e.events(),function(e){var t;x&&(P(t=e.timings=e.timings||{},"sendEventStart",u),P(t,"serializationStart",n),P(t,"serializationCompleted",i)),0<e[c]?e[c]++:e[c]=1})}),V(t.batches,1e3+(o||0),t.isSync,!0);var f={data:t.payloadBlob,urlString:s,headers:y},h=t.payloadBlob=null,g=!!e.sendHook;k()&&t.isBeacon?(g=!1,h=function(n){D(n,t,o),e.sendListener&&e.sendListener(f,n,t.isSync||t.isTeardown,!0)}):a&&(h=function(n){p.firstRequestSent();var i=function(e,n){!function(e,t,n,i){var o=9e3,s=null,a=!1,u=!1;try{var c,l,f=!0;if(void 0!==e){if(t&&(p.setClockSkew(t[lr]),c=t[cr]||t["kill-duration-seconds"],Nn(d.setKillSwitchTenants(t["kill-tokens"],c),function(e){Nn(n.batches,function(t){t.iKey()===e&&(s=s||[],t=t.split(0),n.numEvents-=t.count(),s.push(t))})})),200===e)return o=200;(!ir.shouldRetryForStatus(e)||n.numEvents<=0)&&(f=!1),o=9e3+e%1e3}f&&(o=100,l=n.retryCnt,n.isSync||(l<r?F(function(){n.isSync||v--,N(n.batches,l+1,n.isTeardown,n.isSync,5,n.isBeacon)},a=!0,ir.getMillisToBackoffForRetry(l)):u=!0))}finally{a||(p.setClockSkew(),B(n,o,i,u)),V(s,8004,n.isSync)}}(e,n,t,o)};try{a.sendPOST(n,i,t.isTeardown||t.isSync),e.sendListener&&e.sendListener(f,n,t.isSync||t.isTeardown,!1)}catch(e){w(i,0,{})}}),L(l,function(){return"HttpManager:_doPayloadSend.sender"},function(){var n,i;h&&(t.isSync||v++,g?(i=!(n={data:f.data,urlString:f.urlString,headers:f.headers}),L(l,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{e.sendHook(n,function(e){i=!0,h(e)},t.isSync||t.isTeardown)}catch(e){i||h(f)}})):h(f))}),V(t.sizeExceed,8003,t.isSync)},function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:o}},t.isSync))}function D(e,t,n){try{if(q()){if(u().sendBeacon(e.urlString,e.data))return B(t,200,n,!1),0;Nn(t.batches,function(e){null.push(e.split(0))}),B(t,200,n,!1),V(null,8003,t.isSync,!0)}}catch(e){s.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+e)}}function B(t,n,i,r){try{r&&s._backOffTransmission(),200===n&&(r||t.isSync||s._clearBackOff(),o=t.batches,x&&(a=zn(),Nn(o,function(e){var t;e&&0<e.count()&&(e=e.events(),t=a,x&&Nn(e,function(e){P(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),V(t.batches,n,t.isSync,!0)}finally{t.isSync||(v--,5!==i&&e.sendQueuedRequests(i,!t.isSync,t.isBeacon))}var o,a}function F(e,t,n){t?e():s._setTimeoutOverride(e,n)}function U(t){var n=e._responseHandlers;try{for(var i,r=0;r<n.length;r++)try{n[r](t)}catch(e){s.diagLog().throwInternal(it.CRITICAL,Sn.PostResponseHandler,"Response handler failed: "+e)}!t||K((i=JSON.parse(t)).webResult)&&K(i.webResult.msfpc)&&Z("MSFPC",i.webResult.msfpc,365)}catch(e){}}function V(e,t,n,i){var r,a,u;e&&0<e.length&&o&&(r=o[(K(u=fr[a=t])||(u="oth",9e3<=a&&a<=9999?u="rspFail":8e3<=a&&a<=8999?u=ur:1e3<=a&&a<=1999&&(u="send")),u)])&&L(l,function(){return"HttpManager:_sendBatchesNotification"},function(){F(function(){try{r.call(o,e,t,n)}catch(e){s.diagLog().throwInternal(it.CRITICAL,Sn.NotificationException,"send request notification failed: "+e)}},i||n,0)},function(){return{batches:O(e),reason:t,isSync:n,sendSync:i}},!n)}var W=!0;e.initialize=function(e,t,n,r){f=e+f,x=!(l=t).config.disableEventTimings,s=n,S=new nr(t),(a=r)||(_=!1,g=!Pn(),(r=c())&&r.protocol&&"file:"==r.protocol.toLowerCase()&&(W=!1),r=null,function(){if(void 0!==typeof XMLHttpRequest){var e=i("XMLHttpRequest");return e&&(e=new e,bn(e.withCredentials)&&void 0!==typeof XDomainRequest)}}()?r=T:Pn()?r=E:"undefined"!=typeof XMLHttpRequest&&(r=C),a={sendPOST:r})},e._getDbgPlgTargets=function(){return[a,d,S]},e.addQueryStringParameter=function(e,t){for(var n=0;n<m.length;n++)if(m[n].name===e)return void(m[n].value=t);m.push({name:e,value:t})},e.addHeader=function(e,t){y[e]=t},e.canSendRequest=function(){return b()&&p.allowRequestSending()},e.sendQueuedRequests=function(e,t,n){t=!Tt.isNullOrUndefined(t)&&!t,R(I,t,0)&&N(A(),0,!1,t,e||0,!!n)},e.isCompletelyIdle=function(){return!h&&0===v&&0===I.length},e.addBatch=function(e){if(e&&0<e.count()){if(d.isTenantKilled(e.iKey()))return!1;I.push(e)}return!0},e.teardown=function(){0<I.length&&N(A(),0,!0,!0,2,!0)},e.pause=function(){h=!0},e.resume=function(){h=!1,e.sendQueuedRequests(4,!1)},e.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&N([e],0,!1,!0,t||0,!!n)}})},hr=.25,pr=500,gr=20,vr=6,_r=4,mr=Wn?window:void 0,yr=2,Ir=1,Sr="eventsDiscarded",xr="overrideInstrumentationKey",Tr=(ni=on,__extends(Be,ni),Be),Er=(ii=Wn=function(e){this._setOverride=function(t,n){e.setOverride(t,n)},this._getOverride=function(t){return e.getOverride(t)}},__extends(Fe,ii),Fe),Cr=(ri=Wn,__extends(Ue,ri),Ue),wr=(oi=Wn,__extends(Ve,oi),Ve),br=(si=Wn,__extends(We,si),We),Ar=Tt.isNullOrUndefined,Rr=Tt.arrForEach,Or=function(e){var t=[];this.setOverride=function(e,n){e&&t.push({key:e,value:n})},this.hasOverride=function(e){var n=!1;return Rr(t,function(t){t.key===e&&(n=!0)}),n},this.getOverride=function(e){var n;return Rr(t,function(t){t.key===e&&(n=t.value)}),n},this.applyOverrides=function(n,i){if(0<t.length)try{var r=ze(n,e);Rr(t,function(e){var t=r,n=e.key,i=e.value;t&&n&&(n=(e=n.split("."))[e.length-1],1<e.length&&(t=ze(t,e.splice(-1,1))),Ar(i)?Tt.isUndefined(t[n])||delete t[n]:t[n]=i)})}catch(e){}}},Nr=(ai=Wn,__extends(Ge,ai),Ge),kr=(ui=Wn,__extends(Ke,ui),Ke),Pr="ext",Mr=function(e,t,n){function i(e){for(var t="",n=0;n<e.length;n++)t&&(t+="_"),t+=e[n];return Tt.isUndefined(o[t])&&(o[t]=new Or(e)),t?o[t]:null}var r=this,o={};r.data=new Cr(i(["data"])),r.app=new Er(i([Pr,qi.AppExt]),t),r.user=new Nr(i([Pr,qi.UserExt])),r.os=new br(i([Pr,qi.OSExt]),t),r.web=new kr(i([Pr,qi.WebExt]),t),r.device=new wr(i([Pr,qi.DeviceExt])),r.applyOverrides=function(e,t){var n=kn(o);n&&0<n.length&&Tt.arrForEach(n,function(n){o[n].applyOverrides(e,t)})}},Dr=(ci=on,__extends(qe,ci),qe.prototype.initialize=function(e,t,n){ci.prototype.initialize.call(this,e,t,n),this._baseInit(e,t,n)},qe.prototype.processTelemetry=function(e,t){ee(e,this.identifier),t=this._getTelCtx(t);var n=this.getOverrideContext();n&&n.applyOverrides(e,t),this.processNext(e,t)},qe),Lr=(li=mn,__extends(Xe,li),Xe),on=function e(){var t,n,i,r,o,s,a,u={},c=[],l=null,f=[],d=[],h={};k(e,this,function(e){function p(e,t){var n;return void 0===t&&(t=null),e&&(((n=e).pause&&n.teardown&&n.flush?d:f).push(e),n=e.identifier,u.extensionConfig[n]=u.extensionConfig[n]||{},He(u.extensionConfig[n],t)),e}function g(n){l||(n=v(n||u.instrumentationKey||"_not_defined_",{}),t=new mn,(l=new Br(e,e.diagLog(),t)).initialize(n,c),i&&(r=je(i.identifier,n)))}function v(e,t){var n,i,r={};return r.instrumentationKey=e,r.channels=(n=t,i=[[]],u.channels&&Nn(u.channels,function(e,t){Tt.isFunction(e)||(i[t]=i[t]||[],i[t]=i[t].concat(e))}),n&&n.channels&&Nn(n.channels,function(e,t){Tt.isFunction(e)||(i[t]=i[t]||[],i[t]=i[t].concat(e))}),i),e=r,n=[],u.extensions&&0<u.extensions.length&&(n=n.concat(u.extensions)),e&&e.extensions&&0<e.extensions.length&&(n=n.concat(e.extensions)),0<n.length&&(e.extensions=n),e.extensionConfig=e.extensionConfig||{},He(e.extensionConfig,u.extensionConfig),He(r,t),He(r,u),r}e.diagLog=function(){return o=o||new jt(u)},e.getPerfMgr=function(){return a||u&&u.enablePerfMgr&&(a=new Zt(e.getNotifyMgr())),a},e.setPerfMgr=function(e){a=e},e.create=function(e,t){var o,s,a=(u=e||{}).channels||[[]];e=new Tr,o=e.identifier,s=!1,r=i=null,Tt.arrForEach(a,function(e){Tt.arrForEach(e,function(e){Tt.isFunction(e)||(p(e),e.identifier===o&&(s=!0,i=e))})}),s||(a[0].push(e),i=p(e,u.channelConfiguration)),u.channels=a,c=[],n=p(new Yi,u.propertyConfiguration),c.push(n),u.extensions&&Tt.arrForEach(u.extensions,function(e){Tt.isFunction(e)||p(e)}),t&&Tt.arrForEach(t,function(e){e&&!Tt.isFunction(e)&&c.push(p(e))})},e.getInst=function(e){return(h[e]||{}).inst},e.newInst=function(n,o,s){if(u=e.getInst(n))return e.diagLog().throwInternal(it.WARNING,Sn.FailedToInitializeSDK,"Instance already exists for ["+n+"]"),u;g(n),o=v(n,o),i&&(a=je(i.identifier,o),r&&a&&r!=a&&e.diagLog().throwInternal(it.WARNING,Sn.ErrorProvidedChannels,"The endpointUrl mismatch, shared Url ["+r+"] is different from configured ["+a+"] shared will be used!"));var a=new Lr(n,t),u=new Br(e,e.diagLog(),a);return h[n]={iKey:n,inst:u,notifyMgr:a},u.setPerfMgr(e.getPerfMgr()),u.initialize(o,(o=s,s=[],c&&0<c.length&&(s=s.concat(c)),o&&0<o.length&&(s=s.concat(o)),s)),u},e.getSharedPlugin=function(e){g();var t=null;return Tt.arrForEach(f,function(n){e===n.identifier&&(t=n)}),t||Tt.arrForEach(d,function(n){e===n.identifier&&(t=n)}),t},e.getPropertyManager=function(){return g(),n},e.getPostChannel=function(){return g(),i},e.getNotifyMgr=function(){return s=s||new mn}})},Br=(fi=yn,__extends(Je,fi),Je);e.ApplicationInsightsManager=on,e.ApplicationInsights=Br,e.OverridePropertiesPlugin=Dr,e.PostChannel=Tr,e.BE_PROFILE=er,e.NRT_PROFILE=$i,e.RT_PROFILE=Qi,e.PropertiesPlugin=Yi,e.Extensions=qi,e.AppExtensionKeys=Pi,e.WebExtensionKeys=Mi,e.UserExtensionKeys=Di,e.OSExtKeys=Li,e.DeviceExtKeys=zi,e.OperatingSystem=wi,e.Application=Yn,e.Device=Oi,e.Session=Ni,e.defaultFlightIdNameSpaces=Zn,e.TelemetryContext=Zi,e.ValueKind={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},e.EventLatency=In,e.EventPersistence={Normal:1,Critical:2},e.TraceLevel={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},e.MinChannelPriorty=100,e.NotificationManager=mn,e.EventsDiscardedReason=rt,e.CoreUtils=Tt,e.DiagnosticLogger=jt,e.isValueAssigned=K,e.isArray=Fn,e.isBeaconsSupported=q,e.isBoolean=Ln,e.isLatency=H,e.isNumber=Dn,e.isReactNative=Pn,e.isString=Mn,e.isUint8ArrayAvailable=function(){return null===On&&(On=G(Uint8Array)&&!(G(e=u())&&e.userAgent&&(~(e=e.userAgent.toLowerCase()).indexOf("safari")||~e.indexOf("firefox"))&&!~e.indexOf("chrome"))&&!Pn()),On;var e},e.getISOString=function(e){return e.getUTCFullYear()+"-"+$(1+e.getUTCMonth())+"-"+$(e.getUTCDate())+"T"+$(e.getUTCHours())+":"+$(e.getUTCMinutes())+":"+$(e.getUTCSeconds())+"."+((e=e.getUTCMilliseconds())<10?"00"+e:e<100?"0"+e:e.toString())+"Z"},e.cookieAvailable=X,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch(e){}void 0!==typeof n.value&&(e[t]=n.value)}(e,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(this.oneDS=this.oneDS||{}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=e()}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return r(t[s][1][e]||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t,n,i=Array.prototype.slice.call(arguments,1);i.length;){var r=i.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var o in r)t=r,n=o,Object.prototype.hasOwnProperty.call(t,n)&&(e[o]=r[o])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)o=e[t],s.set(o,r),r+=o.length;return s}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],2:[function(e,t,n){"use strict";function i(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new r.Buf8(256),u=0;u<256;u++)a[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,s,a=e.length,u=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),o=s=0;s<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,s,u=t||e.length,c=new Array(2*u);for(n=r=0;n<u;)if((o=e[n++])<128)c[r++]=o;else if(4<(s=a[o]))c[r++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;1<s&&n<u;)o=o<<6|63&e[n++],s--;1<s?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return i(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--s;);r%=65521,o%=65521}return r|o<<16|0}},{}],4:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],5:[function(e,t,n){"use strict";function i(e,t){return e.msg=E[t],t}function r(e){return(e<<1)-(4<e?9:0)}function o(e){for(var t=e.length;0<=--t;)e[t]=0}function s(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(I.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function a(e,t){S._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function u(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,u=e.strstart>e.w_size-W?e.strstart-(e.w_size-W):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+V,h=c[o+s-1],p=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===p&&c[n+s-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(i=V-(d-o),o=d-V,s<i){if(e.match_start=t,a<=(s=i))break;h=c[o+s-1],p=c[o+s]}}}while((t=f[t&l])>u&&0!=--r);return s<=e.lookahead?s:e.lookahead}function f(e){var t,n,i,r,o,s,a,u,c,l,f=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-W)){for(I.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;i=e.head[--t],e.head[t]=f<=i?i-f:0,--n;);for(t=n=f;i=e.prev[--t],e.prev[t]=f<=i?i-f:0,--n;);r+=f}if(0===e.strm.avail_in)break;if(s=e.strm,a=e.window,u=e.strstart+e.lookahead,c=r,l=void 0,l=s.avail_in,c<l&&(l=c),n=0===l?0:(s.avail_in-=l,I.arraySet(a,s.input,s.next_in,l,u),1===s.state.wrap?s.adler=x(s.adler,a,l,u):2===s.state.wrap&&(s.adler=T(s.adler,a,l,u)),s.next_in+=l,s.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=U)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+U-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<U)););}while(e.lookahead<W&&0!==e.strm.avail_in)}function d(e,t){for(var n,i;;){if(e.lookahead<W){if(f(e),e.lookahead<W&&t===C)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-W&&(e.match_length=l(e,n)),e.match_length>=U)if(i=S._tr_tally(e,e.strstart-e.match_start,e.match_length-U),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=U){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=S._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(a(e,!1),0===e.strm.avail_out))return K}return e.insert=e.strstart<U-1?e.strstart:U-1,t===w?(a(e,!0),0===e.strm.avail_out?H:j):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?K:q}function h(e,t){for(var n,i,r;;){if(e.lookahead<W){if(f(e),e.lookahead<W&&t===C)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=U-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-W&&(e.match_length=l(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===U&&4096<e.strstart-e.match_start)&&(e.match_length=U-1)),e.prev_length>=U&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-U,i=S._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-U),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=U-1,e.strstart++,i&&(a(e,!1),0===e.strm.avail_out))return K}else if(e.match_available){if((i=S._tr_tally(e,0,e.window[e.strstart-1]))&&a(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=S._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<U-1?e.strstart:U-1,t===w?(a(e,!0),0===e.strm.avail_out?H:j):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?K:q}function p(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function g(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*B),this.dyn_dtree=new I.Buf16(2*(2*D+1)),this.bl_tree=new I.Buf16(2*(2*L+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(F+1),this.heap=new I.Buf16(2*M+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*M+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=N,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?z:G,e.adler=2===t.wrap?0:1,t.last_flush=C,S._tr_init(t),b):i(e,A)}function _(e){var t,n=v(e);return n===b&&((t=e.state).window_size=2*t.w_size,o(t.head),t.max_lazy_match=y[t.level].max_lazy,t.good_match=y[t.level].good_length,t.nice_match=y[t.level].nice_length,t.max_chain_length=y[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=U-1,t.match_available=0,t.ins_h=0),n}function m(e,t,n,r,o,s){if(!e)return A;var a=1;if(t===R&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||P<o||n!==k||r<8||15<r||t<0||9<t||s<0||O<s)return i(e,A);8===r&&(r=9);var u=new g;return(e.state=u).strm=e,u.wrap=a,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+U-1)/U),u.window=new I.Buf8(2*u.w_size),u.head=new I.Buf16(u.hash_size),u.prev=new I.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new I.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=s,u.method=n,_(e)}var y,I=e("../utils/common"),S=e("./trees"),x=e("./adler32"),T=e("./crc32"),E=e("./messages"),C=0,w=4,b=0,A=-2,R=-1,O=4,N=2,k=8,P=9,M=286,D=30,L=19,B=2*M+1,F=15,U=3,V=258,W=V+U+1,z=42,G=113,K=1,q=2,H=3,j=4;y=[new p(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===C)return K;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,a(e,!1),0===e.strm.avail_out))return K;if(e.strstart-e.block_start>=e.w_size-W&&(a(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===w?(a(e,!0),0===e.strm.avail_out?H:j):(e.strstart>e.block_start&&(a(e,!1),e.strm.avail_out),K)}),new p(4,4,8,4,d),new p(4,5,16,8,d),new p(4,6,32,32,d),new p(4,4,16,16,h),new p(8,16,32,32,h),new p(8,16,128,128,h),new p(8,32,128,256,h),new p(32,128,258,1024,h),new p(32,258,258,4096,h)],n.deflateInit=function(e,t){return m(e,t,k,15,8,0)},n.deflateInit2=m,n.deflateReset=_,n.deflateResetKeep=v,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?A:(e.state.gzhead=t,b):A},n.deflate=function(e,t){var n,l,d,h;if(!e||!e.state||5<t||t<0)return e?i(e,A):A;if(l=e.state,!e.output||!e.input&&0!==e.avail_in||666===l.status&&t!==w)return i(e,0===e.avail_out?-5:A);if(l.strm=e,n=l.last_flush,l.last_flush=t,l.status===z)if(2===l.wrap)e.adler=0,u(l,31),u(l,139),u(l,8),l.gzhead?(u(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),u(l,255&l.gzhead.time),u(l,l.gzhead.time>>8&255),u(l,l.gzhead.time>>16&255),u(l,l.gzhead.time>>24&255),u(l,9===l.level?2:2<=l.strategy||l.level<2?4:0),u(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(u(l,255&l.gzhead.extra.length),u(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=T(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(u(l,0),u(l,0),u(l,0),u(l,0),u(l,0),u(l,9===l.level?2:2<=l.strategy||l.level<2?4:0),u(l,3),l.status=G);else{var p=k+(l.w_bits-8<<4)<<8;p|=(2<=l.strategy||l.level<2?0:l.level<6?1:6===l.level?2:3)<<6,0!==l.strstart&&(p|=32),p+=31-p%31,l.status=G,c(l,p),0!==l.strstart&&(c(l,e.adler>>>16),c(l,65535&e.adler)),e.adler=1}if(69===l.status)if(l.gzhead.extra){for(d=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>d&&(e.adler=T(e.adler,l.pending_buf,l.pending-d,d)),s(e),d=l.pending,l.pending!==l.pending_buf_size));)u(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>d&&(e.adler=T(e.adler,l.pending_buf,l.pending-d,d)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(73===l.status)if(l.gzhead.name){d=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(e.adler=T(e.adler,l.pending_buf,l.pending-d,d)),s(e),d=l.pending,l.pending===l.pending_buf_size)){h=1;break}u(l,h=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0)}while(0!==h);l.gzhead.hcrc&&l.pending>d&&(e.adler=T(e.adler,l.pending_buf,l.pending-d,d)),0===h&&(l.gzindex=0,l.status=91)}else l.status=91;if(91===l.status)if(l.gzhead.comment){d=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(e.adler=T(e.adler,l.pending_buf,l.pending-d,d)),s(e),d=l.pending,l.pending===l.pending_buf_size)){h=1;break}u(l,h=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0)}while(0!==h);l.gzhead.hcrc&&l.pending>d&&(e.adler=T(e.adler,l.pending_buf,l.pending-d,d)),0===h&&(l.status=103)}else l.status=103;if(103===l.status&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&s(e),l.pending+2<=l.pending_buf_size&&(u(l,255&e.adler),u(l,e.adler>>8&255),e.adler=0,l.status=G)):l.status=G),0!==l.pending){if(s(e),0===e.avail_out)return l.last_flush=-1,b}else if(0===e.avail_in&&r(t)<=r(n)&&t!==w)return i(e,-5);if(666===l.status&&0!==e.avail_in)return i(e,-5);if(0!==e.avail_in||0!==l.lookahead||t!==C&&666!==l.status){var g=2===l.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===C)return K;break}if(e.match_length=0,n=S._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(a(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===w?(a(e,!0),0===e.strm.avail_out?H:j):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?K:q}(l,t):3===l.strategy?function(e,t){for(var n,i,r,o,s=e.window;;){if(e.lookahead<=V){if(f(e),e.lookahead<=V&&t===C)return K;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=U&&0<e.strstart&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=e.strstart+V;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);e.match_length=V-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=U?(n=S._tr_tally(e,1,e.match_length-U),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=S._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(a(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===w?(a(e,!0),0===e.strm.avail_out?H:j):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?K:q}(l,t):y[l.level].func(l,t);if(g!==H&&g!==j||(l.status=666),g===K||g===H)return 0===e.avail_out&&(l.last_flush=-1),b;if(g===q&&(1===t?S._tr_align(l):5!==t&&(S._tr_stored_block(l,0,0,!1),3===t&&(o(l.head),0===l.lookahead&&(l.strstart=0,l.block_start=0,l.insert=0))),s(e),0===e.avail_out))return l.last_flush=-1,b}return t!==w?b:l.wrap<=0?1:(2===l.wrap?(u(l,255&e.adler),u(l,e.adler>>8&255),u(l,e.adler>>16&255),u(l,e.adler>>24&255),u(l,255&e.total_in),u(l,e.total_in>>8&255),u(l,e.total_in>>16&255),u(l,e.total_in>>24&255)):(c(l,e.adler>>>16),c(l,65535&e.adler)),s(e),0<l.wrap&&(l.wrap=-l.wrap),0!==l.pending?b:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==z&&69!==t&&73!==t&&91!==t&&103!==t&&t!==G&&666!==t?i(e,A):(e.state=null,t===G?i(e,-3):b):A},n.deflateSetDictionary=function(e,t){var n,i,r,s,a,u,c,l,d=t.length;if(!e||!e.state)return A;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==z||n.lookahead)return A;for(1===s&&(e.adler=x(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new I.Buf8(n.w_size),I.arraySet(l,t,d-n.w_size,n.w_size,0),t=l,d=n.w_size),a=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,f(n);n.lookahead>=U;){for(i=n.strstart,r=n.lookahead-(U-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+U-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=U-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=U-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=a,n.wrap=s,b},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){"use strict";function i(e){for(var t=e.length;0<=--t;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?V[e]:V[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function u(e,t,n){e.bi_valid>R-n?(e.bi_buf|=t<<e.bi_valid&65535,a(e,e.bi_buf),e.bi_buf=t>>R-e.bi_valid,e.bi_valid+=n-R):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){u(e,n[2*t],n[2*t+1])}function l(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function f(e,t,n){var i,r,o=new Array(A+1),s=0;for(i=1;i<=A;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=l(o[a]++,a))}}function d(e){var t;for(t=0;t<E;t++)e.dyn_ltree[2*t]=0;for(t=0;t<C;t++)e.dyn_dtree[2*t]=0;for(t=0;t<w;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*O]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function h(e){8<e.bi_valid?a(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function p(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function g(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&p(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!p(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function v(e,t,n){var i,r,o,a,l=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===i?c(e,r,t):(c(e,(o=W[r])+T+1,t),0!==(a=M[o])&&u(e,r-=z[o],a),c(e,o=s(--i),n),0!==(a=D[o])&&u(e,i-=H[o],a)),l<e.last_lit;);c(e,O,t)}function _(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)g(e,o,n);for(r=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,g(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=A;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)p<(o=u[2*u[2*(i=e.heap[n])+1]+1]+1)&&(o=p,g++),u[2*i+1]=o,c<i||(e.bl_count[o]++,s=0,h<=i&&(s=d[i-h]),a=u[2*i],e.opt_len+=a*(o+s),f&&(e.static_len+=a*(l[2*i+1]+s)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(0<g);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)c<(r=e.heap[--n])||(u[2*r+1]!==o&&(e.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}(e,t),f(o,c,e.bl_count)}function m(e,t,n){var i,r,o=-1,s=t[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<u&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*N]++):a<=10?e.bl_tree[2*k]++:e.bl_tree[2*P]++,o=r,(a=0)===s?(u=138,c=3):r===s?(u=6,c=3):(u=7,c=4))}function y(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,f=4;for(0===s&&(l=138,f=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<l&&r===s)){if(a<f)for(;c(e,r,e.bl_tree),0!=--a;);else 0!==r?(r!==o&&(c(e,r,e.bl_tree),a--),c(e,N,e.bl_tree),u(e,a-3,2)):a<=10?(c(e,k,e.bl_tree),u(e,a-3,3)):(c(e,P,e.bl_tree),u(e,a-11,7));o=r,(a=0)===s?(l=138,f=3):r===s?(l=6,f=3):(l=7,f=4)}}function I(e,t,n,i){var r,o,s;u(e,(x<<1)+(i?1:0),3),o=t,s=n,h(r=e),a(r,s),a(r,~s),S.arraySet(r.pending_buf,r.window,o,s,r.pending),r.pending+=s}var S=e("../utils/common"),x=0,T=256,E=T+1+29,C=30,w=19,b=2*E+1,A=15,R=16,O=256,N=16,k=17,P=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(E+2));i(F);var U=new Array(2*C);i(U);var V=new Array(512);i(V);var W=new Array(256);i(W);var z=new Array(29);i(z);var G,K,q,H=new Array(C);i(H);var j=!1;n._tr_init=function(e){j||(function(){var e,t,n,i,o,s=new Array(A+1);for(i=n=0;i<28;i++)for(z[i]=n,e=0;e<1<<M[i];e++)W[n++]=i;for(W[n-1]=i,i=o=0;i<16;i++)for(H[i]=o,e=0;e<1<<D[i];e++)V[o++]=i;for(o>>=7;i<C;i++)for(H[i]=o<<7,e=0;e<1<<D[i]-7;e++)V[256+o++]=i;for(t=0;t<=A;t++)s[t]=0;for(e=0;e<=143;)F[2*e+1]=8,e++,s[8]++;for(;e<=255;)F[2*e+1]=9,e++,s[9]++;for(;e<=279;)F[2*e+1]=7,e++,s[7]++;for(;e<=287;)F[2*e+1]=8,e++,s[8]++;for(f(F,E+1,s),e=0;e<C;e++)U[2*e+1]=5,U[2*e]=l(e,5);G=new r(F,M,T+1,E,A),K=new r(U,D,0,C,A),q=new r(new Array(0),L,0,w,7)}(),j=!0),e.l_desc=new o(e.dyn_ltree,G),e.d_desc=new o(e.dyn_dtree,K),e.bl_desc=new o(e.bl_tree,q),e.bi_buf=0,e.bi_valid=0,d(e)},n._tr_stored_block=I,n._tr_flush_block=function(e,t,n,i){var r,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<T;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),_(e,e.l_desc),_(e,e.d_desc),s=function(e){var t;for(m(e,e.dyn_ltree,e.l_desc.max_code),m(e,e.dyn_dtree,e.d_desc.max_code),_(e,e.bl_desc),t=w-1;3<=t&&0===e.bl_tree[2*B[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?I(e,t,n,i):4===e.strategy||o===r?(u(e,2+(i?1:0),3),v(e,F,U)):(u(e,4+(i?1:0),3),function(e,t,n,i){var r;for(u(e,t-257,5),u(e,n-1,5),u(e,i-4,4),r=0;r<i;r++)u(e,e.bl_tree[2*B[r]+1],3);y(e,e.dyn_ltree,t-1),y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),v(e,e.dyn_ltree,e.dyn_dtree)),d(e),i&&h(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(W[n]+T+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;u(e,2,3),c(e,O,F),16===(t=e).bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":1}],8:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=s.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(u[n]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=o.deflateSetDictionary(this.strm,r))!==f)throw new Error(u[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}var o=e("./zlib/deflate"),s=e("./utils/common"),a=e("./utils/strings"),u=e("./zlib/messages"),c=e("./zlib/zstream"),l=Object.prototype.toString,f=0,d=-1,h=0,p=8;i.prototype.push=function(e,t){var n,i,r=this.strm,u=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(u),r.next_out=0,r.avail_out=u),1!==(n=o.deflate(r,i))&&n!==f)return this.onEnd(n),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(a.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==n);return 4===i?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):2!==i||(this.onEnd(f),!(r.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,r(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")});var PerfDetectWebWorker=function(){function e(){}return e.prototype.initialize=function(e){e.registerEventListener("runBenchMarkPerformanceDetectStrategy",function(){for(var t=Date.now(),n=1e5;n>0;)n--;var i={name:"handleBenchMarkPerformanceDetectStrategy",params:{elapse:Date.now()-t}};e.postMessageToUiThread(i)})},e}(),recCount=0,OldAriaTransporter=function(){function e(){this.telemetry=new microsoft.applications.telemetry._sender.TelemetryManagerImpl,this.ariaLoggers={},this.enableHideAria=!1,microsoft.applications.telemetry.globalTelemetryManager=this.telemetry}return e.prototype.initialize=function(e){this.enableHideAria=e.enableHideAria,e.normalPrioritySendTimeInSecs&&(e.config.overwriteSendTimeInterval=1e3*e.normalPrioritySendTimeInSecs),e.eventsLimitInMem&&(e.config.eventsLimitInMem=e.eventsLimitInMem),this.telemetry.Initialize(e.config);var t=e.config.onEventsSent;t&&this.telemetry.AddListener(function(e,n,i,r,o){return t({dataSizeInEvents:r&&r.length||0,dataSizeInBytes:o})}),microsoft.applications.telemetry.LogManager.initialize(e.documentInfo,e.appToken)},e.prototype.start=function(){this.telemetry.Start()},e.prototype.stop=function(){this.telemetry.Stop()},e.prototype.pause=function(){this.telemetry.Pause()},e.prototype.resume=function(){this.telemetry.Resume()},e.prototype.flush=function(e,t){var n=this,i=8,r=function(){var t=n.telemetry._eventsCache.IsEmpty(),o=0==--i;t||o?e.postMessageToUiThread({name:"flushed"}):n.telemetry.Flush(r)};r()},e.prototype.createNewLogger=function(e,t){this.ariaLoggers[e]=new microsoft.applications.telemetry.Logger(t)},e.prototype.logEvent=function(e,t){if(e&&t){var n;if(this.enableHideAria){(n=new microsoft.applications.telemetry.EventProperties).name=t.name,n.eventType=t.eventType,n.timestamp=t.timestamp;var i=t.properties;for(var r in i){var o=i[r],s=o.pii;n.setProperty(o.name,o.value,s)}}else n=t;this.ariaLoggers[e].logEvent(n)}},e.prototype.logSession=function(e,t){var n=this.ariaLoggers[t.name],i=t.state;n.logSession(i,t.properties),e.postMessageToUiThread({name:"sessionId",params:{name:t.name,sessionId:n.getSessionId()}})},e.prototype.setContext=function(e){var t=e.pii;microsoft.applications.telemetry.LogManager.setContext(e.key,e.value,t)},e.prototype.setUserId=function(e){microsoft.applications.telemetry.LogManager.getSemanticContext().setUserId(e)},e.prototype.changeMaxPackageSizeInKB=function(e){},e.prototype.disableTestHook=function(){microsoft.applications.telemetry.LogManager.__clearTestHookListener()},e.prototype.enableTestHook=function(e,t){microsoft.applications.telemetry.LogManager.__addTestHookListener(function(n){n.forEach(function(n){if(t&&t.eventTypes&&t.eventTypes.indexOf(n.EventType)>-1){var i={};n.Extension._buffer.forEach(function(e){i[e.Key]=e.Value}),i.EventType=n.EventType,i.Type=n.Type,e.postMessageToUiThread({name:"telemetryTestHook",params:{event:i}})}})})},e.prototype.setEventsLimitInMem=function(e){this.telemetry.setEventsLimitInMem(e)},e.prototype.sendByBeacon=function(){},e}(),OneDsTransporter=function(){function e(){this.oneDsLoggers={}}return e.prototype.gzipPayload=function(e,t){e.data=pako.gzip(e.data),e.urlString+="&content-encoding=gzip",t(e)},e.prototype.initialize=function(e){var t=this;this.initParams=e;var n={instrumentationKey:e.appToken,endpointUrl:this.initParams.oneDsCollectorUrl,extensions:[],extensionConfig:[],propertyConfiguration:{populateBrowserInfo:!0,populateOperatingSystemInfo:!0,sessionAsGuid:!0},channelConfiguration:{payloadPreprocessor:e.enableCompression?function(e,n){t.gzipPayload(e,n)}:void 0,eventsLimitInMem:e.eventsLimitInMem,autoFlushEventsLimit:e.eventsLimitInMem*e.autoFlushPercent,ignoreMc1Ms0CookieProcessing:!0}};this.oneDsManager=new oneDS.ApplicationInsightsManager,this.oneDsManager.create(n),this.createNewLogger("default",e.appToken),this.setContext({key:"AppInfo.Language",value:e.documentInfo.appLanguage}),this.setContext({key:"UserInfo.Language",value:e.documentInfo.userLanguage}),this.setContext({key:"userAgent",value:e.documentInfo.userAgent}),this.setContext({key:"DeviceInfo.Id",value:e.documentInfo.deviceId})},e.prototype.start=function(){this.resume()},e.prototype.stop=function(){this.pause()},e.prototype.pause=function(){this.oneDsManager.getPostChannel().pause()},e.prototype.resume=function(){this.oneDsManager.getPostChannel().resume()},e.prototype.flush=function(e,t){this.oneDsManager.getPostChannel().flush(t,function(){e.postMessageToUiThread({name:"flushed"})})},e.prototype.createNewLogger=function(e,t){var n,i=this.oneDsManager.newInst(t);this.oneDsManager.getPostChannel()._loadTransmitProfiles((n={},n.MSTeamsFix15SecondsProfile=[this.initParams.normalPrioritySendTimeInSecs,this.initParams.highPrioritySendTimeInSecs],n)),this.oneDsManager.getPostChannel()._setTransmitProfile("MSTeamsFix15SecondsProfile");var r=this.initParams.config.onEventsSent;r&&i.addNotificationListener({eventsSent:function(e){var t=JSON.stringify(e);r({dataSizeInEvents:e.length,dataSizeInBytes:t.length})}}),this.oneDsLoggers[e]=i,this.sessionId&&this.oneDsManager.getPropertyManager()&&this.oneDsManager.getPropertyManager().getPropertiesContext()&&this.oneDsManager.getPropertyManager().getPropertiesContext().session&&this.oneDsManager.getPropertyManager().getPropertiesContext().session.setId(this.sessionId)},e.prototype.logEvent=function(e,t){if(e&&t){var n=this.oneDsLoggers[e];if(n){var i=t.properties,r={};for(var o in i){var s=i[o],a={value:s.value,kind:s.pii};r[o]=a}var u=new Date(t.timestamp).toISOString(),c={name:t.name,baseType:t.eventType,time:u,data:r};n.track(c)}}},e.prototype.logSession=function(e,t){if(this.oneDsLoggers.default&&e){if(this.initParams.enableOneDsCustomSessionId)this.sessionId=microsoft.applications.telemetry.datamodels.utils.GetGuid(),this.oneDsManager.getPropertyManager().getPropertiesContext().session.setId(this.sessionId),this.setContext({key:"Session.Id",value:this.sessionId});else{var n=this.oneDsManager.getPropertyManager().getPropertiesContext(),i=n&&n.session;this.sessionId=i&&i.getId()}this.initParams.appToken2||e.postMessageToUiThread({name:"sessionId",params:{name:t.name,sessionId:this.sessionId}})}},e.prototype.setContext=function(e){var t={value:e.value,kind:e.pii};this.oneDsManager.getPropertyManager().setProperty(e.key,t)},e.prototype.setUserId=function(e){this.oneDsManager.getPropertyManager().setProperty("UserInfo.Id",{value:e,kind:void 0})},e.prototype.changeMaxPackageSizeInKB=function(e){},e.prototype.disableTestHook=function(){this.oneDsManager.getPostChannel()._notificationManager.removeNotificationListener({eventsSent:function(e){}})},e.prototype.enableTestHook=function(e,t){this.oneDsManager.getPostChannel()._notificationManager.addNotificationListener({eventsSent:function(n){n.forEach(function(n){if(t&&t.eventTypes&&t.eventTypes.indexOf(n.name)>-1){var i=n.data,r={};for(var o in i){var s=i[o];r[o]=s.value}r.EventType=n.name,r.Type=n.baseType,r["EventInfo.Name"]=n.name,r["DeviceInfo.BrowserName"]=n.ext.web.browser,r["DeviceInfo.OsName"]=n.ext.os.name,e&&e.postMessageToUiThread({name:"telemetryTestHook",params:{event:r}})}})}})},e.prototype.setEventsLimitInMem=function(e){console.log("eventsLimitInMem will be "+e+" in next session")},e.prototype.sendByBeacon=function(){this.oneDsManager.getPostChannel().teardown()},e}(),AriaAndOneDsTransporter=function(){function e(e){this.initParams=e,this.transports=[],this.testTransporterIndex=0,this.productionTransporterIndex=1,this.transports.push(new OneDsTransporter),this.transports.push(new OldAriaTransporter)}return e.prototype.initialize=function(e){var t=e.appToken;e.appToken=e.appToken2,this.transports[this.testTransporterIndex].initialize(e),e.appToken=t,this.transports[this.productionTransporterIndex].initialize(e)},e.prototype.start=function(){for(var e=0;e<this.transports.length;++e)this.transports[e].start()},e.prototype.stop=function(){for(var e=0;e<this.transports.length;++e)this.transports[e].stop()},e.prototype.pause=function(){for(var e=0;e<this.transports.length;++e)this.transports[e].pause()},e.prototype.resume=function(){for(var e=0;e<this.transports.length;++e)this.transports[e].resume()},e.prototype.flush=function(e,t){for(var n=0;n<this.transports.length;++n)this.transports[n].flush(e,t)},e.prototype.createNewLogger=function(e,t){this.transports[this.testTransporterIndex].createNewLogger(e,this.initParams.appToken2),this.transports[this.productionTransporterIndex].createNewLogger(e,t)},e.prototype.logEvent=function(e,t){var n=microsoft.applications.telemetry.datamodels.utils.GetGuid();t.properties.sdkCompareId={name:"sdkCompareId",value:n};for(var i=0;i<this.transports.length;++i)this.transports[i].logEvent(e,t)},e.prototype.logSession=function(e,t){for(var n=0;n<this.transports.length;++n)this.transports[n].logSession(e,t)},e.prototype.setContext=function(e){for(var t=0;t<this.transports.length;++t)this.transports[t].setContext(e)},e.prototype.setUserId=function(e){for(var t=0;t<this.transports.length;++t)this.transports[t].setUserId(e)},e.prototype.changeMaxPackageSizeInKB=function(e){for(var t=0;t<this.transports.length;++t)this.transports[t].changeMaxPackageSizeInKB(e)},e.prototype.disableTestHook=function(){for(var e=0;e<this.transports.length;++e)this.transports[e].disableTestHook()},e.prototype.enableTestHook=function(e,t){for(var n=0;n<this.transports.length;++n)this.transports[n].enableTestHook(e,t)},e.prototype.setEventsLimitInMem=function(e){for(var t=0;t<this.transports.length;++t)this.transports[t].setEventsLimitInMem(e)},e.prototype.sendByBeacon=function(){for(var e=0;e<this.transports.length;++e)this.transports[e].sendByBeacon()},e}(),TelemetryWebWorker=function(){function e(){this._testSendBeaconResponse=!1}return e.prototype.initialize=function(e){var t=this;this.workerManager=e,e.registerEventListener("initialize",function(n){n.config&&(n.config.log=t),navigator.sendBeacon=function(t,n){try{var i=new XMLHttpRequest;return i.open("Post",t,!1),i.send(n),this._testSendBeaconResponse&&e.postMessageToUiThread({name:"sentBeacon",params:{}}),!0}catch(e){return!1}},n.appToken2&&n.enableOneDsSdk&&n.enableHideAria?t.telemetryTransport=new AriaAndOneDsTransporter(n):n.enableOneDsSdk&&n.enableHideAria?t.telemetryTransport=new OneDsTransporter:t.telemetryTransport=new OldAriaTransporter,n.config.onEventsSent=function(t){e.postMessageToUiThread({name:"eventsSent",params:t})},t.telemetryTransport.initialize(n)}),e.registerEventListener("start",function(e){t.telemetryTransport.start()}),e.registerEventListener("stop",function(e){t.telemetryTransport.stop()}),e.registerEventListener("flush",function(n){t.telemetryTransport.flush(e,n.isAsync)}),e.registerEventListener("pause",function(e){t.telemetryTransport.pause()}),e.registerEventListener("resume",function(e){t.telemetryTransport.resume()}),e.registerEventListener("newLogger",function(e){t.telemetryTransport.createNewLogger(e.name,e.token)}),e.registerEventListener("changeMaxPackageSizeInKB",function(e){t.telemetryTransport.changeMaxPackageSizeInKB(e.size)}),e.registerEventListener("logEvent",function(e){++recCount,t.telemetryTransport.logEvent(e.name,e.eventProperties)}),e.registerEventListener("logSession",function(e){t.telemetryTransport.logSession(t.workerManager,e)}),e.registerEventListener("setContext",function(e){t.telemetryTransport.setContext(e)}),e.registerEventListener("setUserId",function(e){t.telemetryTransport.setUserId(e.id)}),e.registerEventListener("disableTestHook",function(e){t._testSendBeaconResponse=!1,t.telemetryTransport.disableTestHook()}),e.registerEventListener("enableTestHook",function(n){t._testSendBeaconResponse=!0,t.telemetryTransport.enableTestHook(e,n)}),e.registerEventListener("setEventsLimitInMem",function(e){t.telemetryTransport.setEventsLimitInMem(e.eventsLimitInMem)}),e.registerEventListener("sendByBeacon",function(e){t.telemetryTransport.sendByBeacon()})},e.prototype.Verbose=function(e){},e.prototype.Info=function(e){this.workerManager&&this.workerManager.logInfo(e)},e.prototype.Error=function(e){this.workerManager&&this.workerManager.logError(e)},e}(),WebWorkerManager=function(){function e(){var e=this;this.messageHandlers={},this.worker=self,this.worker.addEventListener("message",function(t){if(t&&t.data&&t.data.name){var n=e.messageHandlers[t.data.name];n?n(t.data.params):e.logError("Unhandled webworker message - "+JSON.stringify(t.data))}})}return e.prototype.setupRegistrations=function(e){for(var t=0,n=e;t<n.length;t++)n[t].initialize(this)},e.prototype.registerEventListener=function(e,t){this.messageHandlers[e]?this.logError("Detected duplicate event listener registered to the same key: "+e+"!"):this.messageHandlers[e]=t},e.prototype.postMessageToUiThread=function(e){this.worker.postMessage(e)},e.prototype.logInfo=function(e){this.worker.postMessage({name:"info",params:{msg:e}})},e.prototype.logError=function(e){this.worker.postMessage({name:"error",params:{msg:e}})},e}(),webWorkerManager1=new WebWorkerManager;webWorkerManager1.setupRegistrations([new TelemetryWebWorker,new PerfDetectWebWorker]);
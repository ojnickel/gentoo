webpackJsonp([54],{2603:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(2604)},2604:function(t,e,i){"use strict";var s=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=teamspace.services,o=function(t){function e(e,i,s,n,o,a,r,c,p,l,g,h,u,f,S,m,d,v,y){var N=t.call(this,u)||this;return N.$rootScope=e,N.resources=i,N.constants=s,N.settingsService=n,N.notificationsAuxiliaryService=r,N.notificationSettingsStore=c,N.myUserPreferencesStore=p,N.desktopUtilityService=l,N.eventingService=g,N.analyticsService=h,N.orchestrationService=u,N.appsService=f,N.sxConfig=S,N.callGroupMembershipSettingService=m,N.peopleService=d,N.delayedEntitlementsProcessor=v,N.$q=y,N.delayCallToUserPrefrenceStore=null,N.delayGraphSettingsCallToUserPrefrenceStore=null,N.delayUpdateUserAppActivitySettings=null,N.enableSettingsRevamp=!1,N.panelActionScenarioMap={},N.logger=a.newLogger("NotificationsAdapter"),N.translate=_.memoize(o.instant),N.createPanelActionScenarioMap(),N.initializeOnAppLaunchAndReinit("First Initialize"),N.subscribeToChanges(),N}return s(e,t),e.$inject=["$rootScope","resources","constants","settingsService","$translate","loggingService","notificationsAuxiliaryService","notificationSettingsStore","myUserPreferencesStore","desktopUtilityService","eventingService","analyticsService","orchestrationService","appsService","sxConfig","callGroupMembershipSettingService","peopleService","delayedEntitlementsProcessor","$q"],e.prototype.getSettingsFromAppId=function(t){var e;switch(t){case this.constants.notificationSettings.defaults:e=this.getSettingsDefaultApps();break;case this.constants.appId.teamsAndChannel:e=this.getTeamsAndChannelsAppSettings();break;case this.constants.appId.chat:e=this.getChatAppSettings();break;case this.constants.appId.calling:e=this.getMeetingAppSettings();break;case this.constants.notificationSettings.propNames.synthetic:e=this.geSyntheticNotificationHeaders();break;default:e=this.getOtherAppSettings(t)}return this.setSelectedOnLoadOrChange(e),e},e.prototype.resetTeamAndChannelNotificationSettings=function(){var t=this,e=this.myUserPreferencesStore.getDefaultPreferences().userPersonalSettings;[this.constants.notificationSettings.propNames.mention_Person,this.constants.notificationSettings.propNames.mention_Team,this.constants.notificationSettings.propNames.reply,this.constants.notificationSettings.propNames.replyToReply,this.constants.notificationSettings.propNames.reaction,this.constants.notificationSettings.propNames.like,this.constants.notificationSettings.propNames.inferred,this.constants.notificationSettings.propNames.trending,this.constants.notificationSettings.propNames.visible_ChannelMention,this.constants.notificationSettings.propNames.visible_ChannelNewMessage,this.constants.notificationSettings.propNames.visible_ChannelReplyMessage].forEach(function(i){t.userSetting.activityGenerationSettings[i]=e.activityGenerationSettings[i],t.userSetting.toastSettings[i]=e.toastSettings[i]}),this.userSetting.emailSettings[this.constants.notificationSettings.propNames.inferred]=e.emailSettings[this.constants.notificationSettings.propNames.inferred],this.userSetting.emailSettings[this.constants.notificationSettings.propNames.trending]=e.emailSettings[this.constants.notificationSettings.propNames.trending],this.myUserPreferencesStore.updateUserSettings(this.userSetting)},e.prototype.isValidResetForTeamsAndChannelSettings=function(){return this.userSetting.toastSettings[this.constants.notificationSettings.propNames.mention_Person]&&this.userSetting.toastSettings[this.constants.notificationSettings.propNames.reply]&&this.userSetting.toastSettings[this.constants.notificationSettings.propNames.replyToReply]&&this.userSetting.toastSettings[this.constants.notificationSettings.propNames.like]&&this.userSetting.toastSettings[this.constants.notificationSettings.propNames.visible_ChannelMention]&&this.userSetting.toastSettings[this.constants.notificationSettings.propNames.mention_Team]&&this.userSetting.activityGenerationSettings[this.constants.notificationSettings.propNames.inferred]&&this.userSetting.activityGenerationSettings[this.constants.notificationSettings.propNames.trending]&&!this.userSetting.toastSettings[this.constants.notificationSettings.propNames.inferred]&&!this.userSetting.toastSettings[this.constants.notificationSettings.propNames.trending]&&!this.userSetting.toastSettings[this.constants.notificationSettings.propNames.visible_ChannelNewMessage]&&!this.userSetting.toastSettings[this.constants.notificationSettings.propNames.visible_ChannelReplyMessage]&&!this.userSetting.activityGenerationSettings[this.constants.notificationSettings.propNames.visible_ChannelNewMessage]&&!this.userSetting.activityGenerationSettings[this.constants.notificationSettings.propNames.visible_ChannelReplyMessage]},e.prototype.setSelectedOnLoadOrChange=function(t){var e=this,i=this.constants.notificationSettings.propNames.visible_ChannelReplyMessage;if(this.userSetting.activityGenerationSettings[i]&&"boolean"!=typeof this.userSetting.activityGenerationSettings[i]&&(this.userSetting.activityGenerationSettings[i]=!1,this.userSetting.toastSettings[i]=!1,this.userSetting.emailSettings[i]=!1,this.delayCallToUserPrefrenceStore()),t){var s=null,n=[];if(t[0].isUserGraphSettings){var o=this.appsService.getAggregatedAppDefinition(t[0].appId);o||(o=this.delayedEntitlementsProcessor.getDelayedAppDefinitionFromFeed(t[0].appId)),o.activities&&o.activities.activityItems&&o.activities.activityItems.forEach(function(t){n.push(t.type)})}else n=Object.keys(this.constants.notificationSettings.propNames).map(function(t){return e.constants.notificationSettings.propNames[t]});for(var a=0;a<n.length;a++){var r,c=n[a];if(s=this.enableWelcomeNewUserReceive&&c===this.constants.notificationSettings.propNames.teamsEngagementActivity_WelcomeNewUser?this.convertAppActivitySettingsToDropdownOption(c):this.convertSettingsToDropdownOption(c,t[0].isUserGraphSettings,t[0].appId)){try{r=_.findKey(t,function(t){return t.itemsList[c]})}catch(t){this.logger.error("Notification Settings: Property not in header "+c)}if(r){var p=t[r].itemsList[c],l=_.find(p.options,function(t){return t.key==s});l&&(p.selected=l.value);continue}}}}},e.prototype.buildNotificationDropdownOptions=function(t,e){return void 0===e&&(e=!1),e?this.defaultDropdownOptions.filter(function(e){return t.indexOf(n.NotificationDefaultOptions[e.key])<0}):this.defaultDropdownOptions.filter(function(e){return t.indexOf(n.NotificationDefaultOptions[e.key])>=0})},e.prototype.convertSettingsToDropdownOption=function(t,e,i){var s;if(e)i&&this.userGraphSetting&&this.userGraphSetting[i]&&this.userGraphSetting[i].activityGenerationSettings&&!_.isNil(this.userGraphSetting[i].activityGenerationSettings[t])&&(this.userGraphSetting[i].activityGenerationSettings[t]?this.userGraphSetting[i].toastSettings[t]||this.userGraphSetting[i].emailSettings[t]?this.userGraphSetting[i].toastSettings[t]&&!this.userGraphSetting[i].emailSettings[t]?s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner]:this.userGraphSetting[i].toastSettings[t]&&this.userGraphSetting[i].emailSettings[t]&&(s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail]):s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyAlertList]:s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off]);else switch(t){case this.constants.notificationSettings.propNames.alertSound:(s=this.userSetting.soundsSettings&&this.userSetting.soundsSettings[t])||(s=teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.All]);break;case this.constants.notificationSettings.propNames.showPreviewInToasts:(s=this.userSetting.toastSettings&&this.userSetting.toastSettings[t])||(s=teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.On]);break;case this.constants.notificationSettings.propNames.emailNotificationDelay:(s=this.userSetting.emailSettings&&this.userSetting.emailSettings[t])||(s=teamspace.services.EmailNotificationOptions[teamspace.services.EmailNotificationOptions.Every10Mins]);break;case this.constants.notificationSettings.propNames.emailDigestDelay:(s=this.userSetting.emailSettings&&this.userSetting.emailSettings[t])||(s=teamspace.services.EmailDigestOptions[teamspace.services.EmailDigestOptions.Daily]);break;case this.constants.notificationSettings.propNames.meetingWentLiveNotification:s=this.userSetting.toastSettings[t]?n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner]:n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off];break;case this.constants.notificationSettings.propNames.meetingChatNotification:(s=this.userSetting.chatSettings&&this.userSetting.chatSettings[t])||(s=this.settingsService.valueFor(this.constants.settings.names.meetingChatNotificationDefaultSetting));break;case this.constants.notificationSettings.propNames.notificationToggle:s=this.notificationsAuxiliaryService.getNotificationStyle();break;default:this.userSetting.activityGenerationSettings[t]?this.userSetting.toastSettings[t]||this.userSetting.emailSettings[t]?this.userSetting.toastSettings[t]&&!this.userSetting.emailSettings[t]?s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner]:this.userSetting.toastSettings[t]&&this.userSetting.emailSettings[t]&&(s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail]):s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyAlertList]:s=n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off]}return s},e.prototype.convertAppActivitySettingsToDropdownOption=function(t){if(this.userAppActivitySetting){var e;return t===this.constants.notificationSettings.propNames.teamsEngagementActivity_WelcomeNewUser&&(this.userAppActivitySetting.activityGenerationSettings[t]||this.userAppActivitySetting.toastSettings[t]?this.userAppActivitySetting.activityGenerationSettings[t]&&!this.userAppActivitySetting.toastSettings[t]?e=n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyAlertList]:this.userAppActivitySetting.toastSettings[t]&&!this.userAppActivitySetting.activityGenerationSettings[t]?e=n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner]:this.userAppActivitySetting.toastSettings[t]&&this.userAppActivitySetting.activityGenerationSettings[t]&&(e=n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail]):e=n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off]),e}},e.prototype.onNotificationSettingsChange=function(t,e,i,s){var n=this,o=!0,a=null;if(e&&this.userSetting){if(void 0==i){var r=t[_.findKey(t,function(t){return t.itemsList[e]})].itemsList[e];void 0==(i=_.find(this.defaultDropdownOptions,function(t){return t.value==r.selected}))&&(i=_.find(this.emailDropdownOptions,function(t){return t.value==r.selected}))}if(t[0].isUserGraphSettings)a=t[0].appId,(o=this.setGraphOptionsOnSettingsChange(e,a,i))&&this.delayGraphSettingsCallToUserPrefrenceStore();else{switch(e){case this.constants.notificationSettings.propNames.alertSound:_.isObject(this.userSetting.soundsSettings)||(this.userSetting.soundsSettings={}),this.userSetting.soundsSettings[e]=i.key;break;case this.constants.notificationSettings.propNames.showPreviewInToasts:_.isObject(this.userSetting.toastSettings)||(this.userSetting.toastSettings={}),this.userSetting.toastSettings[e]=i.key;break;case this.constants.notificationSettings.propNames.meetingChatNotification:_.isObject(this.userSetting.chatSettings)||(this.userSetting.chatSettings={}),this.userSetting.chatSettings[e]=i.key;break;case this.constants.notificationSettings.propNames.emailNotificationDelay:case this.constants.notificationSettings.propNames.emailDigestDelay:_.isObject(this.userSetting.emailSettings)||(this.userSetting.emailSettings={}),this.userSetting.emailSettings[e]=i.key;break;case this.constants.notificationSettings.propNames.followChannelMessage:this.constants.notificationSettings.multiActionProps[e]?this.constants.notificationSettings.multiActionProps[e].forEach(function(t){o=o&&n.setOptionsOnSettingsChange(t,i)}):(o=!1,this.logger.error("Notification Settings: Cannot find according properties for "+e));break;case this.constants.notificationSettings.propNames.teamsEngagementActivity_WelcomeNewUser:o=this.enableWelcomeNewUserReceive&&this.setOptionsOnEngagementActivitySettingsChange(e,i);break;case this.constants.notificationSettings.propNames.notificationToggle:if(this.settingsService.valueAsBoolean(this.constants.settings.names.saveNotificationStyleToAPI)){var c=this.notificationSettingsStore.getUserPlatform();this.userSetting.toastSettings[this.constants.notificationSettings.propNames.notificationStyleList][c]=i.key}"Native"===i.key&&this.notificationSettingsStore.requestPermissionForMacNativeNotification(!0),this.notificationsAuxiliaryService.setNotificationStyle(i.key);break;default:o=this.setOptionsOnSettingsChange(e,i)}o&&(this.enableWelcomeNewUserReceive&&e===this.constants.notificationSettings.propNames.teamsEngagementActivity_WelcomeNewUser?this.delayUpdateUserAppActivitySettings():this.delayCallToUserPrefrenceStore())}s&&this.recordSettingChangeTelemetry(e,s.value,i.value,a)}},Object.defineProperty(e.prototype,"enableWelcomeNewUserReceive",{get:function(){return this.settingsService.valueAsObject(this.constants.settings.names.enableWelcomeNewUser).enableWelcomeUserActivityReceive},enumerable:!0,configurable:!0}),e.prototype.setTnCPresets=function(t){var e=this;if(this.userSetting){var i,s;t.forEach(function(n){Object.entries(n.itemsList).forEach(function(n){var o=n[0];n[1];if(i=o,void 0==(s=void 0)){var a=_.findKey(t,function(t){return t.itemsList[i]}),r=t[a].itemsList[i];void 0==(s=_.find(e.defaultDropdownOptions,function(t){return t.value==r.selected}))&&(s=_.find(e.emailDropdownOptions,function(t){return t.value==r.selected})),i===e.constants.notificationSettings.propNames.visible_ChannelReplyMessage&&void 0==s&&(s=r.selected)}e.setOptionsOnSettingsChange(i,s)})}),this.delayCallToUserPrefrenceStore()}},e.prototype.updateNotificationSettings=function(){return this.myUserPreferencesStore.updateUserSettings(this.userSetting)},e.prototype.updateGraphNotificationSettings=function(){return this.myUserPreferencesStore.updateUserGraphSettings(this.userGraphSetting)},e.prototype.updateUserAppActivitySettings=function(){return this.myUserPreferencesStore.updateUserAppActivitySettings(this.userAppActivitySetting)},e.prototype.setOptionsOnSettingsChange=function(t,e){var i=!0;switch(e.key){case n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off]:this.userSetting.toastSettings[t]=!1,this.userSetting.emailSettings[t]=!1,this.userSetting.activityGenerationSettings[t]=!1;break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyAlertList]:this.userSetting.toastSettings[t]=!1,this.userSetting.emailSettings[t]=!1,this.userSetting.activityGenerationSettings[t]=!0;break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner]:this.userSetting.toastSettings[t]=!0,this.userSetting.emailSettings[t]=!1,this.userSetting.activityGenerationSettings[t]=!0;break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail]:this.userSetting.toastSettings[t]=!0,this.userSetting.emailSettings[t]=!0,this.userSetting.activityGenerationSettings[t]=!0;break;default:i=!1,this.logger.error("Notification Settings: None of the options matched.")}return i},e.prototype.setOptionsOnEngagementActivitySettingsChange=function(t,e){var i=!0;switch(e.key){case n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off]:this.userAppActivitySetting.toastSettings[t]=!1,this.userAppActivitySetting.activityGenerationSettings[t]=!1;break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyAlertList]:this.userAppActivitySetting.toastSettings[t]=!1,this.userAppActivitySetting.activityGenerationSettings[t]=!0;break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner]:this.userAppActivitySetting.toastSettings[t]=!0,this.userAppActivitySetting.activityGenerationSettings[t]=!1;break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail]:this.userAppActivitySetting.toastSettings[t]=!0,this.userAppActivitySetting.activityGenerationSettings[t]=!0;break;default:i=!1,this.logger.error("Notification Settings: None of the options matched for Teams Engagement Activity.")}return i},e.prototype.setGraphOptionsOnSettingsChange=function(t,e,i){var s=!0;switch(_.isNil(this.userGraphSetting)&&(this.userGraphSetting={}),!_.isNil(this.userGraphSetting)&&_.isNil(this.userGraphSetting[e])&&(this.userGraphSetting[e]={toastSettings:{},emailSettings:{},activityGenerationSettings:{}}),i.key){case n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off]:this.setUserGraphSettings(e,t,!1,!1,!1);break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyAlertList]:this.setUserGraphSettings(e,t,!0,!1,!1);break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner]:this.setUserGraphSettings(e,t,!0,!0,!1);break;case n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail]:this.setUserGraphSettings(e,t,!0,!0,!0);break;default:s=!1,this.logger.error("Notification Graph Settings: None of the options matched.")}return s},e.prototype.setUserGraphSettings=function(t,e,i,s,n){this.userGraphSetting[t].toastSettings[e]=s,this.userGraphSetting[t].emailSettings[e]=n,this.userGraphSetting[t].activityGenerationSettings[e]=i},e.prototype.subscribeToChanges=function(){var t=this;this.notificationSettingsStore.safeSubscribeForUpdateSettingGroup(this.$rootScope,function(e,i){t.userSetting=i,t.eventingService.$emit(t.constants.events.settings.settingsUpdate)}),this.notificationSettingsStore.safeSubscribeForUpdateAppActivitySettingsGroup(this.$rootScope,function(e,i){t.userAppActivitySetting=i,t.eventingService.$emit(t.constants.events.settings.settingsUpdate)}),this.notificationSettingsStore.safeSubscribeForUpdateGraphSettingGroup(this.$rootScope,function(e,i){t.userGraphSetting=i,t.eventingService.$emit(t.constants.events.settings.graphSettingsUpdate)})},e.prototype.changeSoundSettingsState=function(t){_.isObject(this.userSetting.soundsSettings)||(this.userSetting.soundsSettings={}),this.userSetting.soundsSettings[this.constants.notificationSettings.propNames.alertSound]=t?teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.All]:teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.Off],this.delayCallToUserPrefrenceStore();var e=t?teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.Off]:teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.All],i=t?teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.All]:teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.Off];this.recordSettingChangeTelemetry(this.constants.notificationSettings.propNames.alertSound,e,i)},e.prototype.changePreviewInToastsState=function(t){_.isObject(this.userSetting.toastSettings)||(this.userSetting.toastSettings={}),this.userSetting.toastSettings[this.constants.notificationSettings.propNames.showPreviewInToasts]=t?teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.On]:teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.Off],this.delayCallToUserPrefrenceStore();var e=t?teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.Off]:teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.On],i=t?teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.On]:teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.Off];this.recordSettingChangeTelemetry(this.constants.notificationSettings.propNames.showPreviewInToasts,e,i)},e.prototype.recordSettingChangeTelemetry=function(t,e,i,s){var n=this;void 0===s&&(s=null),_.defer(function(){if(e!==i){var o=void 0!==n.panelActionScenarioMap[t]?n.panelActionScenarioMap[t].toString():t,a=teamspace.shared.AttributeHelper.tryGetEnum(o,teamspace.components.PanelActionScenario,n.logger),r=void 0!==a?a:o,c={action:{gesture:teamspace.components.PanelActionGesture.click,outcome:teamspace.shared.AttributeHelper.tryGetEnum(teamspace.components.PanelActionOutcome.select.toString(),teamspace.components.PanelActionOutcome,n.logger),scenario:r,scenarioType:teamspace.shared.AttributeHelper.tryGetEnum(teamspace.components.PanelActionScenarioType.notificationSettingChange.toString(),teamspace.components.PanelActionScenarioType,n.logger)},module:{name:teamspace.shared.AttributeHelper.tryGetEnum(teamspace.components.PanelModuleName.notificationSettingItem.toString(),teamspace.components.PanelModuleName,n.logger),type:teamspace.shared.AttributeHelper.tryGetEnum(teamspace.components.PanelModuleType.other.toString(),teamspace.components.PanelModuleType,n.logger),summary:"Notification settings change"},dataBag:{New_Value:i,Old_Value:e}};null!==s&&(c.dataBag.App_Id=s),n.analyticsService.getAnalyticsPanelActionEventData(c,teamspace.PanelRegion.modal).then(function(t){n.analyticsService.sendPanelAction(t)})}})},e.prototype.createPanelActionScenarioMap=function(){this.panelActionScenarioMap[this.constants.notificationSettings.propNames.alertSound]=teamspace.components.PanelActionScenario.notificationTypeAlertSound,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.chat]=teamspace.components.PanelActionScenario.notificationTypeChat,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.emailNotificationDelay]=teamspace.components.PanelActionScenario.notificationTypeEmailNotificationDelay,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.emailDigestDelay]=teamspace.components.PanelActionScenario.notificationTypeEmailDigestDelay,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.meetingWentLiveNotification]=teamspace.components.PanelActionScenario.notificationTypeMeetingWentLive,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.meetingChatNotification]=teamspace.components.PanelActionScenario.notificationTypeMeetingChat,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.followChannelMessage]=teamspace.components.PanelActionScenario.notificationTypeFollowChannelMessage,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.inferred]=teamspace.components.PanelActionScenario.notificationTypeInferred,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.trending]=teamspace.components.PanelActionScenario.notificationTypeTrending,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.like]=teamspace.components.PanelActionScenario.notificationTypeLike,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.likeInChat]=teamspace.components.PanelActionScenario.notificationTypeLikeInChat,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.mention_Channel]=teamspace.components.PanelActionScenario.notificationTypeMentionChannel,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.mention_Person]=teamspace.components.PanelActionScenario.notificationTypeMentionPerson,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.mentionInChat_Person]=teamspace.components.PanelActionScenario.notificationTypeMentionInChat,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.mention_Team]=teamspace.components.PanelActionScenario.notificationTypeMentionTeam,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.reply]=teamspace.components.PanelActionScenario.notificationTypeReply,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.replyToReply]=teamspace.components.PanelActionScenario.notificationTypeReplyToReply,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.teamMembershipChange_AddedToTeam]=teamspace.components.PanelActionScenario.notificationTypeTeamMembershipAddedToTeam,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.teamMembershipChange_PromotedToTeamAdmin]=teamspace.components.PanelActionScenario.notificationTypeTeamMembershipPromotedToAdmin,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.visible_ChannelNewMessage]=teamspace.components.PanelActionScenario.notificationTypeVisibleChannelNewMessage,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.visible_ChannelReplyMessage]=teamspace.components.PanelActionScenario.notificationTypeVisibleChannelReply,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.visible_ChannelMention]=teamspace.components.PanelActionScenario.notificationTypeVisibleChannelMention,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.teamsEngagementActivity_WelcomeNewUser]=teamspace.components.PanelActionScenario.notificationTypeWelcomeNewUser,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.notificationToggle]=teamspace.components.PanelActionScenario.notificationToggle,this.panelActionScenarioMap[this.constants.notificationSettings.propNames.showPreviewInToasts]=teamspace.components.PanelActionScenario.notificationTypeShowPreviewInToasts},e.prototype.soundPermission=function(){return this.userSetting.soundsSettings&&this.userSetting.soundsSettings[this.constants.notificationSettings.propNames.alertSound]!==teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.Off]},e.prototype.showPreviewInToastsSettings=function(){return this.userSetting.toastSettings&&this.userSetting.toastSettings[this.constants.notificationSettings.propNames.showPreviewInToasts]!==teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.Off]},e.prototype.getSettingsDefaultApps=function(){var t,e,i=[{subheader:this.translate(this.resources.strings.notification_settings_details_email_subheader_text),showSeparator:!1,itemsList:(t={},t[this.constants.notificationSettings.propNames.emailNotificationDelay]={name:this.translate(this.resources.strings.notification_email_header),options:this.emailDropdownOptions,selected:this.translate(this.resources.strings.notification_email_send_hourly),show:this.settingsService.valueAsBoolean(this.constants.settings.names.enableMissedActivityEmailSettings)},t[this.constants.notificationSettings.propNames.emailDigestDelay]={name:this.translate(this.resources.strings.notification_email_digest_header),options:this.emailDigestDropdownOptions,selected:this.translate(this.resources.strings.notification_email_send_daily),show:!this.settingsService.valueAsBoolean(this.constants.settings.names.hideDigestEmailOptionsInSettings)&&this.notificationsAuxiliaryService.isEmailDigestEnabledInWebhook},t)},{subheader:this.translate(this.resources.strings.notification_settings_details_sound_subheader_text),showSeparator:!1,itemsList:(e={},e[this.constants.notificationSettings.propNames.notificationToggle]={name:this.translate(this.resources.strings.notification_settings_details_toastToggle_subheader_text),options:[{key:teamspace.services.NotificationStyleOptions[teamspace.services.NotificationStyleOptions.Purple],value:this.translate(this.resources.strings.notification_settings_dropdown_toast_Teams_text)},{key:teamspace.services.NotificationStyleOptions[teamspace.services.NotificationStyleOptions.Native],value:this.isMacNativeNotificationSupported?this.translate(this.resources.strings.notification_settings_dropdown_toast_Mac_Native_text):this.translate(this.resources.strings.notification_settings_dropdown_toast_Native_text)}],selected:this.translate(this.resources.strings.notification_settings_dropdown_toast_Teams_text),show:!1},e[this.constants.notificationSettings.propNames.showPreviewInToasts]={name:this.translate(this.resources.strings.notification_settings_details_message_preview_text),options:[{key:teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.On],value:this.translate(this.resources.strings.settings_on)},{key:teamspace.services.MessagePreviewValue[teamspace.services.MessagePreviewValue.Off],value:this.translate(this.resources.strings.settings_off)}],selected:this.translate(this.resources.strings.settings_on),show:!1},e[this.constants.notificationSettings.propNames.alertSound]={name:this.translate(this.resources.strings.notification_settings_details_soundv3_text),options:[{key:teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.All],value:this.translate(this.resources.strings.notification_settings_dropdown_sound_All_text)},{key:teamspace.services.AlertSoundValue[teamspace.services.AlertSoundValue.Off],value:this.translate(this.resources.strings.notification_settings_dropdown_sound_Off_text)}],selected:this.translate(this.resources.strings.notification_settings_dropdown_sound_All_text),show:!0},e)}];return this.settingsService.valueAsBoolean(this.constants.settings.names.enableMissedActivityEmailSettings)||!this.settingsService.valueAsBoolean(this.constants.settings.names.hideDigestEmailOptionsInSettings)&&this.notificationsAuxiliaryService.isEmailDigestEnabledInWebhook||i.splice(0,1),i},e.prototype.getSelectedPreset=function(){return this.userSetting.selectedPreset},e.prototype.setSelectedPreset=function(t){this.userSetting.selectedPreset=t,this.delayCallToUserPrefrenceStore()},e.prototype.getOverriddenDefaultSettingForApps=function(t){var e=this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text);return SkypeX.Services.NotificationUtility.getOverriddenValueForGraphApp(t,this.settingsService,this.constants)===SkypeX.Services.NotificationUtility.ONLY_ALERT_TEXT?this.translate(this.resources.strings.notification_settings_dropdown_options_only_show_in_alerts_list_text):e},e.prototype.getOtherAppSettings=function(t){var e=this,i=this.appsService.getAggregatedAppDefinition(t);i||(i=this.delayedEntitlementsProcessor.getDelayedAppDefinitionFromFeed(t));var s={};return i&&i.activities&&i.activities.activityItems&&i.activities.activityItems.forEach(function(i){s[i.type]={name:i.description,options:e.defaultDropdownOptions,selected:e.getOverriddenDefaultSettingForApps(t),show:!0}}),[{appId:t,isUserGraphSettings:!0,title:i.name,subheader:i.shortDescription,showSeparator:!1,itemsList:s}]},e.prototype.getChatAppSettings=function(){var t;return[{title:this.translate(this.resources.strings.notification_settings_details_chat_subheader_text),subheader:this.translate(this.resources.strings.notification_settings_details_chat_subheader_text),itemsList:(t={},t[this.constants.notificationSettings.propNames.mentionInChat_Person]={name:this.translate(this.resources.strings.notification_settings_details_mentions_chat_text),options:this.buildNotificationDropdownOptions([n.NotificationDefaultOptions.Off],!0),selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0},t[this.constants.notificationSettings.propNames.chat]={name:this.translate(this.resources.strings.notification_feeds_filter_menu_replies_text),options:[{key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner],value:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_text)},{key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off],value:this.translate(this.resources.strings.notification_settings_dropdown_options_off_text)}],selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_text),show:!0},t[this.constants.notificationSettings.propNames.likeInChat]={name:this.settingsService.valueAsBoolean(this.constants.settings.names.enableMessageReactions)?this.translate(this.resources.strings.notification_settings_details_like_and_reaction_text):this.translate(this.resources.strings.notification_settings_details_like_text),options:this.settingsService.valueAsBoolean(this.constants.settings.names.disableLikesAndReactionsSettings)?this.buildNotificationDropdownOptions([n.NotificationDefaultOptions.Off],!0):this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0},t)}]},e.prototype.geSyntheticNotificationHeaders=function(){var t;return[{title:this.translate(this.resources.strings.notification_settings_details_other_subheader_text),subheader:this.translate(this.resources.strings.notification_settings_details_other_subheader_text),itemsList:(t={},t[this.constants.notificationSettings.propNames.teamsEngagementActivity_WelcomeNewUser]={name:this.translate(this.resources.strings.notification_settings_details_welcome_new_user_text_new),options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:this.enableWelcomeNewUserReceive},t)}]},e.prototype.getMeetingAppSettings=function(){var t=this.settingsService.valueAsBoolean(this.constants.settings.names.enableMeetingStartedNotification),e=this.settingsService.valueAsBoolean(this.constants.settings.names.enableMeetingStartedNotificationWeb),i=this.settingsService.valueAsBoolean(this.constants.settings.names.enableMeetingChatNotificationSettings),s=t&&(!this.desktopUtilityService.isWeb()||e);if(!i&&!s)return null;var o={};if(s&&(o[this.constants.notificationSettings.propNames.meetingWentLiveNotification]={name:this.translate(this.settingsService.valueAsBoolean(this.constants.settings.names.renameMeetingsAsEvents)?this.resources.strings.notification_event_started_header:this.resources.strings.notification_meeting_started_header),options:[{key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner],value:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_text)},{key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off],value:this.translate(this.resources.strings.notification_settings_dropdown_options_off_text)}],selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_text),show:!0}),i){var a=this.areUpdatedStringsEnabled?this.translate(this.resources.strings.meeting_chat_notification_setting_updated):this.translate(this.resources.strings.meeting_chat_notification_setting_default);this.settingsService.valueAsBoolean(this.constants.settings.names.renameMeetingsAsEvents)&&(a=this.translate(this.resources.strings.event_chat_notification_setting)),o[this.constants.notificationSettings.propNames.meetingChatNotification]={name:a,options:[{key:n.MeetingChatNotificationValue.MeetingsUserIsInvitedTo,value:this.getMuteChatsNotificationStrings(n.MeetingChatNotificationValue.MeetingsUserIsInvitedTo)},{key:n.MeetingChatNotificationValue.MeetingsUserParticipatesIn,value:this.getMuteChatsNotificationStrings(n.MeetingChatNotificationValue.MeetingsUserParticipatesIn)},{key:n.MeetingChatNotificationValue.MeetingsManuallyUnmuted,value:this.getMuteChatsNotificationStrings(n.MeetingChatNotificationValue.MeetingsManuallyUnmuted)}],selected:this.getMuteChatsNotificationStrings(n.MeetingChatNotificationValue.MeetingsUserIsInvitedTo),show:!0}}return[{title:this.translate(this.resources.strings.notification_settings_details_meetings_subheader_text),subheader:this.translate(this.resources.strings.notification_settings_details_meetings_subheader_text),showSeparator:!1,itemsList:o}]},e.prototype.getMuteChatsNotificationStrings=function(t){if(this.areUpdatedStringsEnabled)switch(t){case n.MeetingChatNotificationValue.MeetingsUserIsInvitedTo:return this.translate(this.resources.strings.meeting_chat_notification_all_updated);case n.MeetingChatNotificationValue.MeetingsUserParticipatesIn:return this.translate(this.resources.strings.meeting_chat_notification_meetingsIParticipateIn_updated);case n.MeetingChatNotificationValue.MeetingsManuallyUnmuted:return this.translate(this.resources.strings.meeting_chat_notification_none_updated)}else switch(t){case n.MeetingChatNotificationValue.MeetingsUserIsInvitedTo:return this.translate(this.resources.strings.meeting_chat_notification_all_default);case n.MeetingChatNotificationValue.MeetingsUserParticipatesIn:return this.translate(this.resources.strings.meeting_chat_notification_meetingsIParticipateIn_default);case n.MeetingChatNotificationValue.MeetingsManuallyUnmuted:return this.translate(this.resources.strings.meeting_chat_notification_none_default)}},e.prototype.getTeamsAndChannelsAppSettings=function(){var t,e;return[{header:this.translate(this.resources.strings.notification_settings_detail_header_all_teams_and_channel),subheader:this.translate(this.resources.strings.notification_settings_details_channel_subheader_text),showSeparator:!1,itemsList:(t={},t[this.constants.notificationSettings.propNames.mention_Person]={name:this.translate(this.resources.strings.notification_settings_details_mentions_person_channel_text),options:this.buildNotificationDropdownOptions([n.NotificationDefaultOptions.Off],!0),selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0},t[this.constants.notificationSettings.propNames.mention_Team]={name:this.translate(this.resources.strings.notification_settings_details_mentions_team_text),options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0},t[this.constants.notificationSettings.propNames.reply]={name:this.translate(this.resources.strings.notification_settings_details_reply_text),options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0},t[this.constants.notificationSettings.propNames.replyToReply]={name:this.translate(this.resources.strings.notification_settings_details_replyToReply_text),options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0},t[this.constants.notificationSettings.propNames.like]={name:this.settingsService.valueAsBoolean(this.constants.settings.names.enableMessageReactions)?this.translate(this.resources.strings.notification_settings_details_like_and_reaction_text):this.translate(this.resources.strings.notification_settings_details_like_text),options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0},t[this.constants.notificationSettings.propNames.inferred]={name:this.translate(this.resources.strings.notification_inferred_header),options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!(!this.settingsService.valueAsBoolean(this.constants.settings.names.enableInferredNotification)||!this.notificationsAuxiliaryService.isIFEnabledInWebhook)},t[this.constants.notificationSettings.propNames.trending]={name:this.translate(this.resources.strings.notification_trending_header),options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!(!this.settingsService.valueAsBoolean(this.constants.settings.names.enableTrendingNotification)||!this.notificationsAuxiliaryService.isTFEnabledInWebhook)},t)},{header:this.translate(this.resources.strings.notification_settings_detail_header_shown_and_pinned_channels),subheader:this.translate(this.resources.strings.notification_settings_details_channel_shown_channels_subheader_text),showSeparator:!1,itemsList:(e={},e[this.constants.notificationSettings.propNames.visible_ChannelNewMessage]={options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_off_text),show:!0,name:""},e[this.constants.notificationSettings.propNames.visible_ChannelReplyMessage]={options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_off_text),show:!0,name:""},e[this.constants.notificationSettings.propNames.visible_ChannelMention]={options:this.defaultDropdownOptions,selected:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text),show:!0,name:""},e)}]},e.prototype.checkUserSettingsAvailable=function(){return this.notificationSettingsStore.nssCheckForUserSettingsPromise.promise},e.prototype.initUserGraphSetting=function(){var t=this;this.userGraphSetting=this.notificationSettingsStore.getUserGraphSettings(),this.delayGraphSettingsCallToUserPrefrenceStore=_.debounce(function(){return t.updateGraphNotificationSettings()},250)},e.prototype.initUserSettings=function(){this.userSetting=this.notificationSettingsStore.getAppUserSettings(),_.isNil(this.userGraphSetting)&&this.initUserGraphSetting(),this.notificationAdapterInitializedPromise.resolve(),this.notificationSettingsStore.requestPermissionForMacNativeNotification(!1)},e.prototype.initializeOnAppLaunchAndReinit=function(t){var e=this;this.logger.log("initializeOnAppLaunchAndReinit - {0}",t),this.emailDropdownOptions=[],this.emailDropdownOptions.push({key:teamspace.services.EmailNotificationOptions[teamspace.services.EmailNotificationOptions.Immediately],value:this.translate(this.resources.strings.notification_email_send_asap)}),this.emailDropdownOptions.push({key:teamspace.services.EmailNotificationOptions[teamspace.services.EmailNotificationOptions.Every10Mins],value:this.translate(this.resources.strings.notification_email_send_every10Mins)}),this.emailDropdownOptions.push({key:teamspace.services.EmailNotificationOptions[teamspace.services.EmailNotificationOptions.Hourly],value:this.translate(this.resources.strings.notification_email_send_hourly)}),this.emailDropdownOptions.push({key:teamspace.services.EmailNotificationOptions[teamspace.services.EmailNotificationOptions.EveryEightHours],value:this.translate(this.resources.strings.notification_email_send_eightHours)}),this.emailDropdownOptions.push({key:teamspace.services.EmailNotificationOptions[teamspace.services.EmailNotificationOptions.Daily],value:this.translate(this.resources.strings.notification_email_send_daily)}),this.emailDropdownOptions.push({key:teamspace.services.EmailNotificationOptions[teamspace.services.EmailNotificationOptions.Never],value:this.translate(this.resources.strings.notification_email_send_never)}),this.emailDigestDropdownOptions=[],this.emailDigestDropdownOptions.push({key:teamspace.services.EmailDigestOptions[teamspace.services.EmailDigestOptions.Daily],value:this.translate(this.resources.strings.notification_email_send_daily)}),this.emailDigestDropdownOptions.push({key:teamspace.services.EmailDigestOptions[teamspace.services.EmailDigestOptions.Never],value:this.translate(this.resources.strings.notification_email_send_never)}),this.defaultDropdownOptions=[],this.enableSettingsRevamp=this.settingsService.valueAsBoolean(this.constants.settings.names.notificationsGlobalSettingsRevamp)||this.notificationsAuxiliaryService.isGlobalNotificationEnabledInWebhook,this.enableSettingsRevamp?this.defaultDropdownOptions.push({key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail],value:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_feed_text)}):(this.defaultDropdownOptions.push({key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.BothBannerEmail],value:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_and_email_text)}),this.defaultDropdownOptions.push({key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyBanner],value:this.translate(this.resources.strings.notification_settings_dropdown_options_banner_text)})),this.defaultDropdownOptions.push({key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.OnlyAlertList],value:this.translate(this.resources.strings.notification_settings_dropdown_options_only_show_in_alerts_list_text)}),this.defaultDropdownOptions.push({key:n.NotificationDefaultOptions[n.NotificationDefaultOptions.Off],value:this.translate(this.resources.strings.notification_settings_dropdown_options_off_text)}),this.notificationAdapterInitializedPromise=this.$q.defer(),this.initUserGraphSetting(),_.isNil(this.notificationSettingsStore.getAppUserSettings())?this.checkUserSettingsAvailable().then(function(){e.initUserSettings()}):this.initUserSettings(),this.delayCallToUserPrefrenceStore=_.debounce(function(){return e.updateNotificationSettings()},250),this.userAppActivitySetting=this.notificationSettingsStore.getUserAppActivitySettings(),this.delayUpdateUserAppActivitySettings=_.debounce(function(){return e.updateUserAppActivitySettings()},250),this.areUpdatedStringsEnabled=this.settingsService.valueAsBoolean(this.constants.settings.names.enableMeetingChatNotificationUpdatedStrings),this.isMacNativeNotificationSupported=!1},e.prototype.canShowCallForwardingSettings=function(t){var e=this;return this.sxConfig.waitForUserMri().then(function(t){return e.callGroupMembershipSettingService.getSettings(t)}).then(function(i){i&&i.callGroupMembershipDetails&&i.callGroupMembershipDetails.length?t=_.cloneDeep(i):e.logger.warn("[onInit] Fetched call group membership settings are empty.")}).then(function(){return t?e.applySettings(t):e.$q.reject({errorType:"emptyOriginalSettings"})}).catch(function(t){return t&&"emptyOriginalSettings"!==t.errorType&&e.logger.error("[onInit] Failed to fetch callgroup membership settings. Error: "+(t&&t.message||"unknown")),e.$q.reject({userProfileList:[],areSettingsVisible:!1})})},e.prototype.applySettings=function(t){var e=this;if(!t||!t.callGroupMembershipDetails)return this.$q.reject({userProfileList:[],areSettingsVisible:!1});var i=[],s=[];return _.each(t.callGroupMembershipDetails,function(t){i.push(t.callGroupOwnerId);var e={mri:t.callGroupOwnerId,originalNotificationSetting:t.notificationSetting,notificationSetting:t.notificationSetting};s.push(e),s[e.mri]=e}),this.peopleService.getAllPeopleProfile(i,"forwardedCallsNotificationSettings").then(function(t){return _.each(t,function(t){var e=s[t.mri];e&&(e.user=t)}),{userProfileList:s,areSettingsVisible:e.settingsService.valueAsBoolean(e.constants.settings.names.enableGroupCallPickup)&&!!s.length}}).catch(function(t){return e.logger.error("[applySettings] Failed to getAllPeopleProfiles. Error: "+(t&&t.message||"unknown")),{userProfileList:[],areSettingsVisible:!1}})},e.prototype.cleanupOnAppTeardown=function(t){this.logger.log("cleanupOnAppTeardown - {0}",t),this.defaultDropdownOptions=void 0,this.emailDropdownOptions=void 0,this.defaultDropdownOptions=void 0,this.emailDigestDropdownOptions=void 0,this.userSetting=void 0,this.userGraphSetting=void 0,this.areUpdatedStringsEnabled=!1,this.enableSettingsRevamp=!1,this.delayCallToUserPrefrenceStore=null,this.delayGraphSettingsCallToUserPrefrenceStore=null,this.userAppActivitySetting=void 0,this.delayUpdateUserAppActivitySettings=null,this.panelActionScenarioMap={},this.isMacNativeNotificationSupported=!1,this.notificationAdapterInitializedPromise=void 0},e.prototype.mtmaTelemetryIdentifier=function(){return"NotificationsAdapterImplementation"},e}(teamspace.services.MTMABase);e.NotificationsAdapterImplementation=o,angular.module("teamspace.notificationsAdapter",["skypeX.sxConfig","teamspace.callGroupMembershipSettingService","teamspace.peopleService","skypeX.delayedEntitlementsProcessor"]).service("notificationsAdapter",o)}},[2603]);
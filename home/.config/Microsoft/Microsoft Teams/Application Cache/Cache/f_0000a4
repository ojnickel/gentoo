!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/statics/teams-modular-packages/hashed-assets/",n(n.s="WbLs")}({"0pPc":function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"3Sb9":function(e,t,n){"use strict";var i=n("XTsk"),r=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,f,d,h){var p,_,g,v,m,y,S,I,w,E=h.bits,T=0,b=0,x=0,C=0,A=0,R=0,k=0,O=0,N=0,D=0,P=null,L=0,M=new i.Buf16(16),B=new i.Buf16(16),F=null,V=0;for(T=0;T<=r;T++)M[T]=0;for(b=0;b<l;b++)M[t[n+b]]++;for(A=E,C=r;C>=1&&0===M[C];C--);if(A>C&&(A=C),0===C)return c[f++]=20971520,c[f++]=20971520,h.bits=1,0;for(x=1;x<C&&0===M[x];x++);for(A<x&&(A=x),O=1,T=1;T<=r;T++)if(O<<=1,(O-=M[T])<0)return-1;if(O>0&&(0===e||1!==C))return-1;for(B[1]=0,T=1;T<r;T++)B[T+1]=B[T]+M[T];for(b=0;b<l;b++)0!==t[n+b]&&(d[B[t[n+b]]++]=b);if(0===e?(P=F=d,y=19):1===e?(P=o,L-=257,F=s,V-=257,y=256):(P=a,F=u,y=-1),D=0,b=0,T=x,m=f,R=A,k=0,g=-1,v=(N=1<<A)-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){S=T-k,d[b]<y?(I=0,w=d[b]):d[b]>y?(I=F[V+d[b]],w=P[L+d[b]]):(I=96,w=0),p=1<<T-k,x=_=1<<R;do{c[m+(D>>k)+(_-=p)]=S<<24|I<<16|w|0}while(0!==_);for(p=1<<T-1;D&p;)p>>=1;if(0!==p?(D&=p-1,D+=p):D=0,b++,0==--M[T]){if(T===C)break;T=t[n+d[b]]}if(T>A&&(D&v)!==g){for(0===k&&(k=A),m+=x,O=1<<(R=T-k);R+k<C&&!((O-=M[R+k])<=0);)R++,O<<=1;if(N+=1<<R,1===e&&N>852||2===e&&N>592)return 1;c[g=D&v]=A<<24|R<<16|m-f|0}}return 0!==D&&(c[m+D]=T-k<<24|64<<16|0),h.bits=A,0}},"4OCO":function(e,t,n){"use strict";var i=n("XTsk");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,s=286,a=30,u=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=new Array(576);r(h);var p=new Array(60);r(p);var _=new Array(512);r(_);var g=new Array(256);r(g);var v=new Array(29);r(v);var m,y,S,I=new Array(a);function w(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return e<256?_[e]:_[256+(e>>>7)]}function b(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,b(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function C(e,t,n){x(e,n[2*t],n[2*t+1])}function A(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e,t,n){var i,r,o=new Array(16),s=0;for(i=1;i<=u;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=A(o[a]++,a))}}function k(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?b(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function N(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function D(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&N(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!N(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function P(e,t,n){var i,r,s,a,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?C(e,r,t):(C(e,(s=g[r])+o+1,t),0!==(a=l[s])&&x(e,r-=v[s],a),C(e,s=T(--i),n),0!==(a=c[s])&&x(e,i-=I[s],a))}while(u<e.last_lit);C(e,256,t)}function L(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)D(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,D(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,l=t.dyn_tree,c=t.max_code,f=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,_=t.stat_desc.max_length,g=0;for(o=0;o<=u;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>_&&(o=_,g++),l[2*i+1]=o,i>c||(e.bl_count[o]++,s=0,i>=p&&(s=h[i-p]),a=l[2*i],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(f[2*i+1]+s)));if(0!==g){do{for(o=_-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[_]--,g-=2}while(g>0);for(o=_;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),R(o,c,e.bl_count)}function M(e,t,n){var i,r,o=-1,s=t[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<u&&r===s||(a<l?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(u=138,l=3):r===s?(u=6,l=3):(u=7,l=4))}function B(e,t,n){var i,r,o=-1,s=t[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<u&&r===s)){if(a<l)do{C(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(C(e,r,e.bl_tree),a--),C(e,16,e.bl_tree),x(e,a-3,2)):a<=10?(C(e,17,e.bl_tree),x(e,a-3,3)):(C(e,18,e.bl_tree),x(e,a-11,7));a=0,o=r,0===s?(u=138,l=3):r===s?(u=6,l=3):(u=7,l=4)}}r(I);var F=!1;function V(e,t,n,r){x(e,0+(r?1:0),3),function(e,t,n,r){O(e),r&&(b(e,n),b(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){F||(!function(){var e,t,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(v[i]=n,e=0;e<1<<l[i];e++)g[n++]=i;for(g[n-1]=i,r=0,i=0;i<16;i++)for(I[i]=r,e=0;e<1<<c[i];e++)_[r++]=i;for(r>>=7;i<a;i++)for(I[i]=r<<7,e=0;e<1<<c[i]-7;e++)_[256+r++]=i;for(t=0;t<=u;t++)o[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,o[8]++;for(;e<=255;)h[2*e+1]=9,e++,o[9]++;for(;e<=279;)h[2*e+1]=7,e++,o[7]++;for(;e<=287;)h[2*e+1]=8,e++,o[8]++;for(R(h,287,o),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=A(e,5);m=new w(h,l,257,s,u),y=new w(p,c,0,a,u),S=new w(new Array(0),f,0,19,7)}(),F=!0),e.l_desc=new E(e.dyn_ltree,m),e.d_desc=new E(e.dyn_dtree,y),e.bl_desc=new E(e.bl_tree,S),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=V,t._tr_flush_block=function(e,t,n,i){var r,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),L(e,e.l_desc),L(e,e.d_desc),a=function(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=r&&(r=s)):r=s=n+5,n+4<=r&&-1!==t?V(e,t,n,i):4===e.strategy||s===r?(x(e,2+(i?1:0),3),P(e,h,p)):(x(e,4+(i?1:0),3),function(e,t,n,i){var r;for(x(e,t-257,5),x(e,n-1,5),x(e,i-4,4),r=0;r<i;r++)x(e,e.bl_tree[2*d[r]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),P(e,e.dyn_ltree,e.dyn_dtree)),k(e),i&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+o+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),C(e,256,h),function(e){16===e.bi_valid?(b(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},"7yrl":function(e,t,n){"use strict";var i=n("XTsk"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,t.string2buf=function(e){var t,n,r,o,s,a=e.length,u=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(u),s=0,o=0;s<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,r,o,a=t||e.length,l=new Array(2*a);for(i=0,n=0;n<a;)if((r=e[n++])<128)l[i++]=r;else if((o=s[r])>4)l[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&e[n++],o--;o>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return u(l,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},"87bM":function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},Bxby:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var i="function",r="object",o="undefined",s="prototype";function a(){return typeof globalThis!==o&&globalThis?globalThis:typeof self!==o&&self?self:typeof window!==o&&window?window:typeof e!==o&&e?e:null}function u(e){var t=Object.create;if(t)return t(e);if(null==e)return{};var n=typeof e;if(n!==r&&n!==i)throw new TypeError("Object prototype may only be an Object:"+e);function o(){}return o[s]=e,new o}var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var c,f,d,h=a()||{};f=function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object[s].hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d=function(e,t){function n(){this.constructor=e}l(e,t),e[s]=null===t?u(t):(n[s]=t[s],new n)},(c=h).__assign||(c.__assign=Object.assign||f),c.__extends||(c.__extends=d),__assign||(__assign=h.__assign),__extends||(__extends=h.__extends)}).call(this,n("uKge"))},KdfH:function(e,t,n){"use strict";var i=n("WvWw"),r=n("XTsk"),o=n("7yrl"),s=n("tGpS"),a=n("0pPc"),u=n("xeuG"),l=n("Pfob"),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(a[n])}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,u,l,f,d=this.strm,h=this.options.chunkSize,p=this.options.dictionary,_=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(h),d.next_out=0,d.avail_out=h),(n=i.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(n=i.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===_&&(n=s.Z_OK,_=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(d.output,d.next_out),l=d.next_out-u,f=o.buf2string(d.output,u),d.next_out=l,d.avail_out=h-l,l&&r.arraySet(d.output,d.output,u,l,0),this.onData(f)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(_=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),d.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},Pfob:function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},Pmak:function(e,t,n){"use strict";var i,r=n("XTsk"),o=n("4OCO"),s=n("87bM"),a=n("xmh6"),u=n("0pPc"),l=-2,c=258,f=262,d=103,h=113,p=666;function _(e,t){return e.msg=u[t],t}function g(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function m(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function y(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function S(e,t){e.pending_buf[e.pending++]=t}function I(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,u=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,l=e.window,d=e.w_mask,h=e.prev,p=e.strstart+c,_=l[o+s-1],g=l[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(n=t)+s]===g&&l[n+s-1]===_&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(i=c-(p-o),o=p-c,i>s){if(e.match_start=t,s=i,i>=a)break;_=l[o+s-1],g=l[o+s]}}}while((t=h[t&d])>u&&0!=--r);return s<=e.lookahead?s:e.lookahead}function E(e){var t,n,i,o,u,l,c,d,h,p,_=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=_+(_-f)){r.arraySet(e.window,e.window,_,_,0),e.match_start-=_,e.strstart-=_,e.block_start-=_,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=_?i-_:0}while(--n);t=n=_;do{i=e.prev[--t],e.prev[t]=i>=_?i-_:0}while(--n);o+=_}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,d=e.strstart+e.lookahead,h=o,p=void 0,(p=l.avail_in)>h&&(p=h),n=0===p?0:(l.avail_in-=p,r.arraySet(c,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=s(l.adler,c,p,d):2===l.state.wrap&&(l.adler=a(l.adler,c,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function T(e,t){for(var n,i;;){if(e.lookahead<f){if(E(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=w(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,i,r;;){if(e.lookahead<f){if(E(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=w(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:h,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):_(e,l)}function R(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function k(e,t,n,i,o,s){if(!e)return l;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||s<0||s>4)return _(e,l);8===i&&(i=9);var u=new C;return e.state=u,u.strm=e,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=s,u.method=n,R(e)}i=[new x(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(E(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-f&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new x(4,4,8,4,T),new x(4,5,16,8,T),new x(4,6,32,32,T),new x(4,4,16,16,b),new x(8,16,32,32,b),new x(8,16,128,128,b),new x(8,32,128,256,b),new x(32,128,258,1024,b),new x(32,258,258,4096,b)],t.deflateInit=function(e,t){return k(e,t,8,15,8,0)},t.deflateInit2=k,t.deflateReset=R,t.deflateResetKeep=A,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var n,r,s,u;if(!e||!e.state||t>5||t<0)return e?_(e,l):l;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===p&&4!==t)return _(e,0===e.avail_out?-5:l);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,S(r,31),S(r,139),S(r,8),r.gzhead?(S(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),S(r,255&r.gzhead.time),S(r,r.gzhead.time>>8&255),S(r,r.gzhead.time>>16&255),S(r,r.gzhead.time>>24&255),S(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),S(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(S(r,255&r.gzhead.extra.length),S(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(S(r,0),S(r,0),S(r,0),S(r,0),S(r,0),S(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),S(r,3),r.status=h);else{var f=8+(r.w_bits-8<<4)<<8;f|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(f|=32),f+=31-f%31,r.status=h,I(r,f),0!==r.strstart&&(I(r,e.adler>>>16),I(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),m(e),s=r.pending,r.pending!==r.pending_buf_size));)S(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),m(e),s=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,S(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===u&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),m(e),s=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,S(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===u&&(r.status=d)}else r.status=d;if(r.status===d&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&m(e),r.pending+2<=r.pending_buf_size&&(S(r,255&e.adler),S(r,e.adler>>8&255),e.adler=0,r.status=h)):r.status=h),0!==r.pending){if(m(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return _(e,-5);if(r.status===p&&0!==e.avail_in)return _(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&r.status!==p){var w=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(E(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,a=e.window;;){if(e.lookahead<=c){if(E(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=e.strstart+c;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=c-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==w&&4!==w||(r.status=p),1===w||3===w)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===w&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(v(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),m(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(S(r,255&e.adler),S(r,e.adler>>8&255),S(r,e.adler>>16&255),S(r,e.adler>>24&255),S(r,255&e.total_in),S(r,e.total_in>>8&255),S(r,e.total_in>>16&255),S(r,e.total_in>>24&255)):(I(r,e.adler>>>16),I(r,65535&e.adler)),m(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==h&&t!==p?_(e,l):(e.state=null,t===h?_(e,-3):0):l},t.deflateSetDictionary=function(e,t){var n,i,o,a,u,c,f,d,h=t.length;if(!e||!e.state)return l;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return l;for(1===a&&(e.adler=s(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,t,h-n.w_size,n.w_size,0),t=d,h=n.w_size),u=e.avail_in,c=e.next_in,f=e.input,e.avail_in=h,e.next_in=0,e.input=t,E(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,E(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=f,e.avail_in=u,n.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},WbLs:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"Version",(function(){return qe})),n.d(i,"FullVersionString",(function(){return Ze})),n.d(i,"strUndefined",(function(){return Xe})),n.d(i,"strObject",(function(){return Je})),n.d(i,"Undefined",(function(){return Ye})),n.d(i,"arrForEach",(function(){return at})),n.d(i,"arrIndexOf",(function(){return ut})),n.d(i,"arrMap",(function(){return lt})),n.d(i,"arrReduce",(function(){return ct})),n.d(i,"objKeys",(function(){return ft})),n.d(i,"toISOString",(function(){return dt})),n.d(i,"isReactNative",(function(){return ht})),n.d(i,"isString",(function(){return pt})),n.d(i,"isNumber",(function(){return _t})),n.d(i,"isBoolean",(function(){return gt})),n.d(i,"isFunction",(function(){return vt})),n.d(i,"isArray",(function(){return mt})),n.d(i,"isObject",(function(){return yt})),n.d(i,"strTrim",(function(){return St})),n.d(i,"isDocumentObjectAvailable",(function(){return It})),n.d(i,"isWindowObjectAvailable",(function(){return wt})),n.d(i,"isValueAssigned",(function(){return Et})),n.d(i,"getTenantId",(function(){return Tt})),n.d(i,"isBeaconsSupported",(function(){return bt})),n.d(i,"isUint8ArrayAvailable",(function(){return xt})),n.d(i,"isLatency",(function(){return Ct})),n.d(i,"sanitizeProperty",(function(){return At})),n.d(i,"getISOString",(function(){return Rt})),n.d(i,"useXDomainRequest",(function(){return kt})),n.d(i,"getCommonSchemaMetaData",(function(){return Ot})),n.d(i,"cookieAvailable",(function(){return Nt})),n.d(i,"disallowsSameSiteNone",(function(){return Dt})),n.d(i,"setCookie",(function(){return Pt})),n.d(i,"deleteCookie",(function(){return Lt})),n.d(i,"getCookie",(function(){return Mt})),n.d(i,"createGuid",(function(){return Bt})),n.d(i,"extend",(function(){return Ft})),n.d(i,"getTime",(function(){return Vt})),n.d(i,"objDefineAccessors",(function(){return Wt})),n.d(i,"addPageUnloadEventListener",(function(){return zt})),n.d(i,"setProcessTelemetryTimings",(function(){return Gt})),n.d(i,"addEventHandler",(function(){return Ht})),n.d(i,"objForEachKey",(function(){return Kt}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};Object.create;Object.create;var o,s,a=function(){function e(){this.messageHandlers={}}return e.prototype.registerMessageHandler=function(e,t){if(this.messageHandlers[e])throw new Error("message handler already registered for - "+e);this.messageHandlers[e]=t},e.prototype.unregisterMessageHandler=function(e){delete this.messageHandlers[e]},e}();!function(e){e[e.BT_STOP=0]="BT_STOP",e[e.BT_STOP_BASE=1]="BT_STOP_BASE",e[e.BT_BOOL=2]="BT_BOOL",e[e.BT_UINT8=3]="BT_UINT8",e[e.BT_UINT16=4]="BT_UINT16",e[e.BT_UINT32=5]="BT_UINT32",e[e.BT_UINT64=6]="BT_UINT64",e[e.BT_FLOAT=7]="BT_FLOAT",e[e.BT_DOUBLE=8]="BT_DOUBLE",e[e.BT_STRING=9]="BT_STRING",e[e.BT_STRUCT=10]="BT_STRUCT",e[e.BT_LIST=11]="BT_LIST",e[e.BT_SET=12]="BT_SET",e[e.BT_MAP=13]="BT_MAP",e[e.BT_INT8=14]="BT_INT8",e[e.BT_INT16=15]="BT_INT16",e[e.BT_INT32=16]="BT_INT32",e[e.BT_INT64=17]="BT_INT64",e[e.BT_WSTRING=18]="BT_WSTRING",e[e.BT_UNAVAILABLE=127]="BT_UNAVAILABLE"}(o||(o={})),function(e){e[e.MARSHALED_PROTOCOL=0]="MARSHALED_PROTOCOL",e[e.MAFIA_PROTOCOL=17997]="MAFIA_PROTOCOL",e[e.COMPACT_PROTOCOL=16963]="COMPACT_PROTOCOL",e[e.JSON_PROTOCOL=21322]="JSON_PROTOCOL",e[e.PRETTY_JSON_PROTOCOL=20554]="PRETTY_JSON_PROTOCOL",e[e.SIMPLE_PROTOCOL=20563]="SIMPLE_PROTOCOL"}(s||(s={}));var u,l,c,f=function(){function e(){}return e.GetBytes=function(e){for(var t=[],n=0;n<e.length;++n){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t},e}(),d=function(){function e(){}return e.GetString=function(e){var t,n,i,r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=[],a=e.length%3;for(t=0,i=e.length-a;t<i;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],s.push([o.charAt((r=n)>>18&63),o.charAt(r>>12&63),o.charAt(r>>6&63),o.charAt(63&r)].join(""));switch(a){case 1:n=e[e.length-1],s.push(o.charAt(n>>2)),s.push(o.charAt(n<<4&63)),s.push("==");break;case 2:n=(e[e.length-2]<<8)+e[e.length-1],s.push(o.charAt(n>>10)),s.push(o.charAt(n>>4&63)),s.push(o.charAt(n<<2&63)),s.push("=")}return s.join("")},e}(),h=function(){function e(){}return e.GetBytes=function(e){for(var t=[];4294967168&e;)t.push(127&e|128),e>>>=7;return t.push(127&e),t},e}(),p=function(){function e(){}return e.GetBytes=function(e){for(var t=e.low,n=e.high,i=[];n||4294967168&t;)i.push(127&t|128),t=(127&n)<<25|t>>>7,n>>>=7;return i.push(127&t),i},e}(),_=function(){function e(){}return e.GetBytes=function(e){if(E.IsDataViewSupport()){var t=new DataView(new ArrayBuffer(4));t.setFloat32(0,e,!0);for(var n=[],i=0;i<4;++i)n.push(t.getUint8(i));return n}return m.ConvertNumberToArray(e,!1)},e}(),g=function(){function e(){}return e.GetBytes=function(e){if(E.IsDataViewSupport()){var t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e,!0);for(var n=[],i=0;i<8;++i)n.push(t.getUint8(i));return n}return m.ConvertNumberToArray(e,!0)},e}(),v=function(){function e(){}return e.EncodeZigzag16=function(e){return(e=I.ToInt16(e))<<1^e>>15},e.EncodeZigzag32=function(e){return(e=I.ToInt32(e))<<1^e>>31},e.EncodeZigzag64=function(e){var t=e.low,n=e.high,i=n<<1|t>>>31,r=t<<1;2147483648&n&&(i=~i,r=~r);var o=new S("0");return o.low=r,o.high=i,o},e}(),m=(function(){function e(){}e.GetString=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(i<=191)t.push(String.fromCharCode(i));else if(i<=223){var r=e[++n];t.push(String.fromCharCode((31&i)<<6|63&r))}else if(i<=239){r=e[++n];var o=e[++n];t.push(String.fromCharCode((15&i)<<12|(63&r)<<6|63&o))}else{i=(7&i)<<18|(63&(r=e[++n]))<<12|(63&(o=e[++n]))<<6|63&e[++n],i-=65536,t.push(String.fromCharCode(55296|i>>10&1023)),t.push(String.fromCharCode(56320|1023&i))}}return t.join("")}}(),function(){function e(){}e.GetBytes=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[],i=0;i<e.length;++i){var r=t.indexOf(e.charAt(i++)),o=t.indexOf(e.charAt(i++)),s=t.indexOf(e.charAt(i++)),a=t.indexOf(e.charAt(i));n.push(r<<2|o>>4),s>=0&&(n.push(o<<4&240|s>>2),a>=0&&n.push(s<<6&192|a))}return n}}(),function(){function e(){}e.GetInt64=function(e){var t=new y("0"),n=this._Read(e);return t.low=n[0],n.length>1&&(t.high=n[1]),t},e.GetNumber=function(e){return this._Read(e)[0]},e._Read=function(e){for(var t=[],n=0,i=!0,r=0;i;){if(i=0!=(128&(o=e.shift())),o&=127,!(r<28)){n|=o<<r,t.push(n),n=o>>4,r=3;break}n|=o<<r,r+=7}for(;i;){var o;if(i=0!=(128&(o=e.shift())),n|=(o&=127)<<r,(r+=7)>=32)break}return t.push(n),t}}(),function(){function e(){}e.GetNumber=function(e){if(E.IsDataViewSupport()){for(var t=new DataView(new ArrayBuffer(4)),n=0;n<4;++n)t.setUint8(n,e[n]);return t.getFloat32(0,!0)}return m.ConvertArrayToNumber(e,!1)}}(),function(){function e(){}e.GetNumber=function(e){if(E.IsDataViewSupport()){for(var t=new DataView(new ArrayBuffer(8)),n=0;n<8;++n)t.setUint8(n,e[n]);return t.getFloat64(0,!0)}return m.ConvertArrayToNumber(e,!0)}}(),function(){function e(){}e.DecodeZigzag16=function(e){return((65535&e)>>>1^-(1&e))<<16>>16},e.DecodeZigzag32=function(e){return e>>>1^-(1&e)},e.DecodeZigzag64=function(e){var t=1&e.high,n=e.high>>>1,i=1&e.low,r=e.low>>>1;r|=t<<31,i&&(r^=4294967295,n^=4294967295);var o=new S("0");return o.low=r,o.high=n,o}}(),function(){function e(){}return e.ConvertNumberToArray=function(e,t){if(!e)return t?this._doubleZero:this._floatZero;var n=t?52:23,i=(1<<(t?11:8)-1)-1,r=1-i,o=i,s=e<0?1:0;e=Math.abs(e);for(var a=Math.floor(e),u=e-a,l=2*(i+2)+n,c=new Array(l),f=0;f<l;)c[f++]=0;for(f=i+2;f&&a;)c[--f]=a%2,a=Math.floor(a/2);for(f=i+1;f<l-1&&u>0;)(u*=2)>=1?(c[++f]=1,--u):c[++f]=0;for(var d=0;d<l&&!c[d];++d);var h=i+1-d,p=d+n;if(c[p+1]){for(f=p;f>d&&!(c[f]=1-c[f]);--f);f==d&&++h}if(h>o||a)return s?t?this._doubleNegInifinity:this._floatNegInifinity:t?this._doubleInifinity:this._floatInifinity;if(h<r)return t?this._doubleZero:this._floatZero;if(t){var _=0;for(f=0;f<20;++f)_=_<<1|c[++d];for(var g=0;f<52;++f)g=g<<1|c[++d];return[255&g,g>>8&255,g>>16&255,g>>>24,255&(_=s<<31|2147483647&(_|=h+i<<20)),_>>8&255,_>>16&255,_>>>24]}var v=0;for(f=0;f<23;++f)v=v<<1|c[++d];return[255&(v=s<<31|2147483647&(v|=h+i<<23)),v>>8&255,v>>16&255,v>>>24]},e.ConvertArrayToNumber=function(e,t){var n=(1<<(t?11:8)-1)-1,i=0!=(128&e[t?7:3]),r=t?(127&e[7])<<4|(240&e[6])>>4:(127&e[3])<<1|(128&e[2])>>7;if(255==r)throw new w("Not a valid float/double buffer.");var o=1,s=1;if(t){var a=(15&e[6])<<28|(255&e[5])<<20|(255&e[4])<<12,u=e[3]<<24|(255&e[2])<<16|(255&e[1])<<8|255&e[0];if(!r&&!a&&!u)return 0;for(var l=0;l<20;++l)s/=2,a<0&&(o+=s),a<<=1;for(l=0;l<32;++l)s/=2,u<0&&(o+=s),u<<=1}else{var c=(127&e[2])<<25|(255&e[1])<<17|(255&e[0])<<9;if(!r&&!c)return 0;for(l=0;l<23;++l)s/=2,c<0&&(o+=s),c<<=1}return o*=Math.pow(2,r-n),i?0-o:o},e._floatZero=[0,0,0,0],e._doubleZero=[0,0,0,0,0,0,0,0],e._floatInifinity=[0,0,128,127],e._floatNegInifinity=[0,0,128,255],e._doubleInifinity=[0,0,0,0,0,0,240,127],e._doubleNegInifinity=[0,0,0,0,0,0,240,255],e}()),y=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e),this.low<0&&(this.high=-1)}return e.prototype.Equals=function(t){var n=new e(t);return this.low==n.low&&this.high==n.high},e}(),S=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e)}return e.prototype.Equals=function(t){var n=new e(t);return this.low==n.low&&this.high==n.high},e}(),I=function(){function e(){}return e.ToByte=function(e){return this.ToUInt8(e)},e.ToInt8=function(e){return 127&e|(128&e)<<24>>24},e.ToInt16=function(e){return 32767&e|(32768&e)<<16>>16},e.ToInt32=function(e){return 2147483647&e|2147483648&e},e.ToUInt8=function(e){return 255&e},e.ToUInt16=function(e){return 65535&e},e.ToUInt32=function(e){return 4294967295&e},e}(),w=function(e){this.Message=e},E=function(){function e(){}return e.IsDataViewSupport=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},e}(),T=function(){function e(e){this._stream=e}return e.prototype.WriteBlob=function(e){this._stream.Write(e,0,e.length)},e.prototype.WriteBool=function(e){this._stream.WriteByte(e?1:0)},e.prototype.WriteContainerBegin=function(e,t){this.WriteUInt8(t),this.WriteUInt32(e)},e.prototype.WriteMapContainerBegin=function(e,t,n){this.WriteUInt8(t),this.WriteUInt8(n),this.WriteUInt32(e)},e.prototype.WriteContainerEnd=function(){},e.prototype.WriteDouble=function(e){var t=g.GetBytes(e);this._stream.Write(t,0,t.length)},e.prototype.WriteFloat=function(e){var t=_.GetBytes(e);this._stream.Write(t,0,t.length)},e.prototype.WriteFieldBegin=function(e,t,n){t<=5?this._stream.WriteByte(e|t<<5):t<=255?(this._stream.WriteByte(192|e),this._stream.WriteByte(t)):(this._stream.WriteByte(224|e),this._stream.WriteByte(t),this._stream.WriteByte(t>>8))},e.prototype.WriteFieldEnd=function(){},e.prototype.WriteFieldOmitted=function(e,t,n){},e.prototype.WriteInt16=function(e){e=v.EncodeZigzag16(e),this.WriteUInt16(e)},e.prototype.WriteInt32=function(e){e=v.EncodeZigzag32(e),this.WriteUInt32(e)},e.prototype.WriteInt64=function(e){this.WriteUInt64(v.EncodeZigzag64(e))},e.prototype.WriteInt8=function(e){this._stream.WriteByte(I.ToInt8(e))},e.prototype.WriteString=function(e){if(""==e)this.WriteUInt32(0);else{var t=f.GetBytes(e);this.WriteUInt32(t.length),this._stream.Write(t,0,t.length)}},e.prototype.WriteStructBegin=function(e,t){},e.prototype.WriteStructEnd=function(e){this.WriteUInt8(e?o.BT_STOP_BASE:o.BT_STOP)},e.prototype.WriteUInt16=function(e){var t=h.GetBytes(I.ToUInt16(e));this._stream.Write(t,0,t.length)},e.prototype.WriteUInt32=function(e){var t=h.GetBytes(I.ToUInt32(e));this._stream.Write(t,0,t.length)},e.prototype.WriteUInt64=function(e){var t=p.GetBytes(e);this._stream.Write(t,0,t.length)},e.prototype.WriteUInt8=function(e){this._stream.WriteByte(I.ToUInt8(e))},e.prototype.WriteWString=function(e){this.WriteUInt32(e.length);for(var t=0;t<e.length;++t){var n=e.charCodeAt(t);this._stream.WriteByte(n),this._stream.WriteByte(n>>>8)}},e}(),b=(function(){function e(){this._buffer=[]}e.prototype.Add=function(e){for(var t=0;t<this._buffer.length&&this._buffer[t]!=e;++t);t==this._buffer.length&&this._buffer.push(e)},e.prototype.Count=function(){return this._buffer.length},e.prototype.GetBuffer=function(){return this._buffer}}(),function(){function e(){this._buffer=[]}return e.prototype.Add=function(e,t){-1==this._getIndex(e)&&this._buffer.push({Key:e,Value:t})},e.prototype.AddOrReplace=function(e,t){var n=this._getIndex(e);n>=0?this._buffer[n]={Key:e,Value:t}:this._buffer.push({Key:e,Value:t})},e.prototype.Remove=function(e){var t=this._getIndex(e);t>=0&&this._buffer.splice(t,1)},e.prototype.Count=function(){return this._buffer.length},e.prototype.GetBuffer=function(){return this._buffer},e.prototype.ContainsKey=function(e){return this._getIndex(e)>=0},e.prototype.Get=function(e){var t=this._getIndex(e);return t>=0?this._buffer[t].Value:null},e.prototype._getIndex=function(e){for(var t=0,n=-1;t<this._buffer.length;++t)if(this._buffer[t].Key==e){n=t;break}return n},e}()),x=function(){function e(){}return e.GetGuid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1,5)};return[e(),e(),"-",e(),"-",e(),"-",e(),"-",e(),e(),e()].join("")},e.GetTimeStamp=function(){var e=(new Date).getTime(),t=new y("0");return t.low=4294967295&e,t.high=Math.floor(e/4294967296),t},e.GetTimeStampWithValue=function(e){var t=new y("0");return t.low=4294967295&e,t.high=Math.floor(e/4294967296),t},e}();!function(e){e[e.NotSet=0]="NotSet",e[e.Event=1]="Event",e[e.PerformanceCounter=2]="PerformanceCounter",e[e.Anomaly=3]="Anomaly",e[e.Prediction=4]="Prediction",e[e.TraceLog=5]="TraceLog",e[e.EventSourceLog=6]="EventSourceLog",e[e.HttpLog=7]="HttpLog",e[e.PerformanceCounterAzure=8]="PerformanceCounterAzure",e[e.PerformanceCounterGfs=9]="PerformanceCounterGfs"}(u||(u={})),function(e){e[e.NotSet=0]="NotSet",e[e.O365=1]="O365",e[e.SkypeBI=2]="SkypeBI",e[e.SkypeData=3]="SkypeData"}(l||(l={})),function(e){e[e.NotSet=0]="NotSet",e[e.DistinguishedName=1]="DistinguishedName",e[e.GenericData=2]="GenericData",e[e.IPV4Address=3]="IPV4Address",e[e.IPv6Address=4]="IPv6Address",e[e.MailSubject=5]="MailSubject",e[e.PhoneNumber=6]="PhoneNumber",e[e.QueryString=7]="QueryString",e[e.SipAddress=8]="SipAddress",e[e.SmtpAddress=9]="SmtpAddress",e[e.Identity=10]="Identity",e[e.Uri=11]="Uri",e[e.Fqdn=12]="Fqdn",e[e.IPV4AddressLegacy=13]="IPV4AddressLegacy",e[e.FilePath=14]="FilePath"}(c||(c={}));var C,A=function(){function e(){this.ScrubType=l.NotSet,this.Kind=c.NotSet,this.RawContent=""}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){e.WriteStructBegin(null,t),this.ScrubType!=l.NotSet?(e.WriteFieldBegin(o.BT_INT32,1,null),e.WriteInt32(this.ScrubType),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_INT32,1,null),this.Kind!=c.NotSet?(e.WriteFieldBegin(o.BT_INT32,2,null),e.WriteInt32(this.Kind),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_INT32,2,null),""!=this.RawContent?(e.WriteFieldBegin(o.BT_STRING,3,null),e.WriteString(this.RawContent),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_STRING,3,null),e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}(),R=function(){function e(){this.Id=x.GetGuid(),this.Timestamp=x.GetTimeStamp(),this.Type="",this.EventType="",this.Extension=new b,this.RecordType=u.NotSet,this.PIIExtensions=new b}return e.prototype.AddOrReplacePII=function(e,t,n){var i=new A;i.RawContent=t,i.Kind=n,i.ScrubType=l.O365,this.PIIExtensions.AddOrReplace(e,i)},e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){if(e.WriteStructBegin(null,t),""!=this.Id?(e.WriteFieldBegin(o.BT_STRING,1,null),e.WriteString(this.Id),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_STRING,1,null),this.Timestamp.Equals("0")?e.WriteFieldOmitted(o.BT_INT64,3,null):(e.WriteFieldBegin(o.BT_INT64,3,null),e.WriteInt64(this.Timestamp),e.WriteFieldEnd()),""!=this.Type?(e.WriteFieldBegin(o.BT_STRING,5,null),e.WriteString(this.Type),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_STRING,5,null),""!=this.EventType?(e.WriteFieldBegin(o.BT_STRING,6,null),e.WriteString(this.EventType),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_STRING,6,null),this.Extension.Count()){e.WriteFieldBegin(o.BT_MAP,13,null),e.WriteMapContainerBegin(this.Extension.Count(),o.BT_STRING,o.BT_STRING);for(var n=0;n<this.Extension.GetBuffer().length;++n)e.WriteString(this.Extension.GetBuffer()[n].Key),e.WriteString(this.Extension.GetBuffer()[n].Value);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(o.BT_MAP,13,null);if(this.RecordType!=u.NotSet?(e.WriteFieldBegin(o.BT_INT32,24,null),e.WriteInt32(this.RecordType),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_INT32,24,null),this.PIIExtensions.Count()){e.WriteFieldBegin(o.BT_MAP,30,null),e.WriteMapContainerBegin(this.PIIExtensions.Count(),o.BT_STRING,o.BT_STRUCT);for(var i=0;i<this.PIIExtensions.GetBuffer().length;++i)e.WriteString(this.PIIExtensions.GetBuffer()[i].Key),this.PIIExtensions.GetBuffer()[i].Value.WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(o.BT_MAP,30,null);e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}(),k=function(){function e(){this.Source="",this.DataPackageId="",this.Timestamp=new y("0"),this.Records=[]}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){if(e.WriteStructBegin(null,t),""!=this.Source?(e.WriteFieldBegin(o.BT_STRING,2,null),e.WriteString(this.Source),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_STRING,2,null),""!=this.DataPackageId?(e.WriteFieldBegin(o.BT_STRING,5,null),e.WriteString(this.DataPackageId),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_STRING,5,null),this.Timestamp.Equals("0")?e.WriteFieldOmitted(o.BT_INT64,6,null):(e.WriteFieldBegin(o.BT_INT64,6,null),e.WriteInt64(this.Timestamp),e.WriteFieldEnd()),this.Records.length){e.WriteFieldBegin(o.BT_LIST,8,null),e.WriteContainerBegin(this.Records.length,o.BT_STRUCT);for(var n=0;n<this.Records.length;++n)this.Records[n].WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(o.BT_LIST,8,null);e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}(),O=function(){function e(){this.DataPackages=[],this.RequestRetryCount=0}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){if(e.WriteStructBegin(null,t),this.DataPackages.length){e.WriteFieldBegin(o.BT_LIST,1,null),e.WriteContainerBegin(this.DataPackages.length,o.BT_STRUCT);for(var n=0;n<this.DataPackages.length;++n)this.DataPackages[n].WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(o.BT_LIST,1,null);0!=this.RequestRetryCount?(e.WriteFieldBegin(o.BT_INT32,2,null),e.WriteInt32(this.RequestRetryCount),e.WriteFieldEnd()):e.WriteFieldOmitted(o.BT_INT32,2,null),e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}(),N=function(){function e(){}return e.IsSafariOrFirefox=function(){return null===e._isSafariOrFirefox&&e._DetectBrowser(),e._isSafariOrFirefox},e.ajax=function(t){var n=e._createConnection();if(t.headers){var i="qsp=true";for(var r in t.headers)i+="&",i+=encodeURIComponent(r),i+="=",i+=encodeURIComponent(t.headers[r]);t.url.indexOf("?")<0?t.url+="?":t.url+="&",t.url+=i}n.open(t.type,t.url),t.complete&&(n.onload=function(){void 0===n.status&&(n.status=200),t.complete(n)},n.ontimeout=function(){void 0===n.status&&(n.status=500),t.complete(n)},n.onerror=function(){t.complete(n)}),n.send(t.data)},e.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.IsUsingXDomainRequest=function(){null==e._usingXDomainRequest&&(void 0===(new XMLHttpRequest).withCredentials&&"undefined"!=typeof XDomainRequest?e._usingXDomainRequest=!0:e._usingXDomainRequest=!1);return e._usingXDomainRequest},e._createConnection=function(){var t=new XMLHttpRequest;return e.IsUsingXDomainRequest()?new XDomainRequest:t},e._DetectBrowser=function(){var t=navigator.userAgent.toLowerCase();(t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0?e._isSafariOrFirefox=!0:e._isSafariOrFirefox=!1},e._isSafariOrFirefox=null,e._usingXDomainRequest=null,e}(),D=function(){function e(){this._buffer=[]}return e.prototype.WriteByte=function(e){this._buffer.push(I.ToByte(e))},e.prototype.Write=function(e,t,n){for(;n--;)this.WriteByte(e[t++])},e.prototype.GetBuffer=function(){return this._buffer},e}(),P=function(){function e(){this.data=[]}return e.prototype.WriteBlob=function(e){var t={type:"blob",value:e};this.data.push(t)},e.prototype.WriteBool=function(e){var t={type:"boolean",value:e};this.data.push(t)},e.prototype.WriteContainerBegin=function(e,t){var n={type:"containerBegin",size:e,elementType:t};this.data.push(n)},e.prototype.WriteMapContainerBegin=function(e,t,n){var i={type:"mapContainerBegin",size:e,keyType:t,valueType:n};this.data.push(i)},e.prototype.WriteContainerEnd=function(){this.data.push({type:"containerEnd"})},e.prototype.WriteDouble=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteFloat=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteFieldBegin=function(e,t,n){var i={type:"fieldBegin",id:t};this.data.push(i)},e.prototype.WriteFieldEnd=function(){this.data.push({type:"fieldEnd"})},e.prototype.WriteFieldOmitted=function(e,t,n){var i={type:"fieldOmitted",id:t};this.data.push(i)},e.prototype.WriteInt16=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteInt32=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteInt64=function(e){var t={type:"number",value:4294967296*e.high+e.low};this.data.push(t)},e.prototype.WriteInt8=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteString=function(e){var t={type:"string",value:e};this.data.push(t)},e.prototype.WriteStructBegin=function(e,t){var n={type:"structBegin",isBase:t};this.data.push(n)},e.prototype.WriteStructEnd=function(e){var t={type:"structEnd",isBase:e};this.data.push(t)},e.prototype.WriteUInt16=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteUInt32=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteUInt64=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteUInt8=function(e){var t={type:"number",value:e};this.data.push(t)},e.prototype.WriteWString=function(e){var t={type:"string",value:e};this.data.push(t)},e}();!function(e){e[e.ECS_ERROR_OK=0]="ECS_ERROR_OK",e[e.ECS_ERROR_INVALID_STATUS=1]="ECS_ERROR_INVALID_STATUS",e[e.ECS_ERROR_INVALID_RESPONSE=6]="ECS_ERROR_INVALID_RESPONSE",e[e.ECS_ERROR_INVALID_CONFIG=8]="ECS_ERROR_INVALID_CONFIG"}(C||(C={}));var L,M=function(){function e(e){this._errorCode=e}return e.prototype.ErrorCode=function(){return this._errorCode},e.prototype.toString=function(){switch(this._errorCode){case C.ECS_ERROR_OK:return"ECS_ERROR_OK";case C.ECS_ERROR_INVALID_STATUS:return"ECS_ERROR_INVALID_STATUS";case C.ECS_ERROR_INVALID_RESPONSE:return"ECS_ERROR_INVALID_RESPONSE";case C.ECS_ERROR_INVALID_CONFIG:return"ECS_ERROR_INVALID_CONFIG";default:return"Unknown error"}},e}();!function(e){e[e.CONFIG_UPDATED=0]="CONFIG_UPDATED",e[e.TOKEN_IS_INVALID=1]="TOKEN_IS_INVALID"}(L||(L={}));var B,F=function(){function e(){}return e.prototype.Copy=function(e){if(this.uiVersion=e.uiVersion,this.log=e.log,this.servers=void 0,e.servers&&e.servers.length){this.servers=[];for(var t=0;t<e.servers.length;++t)this.servers.push(e.servers[t])}},e}(),V=(function(){function e(){}e.CreateEcsClient=function(){return new z},e.__ChangeFailedRetryFactorInMS=function(e){V.FailedRetryFactorInMS=e}}(),function(){function e(){}return e.Servers=["https://config.teams.microsoft.com/config/v1/Skype/"],e.RefreshIntervalInMS=36e5,e.FailedRetryFactorInMS=1e4,e.MaxRetryIntervalForFailedInMS=36e5,e}());!function(e){e[e.Created=0]="Created",e[e.Initialized=1]="Initialized",e[e.Started=2]="Started",e[e.Loading=3]="Loading"}(B||(B={}));var U,W,z=function(){function e(){this._tag=0,this._status=B.Created,this._listeners=[],this._failedTimes={},this._skypeToken=null,this._pendingToken=[],this._queryParams={}}return e.prototype.Initialize=function(e){if(this._status!=B.Created)throw new M(C.ECS_ERROR_INVALID_STATUS);if(!e||!e.uiVersion)throw new M(C.ECS_ERROR_INVALID_CONFIG);this._config=new F,this._config.Copy(e),this._config.uiVersion=this._config.uiVersion.replace("/","_");var t=[];if(this._config.servers&&this._config.servers.length)t=this._config.servers;else for(var n=0;n<V.Servers.length;++n)t.push(V.Servers[n]);for(var i=[];t.length;){var r=Math.floor(Math.random()*t.length);i.push(t[r]),r==t.length-1?t.pop():t[r]=t.pop()}this._config.servers=i,this._Info("servers: "+this._config.servers.join(",")),this._status=B.Initialized,this._Verbose("Initialize() done")},e.prototype.AddListener=function(e){this._Verbose("AddListener()"),this._CheckStatus(B.Initialized);for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return void this._Verbose("the listener has been added already, index: "+t);this._listeners.push(e)},e.prototype.RemoveListener=function(e){this._Verbose("RemoveListener()"),this._CheckStatus(B.Initialized);for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return void(t==this._listeners.length-1?this._listeners.pop():this._listeners[t]=this._listeners.pop())},e.prototype.Start=function(){this._Verbose("Start()"),this._CheckStatus(B.Initialized),this._status>=B.Started?this._Verbose("Start() already, ignore"):(++this._tag,this._status=B.Started,this.ConfigReloadAsync())},e.prototype.Stop=function(){this._Verbose("Stop()"),this._CheckStatus(B.Initialized),this._status!=B.Initialized?(this._CleanTimer(),this._ecsConfig=null,this._etag=null,this._expireTime=null,this._failedTimes={},this._status=B.Initialized):this._Verbose("Stop() already, ignore")},e.prototype.GetETag=function(){return this._CheckStatus(B.Started),this._etag},e.prototype.SetSkypeToken=function(e){this._Verbose("SetToken()"),this._CheckStatus(B.Started),e=e||null,this._status==B.Loading?(this._Verbose("A request is ongoing, postpone."),this._pendingToken.push(e)):(this._skypeToken=e,this.ConfigReloadAsync())},e.prototype.ConfigReloadAsync=function(){var e=this;if(this._Verbose("ConfigReloadAsync()"),this._CheckStatus(B.Started),this._status!=B.Loading){this._CleanTimer();var t=this._tag,n=this._config.servers[0]+this._config.uiVersion,i={};for(var r in this._queryParams)for(var o in i[r]={},this._queryParams[r])i[r][o]=this._queryParams[r][o];i.Headers={},!N.IsUsingXDomainRequest()&&this._etag&&(i.Headers["If-None-Match"]=this._etag),this._skypeToken&&(i.Headers.SkypeToken=this._skypeToken),0==N.keys(i.Headers).length&&delete i.Headers,N.ajax({type:"POST",url:n,data:JSON.stringify(i),complete:function(n){return e._HttpCallback(t,n)}}),this._status=B.Loading}else this._Verbose("ConfigReloadAsync() is loading, ignore")},e.prototype.AddQueryParameter=function(e,t,n){if(t&&n){e||(e="global");var i=e.toLowerCase();if("headers"==i)return;i in this._queryParams||(this._queryParams[i]={}),this._queryParams[i][t.toLowerCase()]=n.toLowerCase()}},e.prototype.RemoveQueryParameter=function(e,t){var n="global";e&&(n=e.toLowerCase()),t&&(t=t.toLowerCase(),n in this._queryParams&&t in this._queryParams[n]&&(delete this._queryParams[n][t],0==N.keys(this._queryParams[n]).length&&delete this._queryParams[n]))},e.prototype.RemoveQueryParameterByNamespace=function(e){e=e?e.toLowerCase():"global",delete this._queryParams[e]},e.prototype.GetSetting=function(e,t,n){return this._CheckStatus(B.Started),e?this._GetSettingAsDefault(e,t,n,JSON.stringify):this._ecsConfig?JSON.stringify(this._ecsConfig):""},e.prototype.GetSettingAsString=function(e,t,n){return this._CheckStatus(B.Started),this._GetSettingAsDefault(e,t,n,(function(e){return""+e}))},e.prototype.GetSettingAsInt=function(e,t,n){return this._CheckStatus(B.Started),this._GetSettingAsDefault(e,t,n,parseInt)},e.prototype.GetSettingAsBool=function(e,t,n){return this._CheckStatus(B.Started),this._GetSettingAsDefault(e,t,n,(function(e){return!!e}))},e.prototype.GetSettingAsReal=function(e,t,n){return this._CheckStatus(B.Started),this._GetSettingAsDefault(e,t,n,parseFloat)},e.prototype.GetSettingAsList=function(e,t){return this._CheckStatus(B.Started),this._GetSettingAsList(e,t,(function(e){return""+e}))},e.prototype.GetSettingAsListOfInts=function(e,t){return this._CheckStatus(B.Started),this._GetSettingAsList(e,t,parseInt)},e.prototype.GetSettingAsListOfReal=function(e,t){return this._CheckStatus(B.Started),this._GetSettingAsList(e,t,parseFloat)},e.prototype.GetKeys=function(e,t){if(this._CheckStatus(B.Started),!e)return this.GetAgents();var n=this._NormalizePath(e,t);return n?this._GetObjectKeys(this._GetObject(n)):[]},e.prototype.GetAgents=function(){return this._CheckStatus(B.Started),this._GetObjectKeys(this._ecsConfig)},e.prototype._HttpCallback=function(e,t){if(this._Verbose("_HttpCallback"),this._status==B.Loading&&e==this._tag){var n=!0,i=!1;try{if(null==t)throw this._Error("jqXHR is null. exception"),new M(C.ECS_ERROR_INVALID_RESPONSE);var r=this._ParseResponse(t),o=r.statuscode;if(this._Info("status of HttpCallback: "+o),o>=200&&o<=299){var s=r.etag;if(this._Verbose("etag: "+s),!s)throw new M(C.ECS_ERROR_INVALID_RESPONSE);r.expires;this._Verbose("2xx: JSON.parse() success."),this._etag=s,this._ecsConfig=r.data,this._expireTime=r.expires,this._Notify(L.CONFIG_UPDATED)}else switch(o){case 304:this._Verbose("Config is not changed. Update expire time only."),this._expireTime=r.expires;break;case 401:this._Warning("token is invalid"),n=!1,this._Notify(L.TOKEN_IS_INVALID);break;case-1:n=!1;break;default:throw new M(C.ECS_ERROR_INVALID_RESPONSE)}}catch(e){this._Error("exception: "+e),i=!0}n&&this._ScheduleTimer(i),this._status=B.Started}else this._Verbose("_status != loading || tag != _tag, ignore")},e.prototype._Notify=function(e){for(var t=0;t<this._listeners.length;++t)this._listeners[t](e)},e.prototype._ScheduleTimer=function(e){var t=this;if(this._CleanTimer(),e){var n=this._config.servers.shift();this._failedTimes[n]?++this._failedTimes[n]:this._failedTimes[n]=1,this._config.servers.push(n);var i=this._failedTimes[this._config.servers[0]]||0,r=0;i&&(r=Math.pow(2,i-1)*V.FailedRetryFactorInMS)>V.MaxRetryIntervalForFailedInMS&&(r=V.MaxRetryIntervalForFailedInMS),this._timer=setTimeout((function(){return t.ConfigReloadAsync()}),r)}else{this._failedTimes[this._config.servers[0]]=0;var o=!1;if(this._pendingToken.length){this._Verbose("Pending token found.");var s=this._pendingToken.pop();this._pendingToken.splice(0,this._pendingToken.length),s!=this._skypeToken&&(this._Verbose("Trigger new request immediately."),this._skypeToken=s,o=!0)}r=0;o||(r=V.RefreshIntervalInMS,this._expireTime&&(r=this._expireTime-(new Date).getTime())<0&&(r=0)),this._timer=setTimeout((function(){return t.ConfigReloadAsync()}),r)}},e.prototype._CleanTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._GetSettingAsDefault=function(e,t,n,i){if(!e)return n;var r=this._NormalizePath(e,t);if(!r)return n;var o=this._GetObject(r);if(null==o)return n;try{return i(o)}catch(e){return n}},e.prototype._GetSettingAsList=function(e,t,n){if(!e)return[];var i=this._NormalizePath(e,t);if(!i)return[];var r=this._GetObject(i);if(null==r)return[];try{for(var o=[],s=0;s<r.length;++s)o.push(n(r[s]));return o}catch(e){return[]}},e.prototype._CheckStatus=function(e){if(this._status<e)throw this._Error(["status is error, current status:",this._status,"minimalStatus:",e].join(" ")),new M(C.ECS_ERROR_INVALID_STATUS)},e.prototype._GetObjectKeys=function(e){var t=[];if(null!=e)for(var n in e)t.push(n);return t},e.prototype._GetObject=function(e){for(var t=e.split("/"),n=this._ecsConfig,i=0;i<t.length&&n;++i)n=n[t[i]];return n},e.prototype._NormalizePath=function(e,t){return null!=t&&t.length&&"/"==t[0]&&(t=t.substr(1)),null!=t&&t.length&&"/"==t[t.length-1]&&(t=t.substr(0,t.length-1)),t?e?e+"/"+t:t:e},e.prototype._Verbose=function(e){this._config&&this._config.log&&this._config.log.Verbose("[EcsClient]: "+e)},e.prototype._Info=function(e){this._config&&this._config.log&&this._config.log.Info("[EcsClient]: "+e)},e.prototype._Warning=function(e){this._config&&this._config.log&&this._config.log.Warning("[EcsClient]: "+e)},e.prototype._Error=function(e){this._config&&this._config.log&&this._config.log.Error("[EcsClient]: "+e)},e.prototype._ParseResponse=function(e){var t={};if(e&&void 0!==e.status)if(304==e.status){var n=e.getResponseHeader("Expires");this._Verbose("expires: "+n),t.expires=n?Date.parse(n):null,t.etag=e.getResponseHeader("ETag"),t.statuscode=e.status}else if(e.status>=500)t.statuscode=e.status;else if(0==e.status)this._Verbose("Blocked by same-origin policy."),t.statuscode=-1;else try{t.statuscode=e.status;var i=JSON.parse(e.responseText),r=this._GetHeader(i);if(r){this._Verbose("Header found in body.");n=r.expires;t.expires=n?Date.parse(n):null,t.statuscode=parseInt(r.statuscode),t.etag=r.etag}else this._Error("Header missing in response body.");t.data=i}catch(e){this._Error("Failed when parsing")}else this._Verbose("IE8/IE9 general error handler."),t.statuscode=-1;return this._Verbose("Return code = "+t.statuscode),t},e.prototype._GetHeader=function(e){var t=null;for(var n in e)if("headers"==n.toLowerCase()){for(var i in t={},e[n])t[i.toLowerCase()]=e[n][i];break}return t},e.prototype.__GetListenerArray=function(){return this._listeners},e.prototype.__UpdateServers=function(e){this._config.servers=e},e.prototype.__GetQueryParameters=function(){return this._queryParams},e}(),G=function(){function e(){}return Object.defineProperty(e,"version",{get:function(){return"2.5.0"},enumerable:!1,configurable:!0}),e}();!function(e){e[e.SENT=0]="SENT",e[e.SEND_FAILED=1]="SEND_FAILED"}(U||(U={})),function(e){e[e.DATARV_ERROR_OK=0]="DATARV_ERROR_OK",e[e.DATARV_ERROR_INVALID_EVENT=1]="DATARV_ERROR_INVALID_EVENT",e[e.DATARV_ERROR_INVALID_CONFIG=2]="DATARV_ERROR_INVALID_CONFIG",e[e.DATARV_ERROR_INVALID_DEPENDENCIES=3]="DATARV_ERROR_INVALID_DEPENDENCIES",e[e.DATARV_ERROR_INVALID_STATUS=4]="DATARV_ERROR_INVALID_STATUS",e[e.DATARV_ERROR_INVALID_ARG=5]="DATARV_ERROR_INVALID_ARG"}(W||(W={}));var H,K=function(){function e(e){this._errorCode=W.DATARV_ERROR_OK,this._errorCode=e}return e.prototype.ErrorCode=function(){return this._errorCode},e.prototype.toString=function(){switch(this._errorCode){case W.DATARV_ERROR_OK:return"DATARV_ERROR_OK";case W.DATARV_ERROR_INVALID_EVENT:return"Event is invalid. Either event.Id is empty, or event.Timestamp is empty, or event.EventType is empty.";case W.DATARV_ERROR_INVALID_CONFIG:return"Invalid configuration. CollectorUrl is missing.";case W.DATARV_ERROR_INVALID_DEPENDENCIES:return"DATARV_ERROR_INVALID_DEPENDENCIES";case W.DATARV_ERROR_INVALID_STATUS:return"Telemetry Manager is not initialized.";case W.DATARV_ERROR_INVALID_ARG:return"TenantToken is null or empty, or events is null.";default:return"Unknown error"}},e}(),j=function(){this.eventsLimitInMem=1e4},q=function(){function e(){}return e.CreateTelemetryManager=function(){return new X},e}(),Z=function(){function e(){}return e.MaxPackageSizeInBytes=3e6,e.TimeIntervalForNextSendInMS=15e3,e}();!function(e){e[e.Created=0]="Created",e[e.Initialized=1]="Initialized",e[e.Started=2]="Started"}(H||(H={}));var X=function(){function e(){this._MaxPackageSizeInBytes=Z.MaxPackageSizeInBytes,this._listeners=[],this._status=H.Created,this._ecsClient=null,this._etag=null,this._ecsCallback=null,this._testServerResponseHook=null,this._testHookListeners=[]}return e.prototype.Initialize=function(e){if(this._status!=H.Created)throw new K(W.DATARV_ERROR_INVALID_STATUS);if(!e||!e.collectorUrl)throw new K(W.DATARV_ERROR_INVALID_CONFIG);this._config=e,this._Reset(),this._status=H.Initialized,e.ecsClient&&(this._Verbose("ECS object assigned. Do integration"),this._ecsClient=e.ecsClient),e.overwriteSendTimeInterval&&e.overwriteSendTimeInterval>=0&&(Z.TimeIntervalForNextSendInMS=e.overwriteSendTimeInterval),this._Verbose("Initialize() done")},e.prototype.setEventsLimitInMem=function(e){this._eventsCache.setEventsLimitInMem(e)},e.prototype.AddListener=function(e){if(this._status<H.Initialized)throw new K(W.DATARV_ERROR_INVALID_STATUS);this._Verbose(["AddListener(), status: ",this._status," old length: ",this._listeners.length," func: ",e].join(""));for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return void this._Verbose("the listener has been added already, index: "+t);this._listeners.push(e),this._Verbose("AddListener() done, the new length: "+this._listeners.length)},e.prototype.RemoveListener=function(e){if(this._status<H.Initialized)throw new K(W.DATARV_ERROR_INVALID_STATUS);this._Verbose(["RemoveListener(), status: ",this._status," old length: ",this._listeners.length," func: ",e].join(""));for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e)return 1==this._listeners.length?this._listeners=[]:t==this._listeners.length-1?this._listeners.pop():this._listeners[t]=this._listeners.pop(),void this._Verbose(["this listener has been found, index: ",t,"new length: ",this._listeners.length].join(""));this._Verbose("listener isn't been found, new length"+this._listeners.length)},e.prototype.Start=function(){if(this._status<H.Initialized)throw new K(W.DATARV_ERROR_INVALID_STATUS);this._Verbose(["Start(), status:",this._status,"tag:",e._tag].join(" ")),this._status>=H.Started&&this._Verbose("Start() already, ignore"),this._ecsClient&&(this._ecsCallback=this._CreateEcsCallback(),this._ecsClient.AddListener(this._ecsCallback),this._etag=this._ecsClient.GetETag()),++e._tag,this._status=H.Started,this._Verbose(["Start() done, status: ",this._status,"tag: ",e._tag].join(""))},e.prototype.Stop=function(){if(this._status<H.Initialized)throw new K(W.DATARV_ERROR_INVALID_STATUS);this._Verbose("Stop(), status: "+this._status),this._status!=H.Initialized?(this._Reset(),this._status=H.Initialized,this._Verbose("Stop() done, status: "+this._status)):this._Verbose("Stop() already, ignore")},e.prototype.Flush=function(e){this._eventsCache.IsEmpty()||this._WorkThread(e)},e.prototype.SendAsync=function(t,n){var i;if(this._status<H.Initialized)throw new K(W.DATARV_ERROR_INVALID_STATUS);if(this._Verbose(["SendAsync(), status:",this._status,"tenantToken:",t,"count:",n.length].join(" ")),this._status<H.Started)return this._Info("SendAsync(), not started, ignore, return false"),!1;if(!t||!n)throw this._Error("SendAsync(), tenantToken or events is null or empty"),new K(W.DATARV_ERROR_INVALID_ARG);for(var r=0;r<n.length;++r)if(!n[r].Id||!e._eventTypeRegex.test(n[r].EventType)||n[r].Timestamp.Equals("0"))throw this._Error(["eventId:",n[r].Id,"eventType:",n[r].EventType,"timestamp high:",n[r].Timestamp.high,"timestamp low:",n[r].Timestamp.low].join("")),new K(W.DATARV_ERROR_INVALID_EVENT);return null===(i=this._eventsCache)||void 0===i||i.AddEvents(t,n),this._Verbose(["SendAsync(), currentTimer: ",this._timer,"eventsCacheIsEmpty",this._eventsCache.IsEmpty()].join(" ")),this._eventsCache.IsEmpty()||this._timer||this._ScheduleTimer(!1),this._Verbose("SendAsync() done"),!0},e.prototype._WorkThread=function(t){var n,i=this;try{var r=Date.now();if(this._Verbose("_WorkThread, status: "+this._status),this._status<H.Started)return void this._Verbose("_WorkThread, status is not started, return");var o=this._eventsCache.DequeuEvents();if(null==o)return this._Verbose("_WorkThread, No events found, return"),void this._CleanTimer();var s=o.events.length,a=this._PackEvents(o.tenantToken,o.events);null===(n=this._eventsCache)||void 0===n||n.AddEvents(o.tenantToken,a.remainedEvents);var u=a.remainedEvents.length;if(null==a.buffer||0==a.buffer.length)return void(this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1)));if(this._testHookListeners)for(var l=0;l<this._testHookListeners.length;++l)this._testHookListeners[l](a.sendEvents);if(this._testServerResponseHook){var c=this._testServerResponseHook();return void setTimeout((function(){return i._SendCallback(h,o.tenantToken,a.sendEvents,c,null)}),100)}var f={type:"POST",url:this._config.collectorUrl,processData:!1,headers:{"content-type":"application/bond-compact-binary","client-id":"NO_AUTH","sdk-version":"ACT-Web-JS-"+G.version},complete:function(e){return i._SendCallback(h,o.tenantToken,a.sendEvents,e,t)}};this._config.useJsonTextStream?(f.data=a.buffer,f.headers["content-type"]="application/json"):N.IsSafariOrFirefox()||"undefined"==typeof Uint8Array?(this._Verbose("Uint8Array is undefined, send with base64 encode."),f.data=d.GetString(a.buffer),f.headers["content-encoding"]="base64"):(this._Verbose("Uint8Array is defined, send with binary format directly."),f.data=new Uint8Array(a.buffer)),o.tenantToken&&(f.headers["x-apikey"]=o.tenantToken);var h=e._tag;this._lastActiveTime=(new Date).getTime(),N.ajax(f),this._Verbose("_Workthread, send via jquery, tag: "+h),this._Info("Processing telemetry events took "+(Date.now()-r)+" ms for "+(s-u)+" events with total size of "+a.buffer.length+" bytes, remaining events - "+u)}catch(e){this._Error("_WorkThread, exception: "+e)}},e.prototype._PackEvents=function(e,t){this._Verbose("_PackageEvents, total Count: "+t.length);var n,i=new O,r=new k;r.Source="JS_default_source",r.DataPackageId=x.GetGuid(),r.Timestamp=x.GetTimeStamp();var o=t;if(t=[],o.length>200){var s=o.splice(0,200);t.push.apply(t,o),o=s}for(;r.Records=[],r.Records.push.apply(r.Records,o),i.DataPackages=[],i.DataPackages.push(r),n=this._Serialize(i),this._Verbose(["_PackageEvents, sendEvents.length:",o.length," buffer.length:",n.length," MaxPackageSize:",this._MaxPackageSizeInBytes].join("")),!(n.length<this._MaxPackageSizeInBytes);){if(1==o.length){o=[],n=null;break}var a=o.splice(0,Math.floor(o.length/2));this._Verbose("_PackageEvents, too large, package again"),t.push.apply(t,o),o=a}return this._Verbose(["_PakcageEvents done, sendEventsCount:",o.length,"buffer.length:",null==n?0:n.length,"remained events:",t.length].join("")),{buffer:n,sendEvents:o,remainedEvents:t}},e.prototype._Serialize=function(e){if(this._config.useJsonTextStream){var t=new P;return e.Write(t),JSON.stringify(t.data)}var n=new D,i=new T(n);return e.Write(i),n.GetBuffer()},e.prototype._SendCallback=function(t,n,i,r,o){var s;if(this._Verbose(["_SendCallback","tag:",t,"current tag:",e._tag,"tenantToken:",n,"events count:",i.length,"jqXHR:",r].join("")),null==o){var a=null!=r&&r.status>=200&&r.status<300;if(this._status<H.Started||t<e._tag)this._Verbose("_SendCallback, is not started, or tag is not the same, return");else{if(!(a||r&&400==r.status))return this._Verbose("retry statusCode: "+(r?r.status:0)),null===(s=this._eventsCache)||void 0===s||s.AddEvents(n,i),void this._ScheduleTimer(!0);for(var u=0;u<this._listeners.length;++u)this._listeners[u](a?U.SENT:U.SEND_FAILED,r?r.status:0,n,i);this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1))}}else o(r?r.status:0,n,i)},e.prototype._CleanTimer=function(){this._Verbose("_CleanTimer(), timer: "+this._timer),this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._ScheduleTimer=function(e){var t=this;if(this._Verbose("_ScheduleTimer: isRetry: "+e),this._CleanTimer(),e){this._Verbose("_ScheduleTimer, current factor: "+this._rescheduleFactor);n=Math.floor(5*this._rescheduleFactor*(1+Math.random()));this._timer=setTimeout((function(){return t._WorkThread(null)}),1e3*n),this._Verbose("_ScheduleTimer, next try (s): "+n),this._rescheduleFactor<<=1,this._rescheduleFactor>64&&(this._rescheduleFactor=1)}else{var n=0,i=(new Date).getTime()-this._lastActiveTime;n=i>Z.TimeIntervalForNextSendInMS?0:Z.TimeIntervalForNextSendInMS-i,this._timer=setTimeout((function(){return t._WorkThread(null)}),n),this._Verbose("_ScheduleTimer, next try: "+n),this._rescheduleFactor=1}},e.prototype._Verbose=function(e){this._config.log&&this._config.log.Verbose("[TelemetryManagerImpl]: "+e)},e.prototype._Info=function(e){this._config.log&&this._config.log.Info("[TelemetryManagerImpl]: "+e)},e.prototype._Error=function(e){this._config.log&&this._config.log.Error("[TelemetryManagerImpl]: "+e)},e.prototype._Reset=function(){this._Verbose("Reset()"),this._CleanTimer(),this._lastActiveTime=0,this._rescheduleFactor=1,this._sendingEvents=[],this._eventsCache=new J(this._config.log,this._config.eventsLimitInMem),this._ecsClient&&(this._ecsClient.RemoveListener(this._ecsCallback),this._ecsCallback=null)},e.prototype._CreateEcsCallback=function(){var e=this;return function(t){t==L.CONFIG_UPDATED&&(e._etag=e._ecsClient.GetETag())}},e.prototype.__AddTestHookListener=function(e){if(this._status<H.Initialized)throw new K(W.DATARV_ERROR_INVALID_STATUS);for(var t=0;t<this._testHookListeners.length;++t)if(this._testHookListeners[t]==e)return;this._testHookListeners.push(e)},e.prototype.__ClearTestHookListener=function(){this._testHookListeners=[]},e.prototype.__GetListenerArray=function(){return this._listeners},e.prototype.__GetTotalEventsCount=function(){return this._eventsCache.GetTotalEventsCount()},e.prototype.__IsScheduled=function(){return null!=this._timer},e.prototype.__ChageMaxPackageSizeInKB=function(e){this._MaxPackageSizeInBytes=1024*e},e.prototype.__SetTestServerResponseHook=function(e){this._testServerResponseHook=e},e._eventTypeRegex=/^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,e._tag=0,e}(),J=function(){function e(e,t){this._logger=e,this._eventsLimitInMem=t,this._events={},this._tokens=[]}return e.prototype.AddEvents=function(e,t){t.length&&(t.length>this._eventsLimitInMem?this._logDroppedEvents(e,t.length):(this._events[e]||(this._events[e]=[],this._tokens.push(e)),this._events[e].push.apply(this._events[e],t)))},e.prototype.IsEmpty=function(){return 0==this._tokens.length},e.prototype.DequeuEvents=function(){if(0==this._tokens.length)return null;var e=this._tokens.shift(),t=this._events[e];return delete this._events[e],{tenantToken:e,events:t}},e.prototype.GetTotalEventsCount=function(){var e=0;for(var t in this._events)e+=this._events[t].length;return e},e.prototype.setEventsLimitInMem=function(e){this._eventsLimitInMem=e},e.prototype._logDroppedEvents=function(e,t){if(this._logger){var n=0;this._events[e]&&(n=this._events[e].length),this._logger.Verbose("[TelemetryEventCache]: Size of dropped events: "+t+",\n      events size currently in queue for tenant "+e+": "+n)}},e}(),Y=null;var Q,$=function(){function e(){this.key=null,this.value=null,this.pii=null}return e._isPii=function(e){if(e==c.NotSet)return!1;var t=!1;for(var n in c)isNaN(n)||n==e&&(t=!0);return t},e}(),ee=function(){function e(){this.name=null,this.timestamp=null,this.properties=[],this.eventType=null}return e.prototype.setProperty=function(t,n,i){if(!t||!this.properties[t]&&!e._propertyNameRegex.test(t))throw new ne(Q.INVALID_PROPERTY_NAME);this.properties[t]={key:t,value:n,pii:i!=c.NotSet?i:null}},e.prototype.unsetProperty=function(e){if(!e)throw new ne(Q.INVALID_PROPERTY_NAME);void 0!==this.properties[e]&&(this.properties[e]=void 0,delete this.properties[e])},e._propertyNameRegex=/^[a-zA-Z0-9](([a-zA-Z0-9|_|.]){0,98}[a-zA-Z0-9])?$/,e}();!function(e){e[e.INVALID_TENANT_TOKEN=1]="INVALID_TENANT_TOKEN",e[e.MISSING_EVENT_PROPERTIES_NAME=2]="MISSING_EVENT_PROPERTIES_NAME",e[e.INVALID_PROPERTY_NAME=3]="INVALID_PROPERTY_NAME",e[e.INVALID_COLLECTOR_URL=4]="INVALID_COLLECTOR_URL",e[e.MISSING_FAILURE_SIGNATURE=5]="MISSING_FAILURE_SIGNATURE",e[e.MISSING_FAILURE_DETAIL=6]="MISSING_FAILURE_DETAIL",e[e.MISSING_PAGEVIEW_ID=7]="MISSING_PAGEVIEW_ID",e[e.MISSING_PAGEVIEW_NAME=8]="MISSING_PAGEVIEW_NAME",e[e.INVALID_SESSION_STATE=9]="INVALID_SESSION_STATE"}(Q||(Q={}));var te,ne=function(){function e(e){this.errorCode=null,this.errorCode=e}return e.prototype.ErrorCode=function(){return this.errorCode},e.prototype.toString=function(){switch(this.errorCode){case Q.INVALID_TENANT_TOKEN:return"Invalid tenant token";case Q.MISSING_EVENT_PROPERTIES_NAME:return"Eventproperties.name can not be null or empty";case Q.INVALID_PROPERTY_NAME:return"Invalid Key. Key does not conform to regular expression ^[a-zA-Z0-9](([a-zA-Z0-9|_]){0,98}[a-zA-Z0-9])?$";case Q.INVALID_COLLECTOR_URL:return"Collector url can't be null or empty.";case Q.MISSING_FAILURE_SIGNATURE:return"Failure signature can't be null or empty.";case Q.MISSING_FAILURE_DETAIL:return"Failure detail can't be null or empty.";case Q.MISSING_PAGEVIEW_ID:return"Pageview id can't be null or empty.";case Q.MISSING_PAGEVIEW_NAME:return"Pageview name can't be null or empty.";case Q.INVALID_SESSION_STATE:return"Session state has to be a value from the SessionState enum.";default:return"Unknown error"}},e}(),ie=function(){function e(e){this.contextMap=new b,this.piiKind=c.NotSet,this._allowDeviceInfoFields=!1,this._allowDeviceInfoFields=e}return e.prototype.setAppId=function(e){e&&this.contextMap.Add("AppInfo.Id",e)},e.prototype.setAppVersion=function(e){e&&this.contextMap.Add("AppInfo.Version",e)},e.prototype.setAppClientType=function(e){e&&this.contextMap.Add("AppInfo.ClientType",e)},e.prototype.setAppLanguage=function(e){e&&this.contextMap.Add("AppInfo.Language",e)},e.prototype.setDeviceId=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.Id",e)},e.prototype.setDeviceOsName=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.OsName",e)},e.prototype.setDeviceOsVersion=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.OsVersion",e)},e.prototype.setDeviceBrowserName=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.BrowserName",e)},e.prototype.setDeviceBrowserVersion=function(e){e&&this._allowDeviceInfoFields&&this.contextMap.Add("DeviceInfo.BrowserVersion",e)},e.prototype.setUserId=function(e,t){e&&this.contextMap.Add("UserInfo.Id",e),$._isPii(t)&&(this.piiKind=t)},e.prototype.setUserMsaId=function(e){e&&this.contextMap.Add("UserInfo.MsaId",e)},e.prototype.setUserANID=function(e){e&&this.contextMap.Add("UserInfo.ANID",e)},e.prototype.setUserAdvertisingId=function(e){e&&this.contextMap.Add("UserInfo.AdvertisingId",e)},e.prototype.setUserTimeZone=function(e){e&&this.contextMap.Add("UserInfo.TimeZone",e)},e.prototype.setUserLanguage=function(e){e&&this.contextMap.Add("UserInfo.Language",e)},e.prototype.setUserRing=function(e){e&&this.contextMap.Add("UserInfo.Ring",e)},e.prototype.setUserTenantId=function(e){e&&this.contextMap.Add("UserInfo.TenantId",e)},e}(),re=function(){function e(){}return e.initialize=function(t){e.documentInfo=t;var n=t.appLanguage;n&&e.semanticContext.setAppLanguage(n);var i=t.userLanguage;i&&e.semanticContext.setUserLanguage(i);var r=(new Date).getTimezoneOffset(),o=r%60,s=(r-o)/60,a="+";s>0&&(a="-"),o=Math.abs(o);var u=a+((s=Math.abs(s))<10?"0"+s:s.toString())+":"+(o<10?"0"+o:o.toString());e.semanticContext.setUserTimeZone(u),e.semanticContext.setDeviceBrowserName(e._getBrowserName()),e.semanticContext.setDeviceBrowserVersion(e._getBrowserVersion()),e.semanticContext.setDeviceOsName(e._getOsName()),e.semanticContext.setDeviceOsVersion(e._getOsVersion()),e.semanticContext.setDeviceId(t.deviceId),e.firstLaunchTime=t.firstLaunchTime,e.semanticContext.setAppVersion(t.appVersion)},e._getUserAgent=function(){return e.documentInfo.userAgent},e._userAgentContainsString=function(t){return e._getUserAgent().indexOf(t)>-1},e._isIe=function(){return e._userAgentContainsString("Trident")},e._isEdge=function(){return e._userAgentContainsString(e.BROWSERS.EDGE)},e._isEdgeAnaheim=function(){return e._userAgentContainsString("Edg/")},e._isOpera=function(){return e._userAgentContainsString("OPR/")},e._getBrowserName=function(){return e._isOpera()?e.BROWSERS.UNKNOWN:e._userAgentContainsString(e.BROWSERS.PHANTOMJS)?e.BROWSERS.PHANTOMJS:e._isEdge()?e.BROWSERS.EDGE:e._isEdgeAnaheim()?e.BROWSERS.EDGEANAHEIM:e._userAgentContainsString(e.BROWSERS.ELECTRON)?e.BROWSERS.ELECTRON:e._userAgentContainsString(e.BROWSERS.CHROME)?e.BROWSERS.CHROME:e._userAgentContainsString(e.BROWSERS.FIREFOX)?e.BROWSERS.FIREFOX:e._userAgentContainsString(e.BROWSERS.SAFARI)?e.BROWSERS.SAFARI:e._userAgentContainsString(e.BROWSERS.SKYPE_SHELL)?e.BROWSERS.SKYPE_SHELL:e._isIe()?e.BROWSERS.MSIE:e.BROWSERS.UNKNOWN},e._getBrowserVersion=function(){return e._isIe()?function(){var t,n=e._getUserAgent(),i=n.match(new RegExp(e.BROWSERS.MSIE+" "+e.REGEX_VERSION));if(i)return i[1];if(t=n.match(new RegExp("rv:"+e.REGEX_VERSION)))return t[1]}():function(t){var n;t===e.BROWSERS.SAFARI?t="Version":t===e.BROWSERS.EDGEANAHEIM&&(t="Edg");if(n=e._getUserAgent().match(new RegExp(t+"/"+e.REGEX_VERSION)))return n[1];return e.UNKNOWN_VERSION}(e._getBrowserName())},e._getOsName=function(){return e._getUserAgent().match(/windows\sphone\s\d+\.\d+/i)?e.OPERATING_SYSTEMS.WINDOWS_PHONE:e._getUserAgent().match(/ arm;/i)?e.OPERATING_SYSTEMS.WINDOWS_RT:e._getUserAgent().match(/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i)?e.OPERATING_SYSTEMS.IOS:e._getUserAgent().match(/android/i)?e.OPERATING_SYSTEMS.ANDROID:e._getUserAgent().match(/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i)?e.OPERATING_SYSTEMS.LINUX:e._getUserAgent().match(/(macintosh|mac os x)/i)?e.OPERATING_SYSTEMS.MACOSX:e._getUserAgent().match(/(windows|win32)/i)?e.OPERATING_SYSTEMS.WINDOWS:e.OPERATING_SYSTEMS.UNKNOWN},e._getOsVersion=function(){return e._getOsName()===e.OPERATING_SYSTEMS.WINDOWS?function(){var t=e._getUserAgent().match(new RegExp("Windows NT "+e.REGEX_VERSION));if(t&&e.VERSION_MAPPINGS[t[1]])return e.VERSION_MAPPINGS[t[1]];return e.UNKNOWN_VERSION}():e._getOsName()===e.OPERATING_SYSTEMS.MACOSX?function(){var t=e._getUserAgent().match(new RegExp(e.OPERATING_SYSTEMS.MACOSX+" "+e.REGEX_VERSION_MAC));if(t){var n=t[1].replace(/_/g,".");if(n){var i=function(e){if(e.indexOf(".")>-1)return".";if(e.indexOf("_")>-1)return"_";return null}(n);return i?n.split(i)[0]:n}}return e.UNKNOWN_VERSION}():e.UNKNOWN_VERSION},e.semanticContext=new ie(!0),e.firstLaunchTime=-1,e.BROWSERS={MSIE:"MSIE",CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",EDGE:"Edge",EDGEANAHEIM:"EdgeAnaheim",ELECTRON:"Electron",SKYPE_SHELL:"SkypeShell",PHANTOMJS:"PhantomJS",UNKNOWN:"Unknown"},e.OPERATING_SYSTEMS={WINDOWS:"Windows",MACOSX:"Mac OS X",WINDOWS_PHONE:"Windows Phone",WINDOWS_RT:"Windows RT",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNKNOWN:"Unknown"},e.VERSION_MAPPINGS={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},e.REGEX_VERSION="([\\d,.]+)",e.REGEX_VERSION_MAC="([\\d,_,.]+)",e.UNKNOWN_VERSION="Unknown",e.DEVICE_ID_COOKIE="MicrosoftApplicationsTelemetryDeviceId",e.FIRST_LAUNCH_TIME_COOKIE="MicrosoftApplicationsTelemetryFirstLaunchTime",e}();!function(e){e[e.STARTED=0]="STARTED",e[e.ENDED=1]="ENDED"}(te||(te={}));var oe=function(){function e(){}return e.initialize=function(t,n){if(!e._initialized){if(!n)throw new ne(Q.INVALID_TENANT_TOKEN);e._defaultToken=n,e._config.collectorUrl||(e._config.collectorUrl="https://browser.pipe.aria.microsoft.com/Collector/3.0/"),Y||(Y=q.CreateTelemetryManager()).Initialize(e._config),Y.Start(),re.initialize(t),e._initialized=!0}},e.initializeWithConfiguration=function(t,n,i){if(!i.collectorUrl)throw new ne(Q.INVALID_COLLECTOR_URL);e._config.collectorUrl=i.collectorUrl,e.initialize(t,n)},e.flush=function(e){Y.Flush(e)},e.addCallbackListener=function(t){e._initialized&&Y.AddListener(t)},e.setContext=function(t,n,i){""!==n&&"null"!==n&&"undefined"!==n?e._contextProperties.setProperty(t,n,i):e._contextProperties.unsetProperty(t)},e.isInitialized=function(){return e._initialized},e.getDefaultToken=function(){return e._defaultToken},e.getSemanticContext=function(){return e._semanticContext},e.__addTestHookListener=function(t){e._initialized&&Y.__AddTestHookListener(t)},e.__clearTestHookListener=function(){e._initialized&&Y.__ClearTestHookListener()},e.__backToUninitialized=function(){e._config=new j,e._semanticContext=new ie(!0),e._contextProperties=new ee,Y=q.CreateTelemetryManager(),e._initialized=!1},e._initialized=!1,e._defaultToken=null,e._config=new j,e._contextProperties=new ee,e._semanticContext=new ie(!0),e}(),se=function(){function e(e){this._initId=x.GetGuid(),this._sequence=0,this._tenantToken=null,this._contextProperties=new ee,this._semanticContext=new ie(!1),this._sessionStartTime=0,this._sessionId=null,this._tenantToken=e||oe.getDefaultToken()}return e.prototype.logEvent=function(e){if(!e.name)throw new ne(Q.MISSING_EVENT_PROPERTIES_NAME);var t=this._createEventRecord(e.name,e.eventType);this._addCustomPropertiesToEvent(t,e),this._sendRecord(t)},e.prototype.logFailure=function(e,t,n,i,r){if(!e)throw new ne(Q.MISSING_FAILURE_SIGNATURE);if(!t)throw new ne(Q.MISSING_FAILURE_DETAIL);var o=this._createEventRecord("failure","failure");o.Extension.Add("Failure.Signature",e),o.Extension.Add("Failure.Detail",t),n&&o.Extension.Add("Failure.Category",n),i&&o.Extension.Add("Failure.Id",i),this._addCustomPropertiesToEvent(o,r),this._sendRecord(o)},e.prototype.logPageView=function(e,t,n,i,r,o){if(!e)throw new ne(Q.MISSING_PAGEVIEW_ID);if(!t)throw new ne(Q.MISSING_PAGEVIEW_NAME);var s=this._createEventRecord("pageview","pageview");s.Extension.Add("PageView.Id",e),s.Extension.Add("PageView.Name",t),n&&s.Extension.Add("PageView.Category",n),i&&s.Extension.Add("PageView.Uri",i),r&&s.Extension.Add("PageView.ReferrerUri",r),this._addCustomPropertiesToEvent(s,o),this._sendRecord(s)},e.prototype.logSession=function(e,t,n,i){if(e!==te.STARTED&&e!==te.ENDED)throw new ne(Q.INVALID_SESSION_STATE);var r=this._createEventRecord("session","session");if(e===te.STARTED){if(this._sessionStartTime>0)return;this._sessionStartTime=i||(new Date).getTime(),this._sessionId=n||x.GetGuid(),r.Extension.Add("Session.Id",this._sessionId),r.Extension.Add("Session.State","Started")}else if(e===te.ENDED){if(0==this._sessionStartTime)return;var o=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);r.Extension.Add("Session.Duration",o.toString()),r.Extension.Add("Session.DurationBucket",this._getSessionDurationFromTime(o)),r.Extension.Add("Session.Id",this._sessionId),r.Extension.Add("Session.State","Ended"),this._sessionId=null,this._sessionStartTime=0}r.Extension.Add("Session.FirstLaunchTime",new Date(re.firstLaunchTime).toISOString()),this._addCustomPropertiesToEvent(r,t),this._sendRecord(r)},e.prototype.getSessionId=function(){return this._sessionId},e.prototype.setContext=function(e,t,n){this._contextProperties.setProperty(e,t,n)},e.prototype.getSemanticContext=function(){return this._semanticContext},e.prototype._getSessionDurationFromTime=function(e){return e<0?"Undefined":e<=3?"UpTo3Sec":e<=10?"UpTo10Sec":e<=30?"UpTo30Sec":e<=60?"UpTo60Sec":e<=180?"UpTo3Min":e<=600?"UpTo10Min":e<=1800?"UpTo30Min":"Above30Min"},e.prototype._createEventRecord=function(e,t){var n=new R;t||(t="custom"),n.EventType=e.toLowerCase(),n.Type=t.toLowerCase(),n.Extension.Add("EventInfo.Source","JS_default_source"),n.Extension.Add("EventInfo.InitId",this._initId),this._sequence++,n.Extension.Add("EventInfo.Sequence",this._sequence.toString()),n.Extension.Add("EventInfo.Name",e.toLowerCase());var i=new Date;return n.Timestamp=x.GetTimeStampWithValue(i.getTime()),n.Extension.Add("EventInfo.Time",i.toISOString()),n.Extension.Add("EventInfo.SdkVersion","ACT-Web-JS-"+G.version),n},e.prototype._addCustomPropertiesToEvent=function(e,t){this._addSemanticContext(e,re.semanticContext),this._addSemanticContext(e,oe._semanticContext),this._addSemanticContext(e,this._semanticContext),this._sessionId&&e.Extension.Add("Session.Id",this._sessionId),this._addEventPropertiesToEvent(e,oe._contextProperties),this._addEventPropertiesToEvent(e,this._contextProperties),this._addEventPropertiesToEvent(e,t)},e.prototype._addSemanticContext=function(e,t){if(t&&t.contextMap.Count()>0)for(var n=t.contextMap.GetBuffer(),i=0;i<n.length;i++)"UserInfo.Id"==n[i].Key&&t.piiKind!=c.NotSet?e.AddOrReplacePII(n[i].Key,n[i].Value,t.piiKind):e.Extension.AddOrReplace(n[i].Key,n[i].Value)},e.prototype._addEventPropertiesToEvent=function(e,t){if(t){t.timestamp&&t.timestamp>=new Date("1/1/2000").getTime()&&(e.Timestamp=x.GetTimeStampWithValue(t.timestamp),e.Extension.AddOrReplace("EventInfo.Time",new Date(t.timestamp).toISOString())),t.name&&(e.EventType=t.name.toLowerCase(),e.Extension.AddOrReplace("EventInfo.Name",t.name.toLowerCase()));var n=t.properties;if(n)for(var i in n)n[i].key&&"string"==typeof n[i].key&&(n[i].value||0==n[i].value||0==n[i].value||""==n[i].value)&&($._isPii(n[i].pii)?(e.AddOrReplacePII(n[i].key,n[i].value.toString(),n[i].pii),e.Extension.Remove(n[i].key)):(e.Extension.AddOrReplace(n[i].key,n[i].value.toString()),e.PIIExtensions.Remove(n[i].key)))}},e.prototype._sendRecord=function(e){oe.isInitialized()&&Y.SendAsync(this._tenantToken,[e])},e}(),ae=function(){function e(){var e;this.telemetry=q.CreateTelemetryManager(),this.ariaLoggers={},e=this.telemetry,Y=e}return e.prototype.initialize=function(e){this.telemetry.Initialize(e.config),oe.initialize(e.documentInfo,e.appTokens.default)},e.prototype.start=function(){this.telemetry.Start()},e.prototype.stop=function(){this.telemetry.Stop()},e.prototype.flush=function(e){var t=this,n=8,i=function(){var r=t.telemetry._eventsCache.IsEmpty(),o=0==--n;r||o?e.postMessage("flushed"):t.telemetry.Flush(i)};i()},e.prototype.createNewLogger=function(e,t){this.ariaLoggers[e]=new se(t)},e.prototype.logEvent=function(e,t){if(e){var n=this.ariaLoggers[e];n&&n.logEvent(t)}},e.prototype.logSession=function(e,t){var n=this.ariaLoggers[t.name];if(n){var i=t.state;n.logSession(i,t.properties,t.sessionId,t.sessionStartTime),e.postMessage("sessionId",{key:t.name,value:n.getSessionId()})}},e.prototype.setContext=function(e){oe.setContext(e.key,e.value,e.pii)},e.prototype.setUserId=function(e){oe.getSemanticContext().setUserId(e)},e.prototype.setUserTenantId=function(e){oe.getSemanticContext().setUserTenantId(e)},e.prototype.setUserRing=function(e){oe.getSemanticContext().setUserRing(e)},e.prototype.setAppClientType=function(e){oe.getSemanticContext().setAppClientType(e)},e}(),ue=n("Bxby"),le=ue.f,ce=ue.d,fe=(ue.e,ue.c,"window"),de="JSON",he=ue.a;function pe(e){var t=he();return t&&t[e]?t[e]:e===fe&&_e()?window:null}function _e(){return Boolean(typeof window===ce&&window)}function ge(){return _e()?window:pe(fe)}function ve(){return Boolean(typeof document===ce&&document)?document:pe("document")}function me(){return Boolean(typeof navigator===ce&&navigator)}function ye(){return me()?navigator:pe("navigator")}function Se(){return typeof location===ce&&location?location:pe("location")}function Ie(){return Boolean(typeof JSON===ce&&JSON||null!==pe(de))}ue.f;var we=4294967296,Ee=4294967295,Te=null,be=!1,xe=123456789,Ce=987654321;function Ae(e){e<0&&(e>>>=0),xe=123456789+e&Ee,Ce=987654321-e&Ee,be=!0}function Re(){Ae(Math.random()*we^(new Date).getTime())}function ke(e,t){return typeof e===t}function Oe(e){return ke(e,ue.f)||void 0===e}function Ne(e){return Oe(e)||null===e}function De(e,t){return e&&Object[ue.e].hasOwnProperty.call(e,t)}function Pe(e){return ke(e,ue.d)}function Le(e){return ke(e,ue.c)}function Me(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!Ne(e))try{Ne(e.addEventListener)?Ne(e.attachEvent)||(e.attachEvent("on"+t,n),r=!0):(e.addEventListener(t,n,i),r=!0)}catch(e){}return r}function Be(e,t,n,i){if(void 0===i&&(i=!1),!Ne(e))try{Ne(e.removeEventListener)?Ne(e.detachEvent)||e.detachEvent("on"+t,n):e.removeEventListener(t,n,i)}catch(e){}}var Fe,Ve=function(){function e(){}return e.isDate=function(e){return"[object Date]"===Object[ue.e].toString.call(e)},e.isArray=function(e){return"[object Array]"===Object[ue.e].toString.call(e)},e.isError=function(e){return"[object Error]"===Object[ue.e].toString.call(e)},e.isString=function(e){return ke(e,"string")},e.isNumber=function(e){return ke(e,"number")},e.isBoolean=function(e){return ke(e,"boolean")},e.disableCookies=function(){e._canUseCookies=!1},e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Ue,(function(t){var n=0|e.randomValue(15);return("x"===t?n:3&n|8).toString(16)}))},e.toISOString=function(t){if(e.isDate(t)){var n=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},e.arrForEach=function(e,t,n){for(var i=e.length,r=0;r<i;r++)r in e&&t.call(n||e,e[r],r,e)},e.arrIndexOf=function(e,t,n){for(var i=e.length,r=n||0,o=Math.max(r>=0?r:i-Math.abs(r),0);o<i;o++)if(o in e&&e[o]===t)return o;return-1},e.arrMap=function(e,t,n){for(var i=e.length,r=n||e,o=new Array(i),s=0;s<i;s++)s in e&&(o[s]=t.call(r,e[s],e));return o},e.arrReduce=function(e,t,n){var i,r=e.length,o=0;if(arguments.length>=3)i=arguments[2];else{for(;o<r&&!(o in e);)o++;i=e[o++]}for(;o<r;)o in e&&(i=t(i,e[o],o,e)),o++;return i},e.strTrim=function(t){return e.isString(t)?t.replace(/^\s+|\s+$/g,""):t},e.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(Le(e)||Pe(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n=[];for(var i in e)De(e,i)&&n.push(i);if(t)for(var r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length,s=0;s<o;s++)De(e,r[s])&&n.push(r[s]);return n},e.objDefineAccessors=function(e,t,n,i){var r=Object.defineProperty;if(r)try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),i&&(o.set=i),r(e,t,o),!0}catch(e){}return!1},e.addEventHandler=function(e,t){var n=!1,i=ge();i&&(n=Me(i,e,t),n=Me(i.body,e,t)||n);var r=ve();return r&&(n=We.Attach(r,e,t)||n),n},e.dateNow=function(){var e=Date;return e.now?e.now():(new e).getTime()},e.perfNow=function(){var t=pe("performance");return t&&t.now?t.now():e.dateNow()},e.newId=function(t){void 0===t&&(t=22);for(var n=e.random32()>>>0,i=0,r="";r.length<t;)i++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n),n>>>=6,5===i&&(n=(e.random32()<<2&4294967295|3&n)>>>0,i=0);return r},e.isIE=function(){if(null===Te){var e=((ye()||{}).userAgent||"").toLowerCase();Te=-1!==e.indexOf("msie")||-1!==e.indexOf("trident/")}return Te},e.randomValue=function(t){return t>0?Math.floor(e.random32()/Ee*(t+1))>>>0:0},e.random32=function(t){var n,i=pe("crypto")||pe("msCrypto");return i&&i.getRandomValues?n=i.getRandomValues(new Uint32Array(1))[0]&Ee:e.isIE()?(be||Re(),n=e.mwcRandom32()&Ee):n=Math.floor(we*Math.random()|0),t||(n>>>=0),n},e.mwcRandomSeed=function(e){e?Ae(e):Re()},e.mwcRandom32=function(e){var t=((Ce=36969*(65535&Ce)+(Ce>>16)&Ee)<<16)+(65535&(xe=18e3*(65535&xe)+(xe>>16)&Ee))>>>0&Ee|0;return e||(t>>>=0),t},e.generateW3CId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i="",r=0;r<4;r++)i+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+(3&e.random32())|0];return i.substr(0,8)+i.substr(9,4)+"4"+i.substr(13,3)+o+i.substr(16,3)+i.substr(19,12)},e.isTypeof=ke,e.isUndefined=Oe,e.isNullOrUndefined=Ne,e.hasOwnProperty=De,e.isFunction=Le,e.isObject=Pe,e.objCreate=ue.b,e}(),Ue=/[xy]/g,We=function(){function e(){}return e.Attach=Me,e.AttachEvent=Me,e.Detach=Be,e.DetachEvent=Be,e}();!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(Fe||(Fe={}));var ze={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},Ge=1,He=2,Ke=3,je=__assign({},ze,{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519}),qe="2.4.5",Ze="1DS-Web-JS-"+qe,Xe="undefined",Je="object",Ye=Xe,Qe={Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9},$e=null;var et=Ve.isUndefined,tt=Ve.isNullOrUndefined;function nt(e){return!et(e)}var it,rt=Ve.hasOwnProperty,ot=null,st=null,at=Ve.arrForEach,ut=Ve.arrIndexOf,lt=Ve.arrMap,ct=Ve.arrReduce,ft=Ve.objKeys,dt=Ve.toISOString,ht=function(){var e=ye();return!(!e||!e.product)&&"ReactNative"===e.product},pt=Ve.isString,_t=Ve.isNumber,gt=Ve.isBoolean,vt=Ve.isFunction,mt=Ve.isArray,yt=Ve.isObject,St=Ve.strTrim,It=Boolean(ve()),wt=Boolean(ge());function Et(e){return!(tt(e)||""===e)}function Tt(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function bt(){return null===ot&&(ot=me()&&Boolean(ye().sendBeacon)),ot}function xt(){return null===st&&(st=nt(Uint8Array)&&!function(){var e=ye();if(nt(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!ht()),st}function Ct(e){return!!(e&&_t(e)&&e>=1&&e<=3)}function At(e,t,n){if(!pt(e)||tt(t)||""===t)return null;if(pt(t)||_t(t)||gt(t)||mt(t))t={value:t};else if("object"!=typeof t||t.hasOwnProperty("value")){if(tt(t.value)||""===t.value||!pt(t.value)&&!_t(t.value)&&!gt(t.value)&&!mt(t.value))return null}else t={value:n?JSON.stringify(t):t};if(mt(t.value)&&!(t.value.length>0))return null;if(nt(t.kind)){if(mt(t.value)||!function(e){if(_t(e)&&(e>=0&&e<=13||32===e))return!0;return!1}(t.kind))return null;t.value=t.value.toString()}return t}function Rt(e){return e.getUTCFullYear()+"-"+Ut(e.getUTCMonth()+1)+"-"+Ut(e.getUTCDate())+"T"+Ut(e.getUTCHours())+":"+Ut(e.getUTCMinutes())+":"+Ut(e.getUTCSeconds())+"."+function(e){if(e<10)return"00"+e;if(e<100)return"0"+e;return e.toString()}(e.getUTCMilliseconds())+"Z"}function kt(){if(void 0!==typeof XMLHttpRequest){var e=pe("XMLHttpRequest");if(e){var t=new e;return Boolean(et(t.withCredentials)&&void 0!==typeof XDomainRequest)}}}function Ot(e,t,n){var i=-1;return et(e)?i:(t&&t>0&&(32===t?i=1<<13:t<=13&&(i=t<<5)),nt(n)&&function(e){if(_t(e)&&e>=0&&e<=9)return!0;return!1}(n)?(-1===i&&(i=0),i|n):(mt(e)&&(e=e[0]),-1!==i?i|function(e){if(et(e))return-1;if(_t(e))return Qe.Double;if(pt(e))return Qe.String;if(gt(e))return Qe.Bool;return-1}(e):_t(e)?Qe.Double:i))}function Nt(){if(void 0===it){it=!1;try{var e=ve(),t=ye();e&&!et(e.cookie)&&t&&t.cookieEnabled&&(it=!0)}catch(e){}}return it}function Dt(e){return!!pt(e)&&(-1!==e.indexOf("CPU iPhone OS 12")||-1!==e.indexOf("iPad; CPU OS 12")||(-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&-1!==e.indexOf("Version/")&&-1!==e.indexOf("Safari")||(-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&(n="AppleWebKit/605.1.15 (KHTML, like Gecko)",i=(t=e).length,r=i-n.length,t.substring(r>=0?r:0,i)===n)||(-1!==e.indexOf("Chrome/5")||-1!==e.indexOf("Chrome/6")||(-1!==e.indexOf("UnrealEngine")&&-1===e.indexOf("Chrome")||(-1!==e.indexOf("UCBrowser/12")||-1!==e.indexOf("UCBrowser/11")))))));var t,n,i,r}function Pt(e,t,n){if(Nt()){var i="",r=Se();r&&"https:"===r.protocol&&(i=";secure",null===$e&&($e=Dt((ye()||{}).userAgent)),$e||(t+=";SameSite=None"));var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var s="; expires="+o.toUTCString();ve().cookie=e+"="+t+s+"; path=/"+i}}function Lt(e){Pt(e,"",-1)}function Mt(e){if(Nt()){e+="=";for(var t=decodeURIComponent((ve()||{}).cookie||"").split(";"),n=0;n<t.length;n++){for(var i=t[n],r=0;" "===i.charAt(r);)r++;if(0===(i=i.substring(r)).indexOf(e))return i.substring(e.length,i.length)}}return""}function Bt(e){void 0===e&&(e="D");var t=Ve.newGuid();return"B"===e?t="{"+t+"}":"P"==e?t="("+t+")":"N"==e&&(t=t.replace(/-/g,"")),t}function Ft(e,t,n,i,r){var o={},s=!1,a=0,u=arguments.length,l=Object.prototype,c=arguments;"[object Boolean]"===l.toString.call(c[0])&&(s=c[0],a++);for(var f=function(e){for(var t in e)rt(e,t)&&(s&&"[object Object]"===l.toString.call(e[t])?o[t]=Ft(!0,o[t],e[t]):o[t]=e[t])};a<u;a++){f(e=c[a])}return o}var Vt=Ve.perfNow;function Ut(e){return e<10?"0"+e:e.toString()}var Wt=Ve.objDefineAccessors;function zt(e){var t=Ht("beforeunload",e);return t=Ht("unload",e)||t,t=Ht("pagehide",e)||t}function Gt(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=Vt()}var Ht=Ve.addEventHandler,Kt=function(e,t){if(e&&Pe(e))for(var n in e)De(e,n)&&t.call(e,n,e[n])},jt="constructor",qt="prototype",Zt="function",Xt="_dynClass",Jt="_unknown_",Yt=Object.getPrototypeOf,Qt=0;function $t(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)}function en(e){return typeof e===Zt}function tn(e){return e&&(e===Object.prototype||e===Array.prototype)}function nn(e){return tn(e)||e===Function.prototype}function rn(e){if(e){if(Yt)return Yt(e);var t=e.__proto__||e.prototype||e.constructor;if(t)return t}return null}function on(e,t,n){return t!==jt&&en(e[t])&&(n||$t(e,t))}function sn(e){throw new TypeError("DynamicProto: "+e)}function an(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function un(e,t,n,i){var r=null;if(e&&$t(n,Xt)){var o=e._dynInstFuncs||{};if((r=(o[n._dynClass]||{})[t])||sn("Missing ["+t+"] "+Zt),!r._dynInstChk&&!1!==o._dynInstChk){for(var s=!$t(e,t),a=rn(e),u=[];s&&a&&!nn(a)&&!an(u,a);){var l=a[t];if(l){s=l===i;break}u.push(a),a=rn(a)}try{s&&(e[t]=r),r._dynInstChk=1}catch(e){o._dynInstChk=!1}}}return r}function ln(e,t,n){var i=t[e];return i===n&&(i=rn(t)[e]),en(i)||sn("["+e+"] is not a "+Zt),i}function cn(e,t){return $t(e,qt)?e.name||t||Jt:((e||{}).constructor||{}).name||t||Jt}function fn(e,t,n,i){$t(e,qt)||sn("theClass is an invalid class definition.");var r=e.prototype;(function(e,t){for(var n=rn(t);n&&!nn(n);){if(n===e)return!0;n=rn(n)}return!1})(r,t)||sn("["+cn(e)+"] is not in class hierarchy of ["+cn(t)+"]");var o=null;$t(r,Xt)?o=r._dynClass:(o="_dynCls$"+cn(e,"_")+"$"+Qt,Qt++,r._dynClass=o);var s=fn._dfOpts,a=!!s.useBaseInst;a&&i&&void 0!==i.useBaseInst&&(a=!!i.useBaseInst);var u=function(e){var t={};for(var n in e)!t[n]&&on(e,n,!1)&&(t[n]=e[n]);return t}(t);n(t,function(e,t,n,i){function r(e,t,n){var r=t[s];if(r._isDynProxy&&i){var o=e._dynInstFuncs||{};!1!==o._dynInstChk&&(r=(o[t._dynClass]||{})[n]||r)}return function(){return r.apply(e,arguments)}}var o={};for(var s in n)o[s]=r(t,n,s);for(var a=rn(e),u=[];a&&!nn(a)&&!an(u,a);){for(var s in a)!o[s]&&on(a,s,!Yt)&&(o[s]=r(t,a,s));u.push(a),a=rn(a)}return o}(r,t,u,a));var l=!!Yt&&!!s.setInstFuncs;l&&i&&(l=!!i.setInstFuncs),function(e,t,n,i,r){function o(e,t){var n=function(){return(un(this,t,e,n)||ln(t,e,n)).apply(this,arguments)};return n._isDynProxy=1,n}if(!tn(e)){var s=n._dynInstFuncs=n._dynInstFuncs||{},a=s[t]=s[t]||{};for(var u in!1!==s._dynInstChk&&(s._dynInstChk=!!r),n)on(n,u,!1)&&n[u]!==i[u]&&(a[u]=n[u],delete n[u],(!$t(e,u)||e[u]&&!e[u]._isDynProxy)&&(e[u]=o(e,u)))}}(r,o,t,u,!1!==l)}fn._dfOpts={setInstFuncs:!0,useBaseInst:!0};var dn=fn,hn=function(){function e(t){this.listeners=[];var n=Ve.arrForEach,i=!!(t||{}).perfEvtsSendAll;dn(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=Ve.arrIndexOf(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=Ve.arrIndexOf(e.listeners,t)},e.eventsSent=function(t){n(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,i){n(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,i)}),0)}))},e.eventsSendRequest=function(t,i){n(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(i)setTimeout((function(){return e.eventsSendRequest(t,i)}),0);else try{e.eventsSendRequest(t,i)}catch(e){}}))},e.perfEvent=function(t){t&&(!i&&t.isChildEvt()||n(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}})))}}))}return e.prototype.addNotificationListener=function(e){},e.prototype.removeNotificationListener=function(e){},e.prototype.eventsSent=function(e){},e.prototype.eventsDiscarded=function(e,t){},e.prototype.eventsSendRequest=function(e,t){},e}();function pn(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var _n=function(){function e(e,t,n,i){void 0===n&&(n=!1);var r=this;r.messageId=e,r.message=(n?"AI: ":"AI (Internal): ")+e;var o="";Ie()&&(o=(Ie()?JSON||pe(de):null).stringify(i));var s=(t?" message:"+pn(t):"")+(i?" props:"+pn(o):"");r.message+=s}return e.dataType="MessageData",e}(),gn=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,i={};dn(e,this,(function(e){var r=Ve.isNullOrUndefined,o=Ve.isUndefined,s=Ve.isFunction;function a(e,n){var i=t[e];return r(i)?n:i}r(t)&&(t={}),e.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},e.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},e.throwInternal=function(t,n,r,s,a){void 0===a&&(a=!1);var u=new _n(n,r,a,s);if(e.enableDebugExceptions())throw u;if(!o(u)&&u&&!o(u.message)){if(a){var l=+u.messageId;!i[l]&&e.consoleLoggingLevel()>=Fe.WARNING&&(e.warnToConsole(u.message),i[l]=!0)}else e.consoleLoggingLevel()>=Fe.WARNING&&e.warnToConsole(u.message);e.logInternalMessage(t,u)}},e.warnToConsole=function(e){var t=typeof console!==le?console:pe("console");if(t){var n="log";t.warn&&(n="warn"),s(t[n])&&t[n](e)}},e.resetInternalMessageCount=function(){n=0,i={}},e.logInternalMessage=function(t,r){if(!(n>=e.maxInternalMessageLimit())){var o=!0,s="AITR_"+r.messageId;if(i[s]?o=!1:i[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(r),n++),n===e.maxInternalMessageLimit())){var a="Internal events throttle limit per PageView reached for this app.",u=new _n(ze.MessageLimitPerPVExceeded,a,!1);e.queue.push(u),e.warnToConsole(a)}}}}))}return e.prototype.enableDebugExceptions=function(){return!1},e.prototype.consoleLoggingLevel=function(){return 0},e.prototype.telemetryLoggingLevel=function(){return 1},e.prototype.maxInternalMessageLimit=function(){return 25},e.prototype.throwInternal=function(e,t,n,i,r){void 0===r&&(r=!1)},e.prototype.warnToConsole=function(e){},e.prototype.resetInternalMessageCount=function(){},e.prototype.logInternalMessage=function(e,t){},e}(),vn=function(){function e(t,n,i){var r,o=this,s=!1;(o.start=Ve.dateNow(),o.name=t,o.isAsync=i,o.isChildEvt=function(){return!1},Ve.isFunction(n))&&(s=Ve.objDefineAccessors(o,"payload",(function(){return!r&&Ve.isFunction(n)&&(r=n(),n=null),r})));o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o.ctx||{})[t]:null},o.setCtx=function(t,n){if(t)if(t===e.ParentContextKey)o[t]||(o.isChildEvt=function(){return!0}),o[t]=n;else if(t===e.ChildrenContextKey)o[t]=n;else{(o.ctx=o.ctx||{})[t]=n}},o.complete=function(){var t=0,i=o.getCtx(e.ChildrenContextKey);if(Ve.isArray(i))for(var r=0;r<i.length;r++){var a=i[r];a&&(t+=a.time)}o.time=Ve.dateNow()-o.start,o.exTime=o.time-t,o.complete=function(){},!s&&Ve.isFunction(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),mn=function(){function e(t){this.ctx={},dn(e,this,(function(e){e.create=function(e,t,n){return new vn(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))}return e.prototype.create=function(e,t,n){return null},e.prototype.fire=function(e){},e.prototype.setCtx=function(e,t){},e.prototype.getCtx=function(e){},e}(),yn="CoreUtils.doPerf";function Sn(e,t,n,i,r){if(e){var o=e;if(o&&Ve.isFunction(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx(yn);try{if(s=o.create(t(),i,r)){if(a&&s.setCtx&&(s.setCtx(vn.ParentContextKey,a),a.getCtx&&a.setCtx)){var u=a.getCtx(vn.ChildrenContextKey);u||(u=[],a.setCtx(vn.ChildrenContextKey,u)),u.push(s)}return o.setCtx(yn,s),n(s)}}catch(e){s&&s.setCtx&&s.setCtx("exception",e)}finally{s&&o.fire(s),o.setCtx(yn,a)}}}return n()}var In=Ve.isFunction,wn=function(e,t){var n=this,i=null,r=In(e.processTelemetry),o=In(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(e){i=e},n.processTelemetry=function(s,a){a||(a=t);var u=e?e.identifier:"TelemetryPluginChain";Sn(a?a.core():null,(function(){return u+":processTelemetry"}),(function(){if(e&&r){n._hasRun=!0;try{a.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(s,a)}catch(n){var t=i&&i._hasRun;i&&t||a.diagLog().throwInternal(Fe.CRITICAL,ze.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),i&&!t&&i.processTelemetry(s,a)}}else i&&(n._hasRun=!0,i.processTelemetry(s,a))}),(function(){return{item:s}}),!s.sync)}},En=Ve.isNullOrUndefined;function Tn(e,t){var n=[];if(e&&e.length>0)for(var i=null,r=0;r<e.length;r++){var o=e[r];if(o&&Ve.isFunction(o.processTelemetry)){var s=new wn(o,t);n.push(s),i&&i.setNext(s),i=s}}return n.length>0?n[0]:null}var bn=function e(t,n,i,r){var o=this,s=null;null!==r&&(t&&Ve.isFunction(t.getPlugin)?s=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var o=e.getPlugin();(r||o===n)&&(r=!0,i.push(o)),e=e.getNext()}return r||i.push(n),Tn(i,t)}(t,o,r||t.getPlugin()):r?s=function(e,t,n){var i=e,r=!1;return n&&e&&(i=[],Ve.arrForEach(e,(function(e){(r||e===n)&&(r=!0,i.push(e))}))),n&&!r&&(i||(i=[]),i.push(n)),Tn(i,t)}(t,o,r):Ve.isUndefined(r)&&(s=Tn(t,o))),o.core=function(){return i},o.diagLog=function(){var e=(i||{}).logger;return e||(e=new gn(n||{})),e},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var i;if(void 0===t&&(t={}),n){var r=n.extensionConfig;r&&e&&(i=r[e])}return i||t},o.getConfig=function(e,t,i){var r;void 0===i&&(i=!1);var s=o.getExtCfg(e,null);return s&&!En(s[t])?r=s[t]:n&&!En(n[t])&&(r=n[t]),En(r)?i:r},o.hasNext=function(){return null!=s},o.getNext=function(){return s},o.setNext=function(e){s=e},o.processNext=function(e){var t=s;t&&(s=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,r){return void 0===t&&(t=null),new e(t||s,n,i,r)}},xn=Ve.isFunction,Cn=function(){function e(){var e=this,t=!1,n=null,i=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){i=e},e.processNext=function(e,t){t?t.processNext(e):i&&xn(i.processTelemetry)&&i.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var r=t;if(!r){var o=n||new bn(null,{},e.core);r=i&&i.getPlugin?o.createNew(null,i.getPlugin):o.createNew(null,i)}return r},e._baseTelInit=function(r,o,s,a){r&&(r.extensionConfig=r.extensionConfig||[]),!a&&o&&(a=o.getProcessTelContext().getNext());var u=i;i&&i.getPlugin&&(u=i.getPlugin()),e.core=o,n=new bn(a,r,o,u),t=!0}}return e.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},e}(),An=Ve.isFunction;function Rn(e,t){for(var n=[],i=null,r=e.getNext();r;){var o=r.getPlugin();o&&(i&&An(i.setNextPlugin)&&An(o.processTelemetry)&&i.setNextPlugin(o),An(o.isInitialized)&&o.isInitialized()||n.push(o),i=o,r=r.getNext())}Ve.arrForEach(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function kn(e){return e.sort((function(e,t){var n=0,i=An(t.processTelemetry);return An(e.processTelemetry)?n=i?e.priority-t.priority:1:i&&(n=-1),n}))}var On=500,Nn=Ve.objDefineAccessors,Dn=function(e){function t(){var n=e.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=500;var i,r=Ve.arrForEach;function o(e){e&&e.length>0&&(function(e){r(e,(function(e){if(e.priority<On)throw Error("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),i.push(e))}return dn(t,n,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){i&&r(i,(function(i){i.length>0&&n._getTelCtx(t).createNew(i).processNext(e)}))},e.getChannelControls=function(){return i},e.initialize=function(n,s,a){e.isInitialized()||(t.initialize(n,s,a),n.isCookieUseDisabled&&Ve.disableCookies(),function(e,t){i=[],e&&r(e,(function(e){return o(e)}));if(t){var n=[];r(t,(function(e){e.priority>On&&n.push(e)})),o(n)}}((n||{}).channels,a),r(i,(function(e){return Rn(new bn(e,n,s),a)})))}})),n}return __extends(t,e),t.prototype.processTelemetry=function(e,t){},t.prototype.getChannelControls=function(){return null},t.prototype.initialize=function(e,t,n){},t._staticInit=(Nn(t.prototype,"ChannelControls",t.prototype.getChannelControls),void Nn(t.prototype,"channelQueue",t.prototype.getChannelControls)),t}(Cn),Pn=Ve.arrForEach,Ln=Ve.isNullOrUndefined,Mn=function(){function e(){var t,n,i,r,o=!1;dn(e,this,(function(e){e._extensions=new Array,n=new Dn,e.logger=Ve.objCreate({throwInternal:function(e,t,n,i,r){void 0===r&&(r=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return o},e.initialize=function(t,r,s,a){if(e.isInitialized())throw Error("Core should not be initialized more than once");if(!t||Ln(t.instrumentationKey))throw Error("Please provide instrumentation key");i=a,e._notificationManager=a,e.config=t||{},t.extensions=Ln(t.extensions)?[]:t.extensions,(t.extensionConfig=Ln(t.extensionConfig)?{}:t.extensionConfig).NotificationManager=a,s&&(e.logger=s);var u=[];u.push.apply(u,r.concat(t.extensions)),u=kn(u);var l=[],c=[],f={};if(Pn(u,(function(e){if(Ln(e)||Ln(e.initialize))throw Error("Extensions must provide callback to initialize");var t=e.priority,i=e.identifier;e&&t&&(Ln(f[t])?f[t]=i:s.warnToConsole("Two extensions have same priority #"+t+" - "+f[t]+", "+i)),!t||t<n.priority?l.push(e):c.push(e)})),u.push(n),l.push(n),u=kn(u),e._extensions=u,Rn(new bn([n],t,e),u),Rn(new bn(l,t,e),u),e._extensions=l,0===e.getTransmissionControls().length)throw new Error("No channels available");o=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){n.iKey||(n.iKey=e.config.instrumentationKey),n.time||(n.time=Ve.toISOString(new Date)),Ln(n.ver)&&(n.ver="4.0"),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,i=t;return t&&0!==t.length||(i=[n]),new bn(i,e.config,e)},e.getNotifyMgr=function(){return i||(i=Ve.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e._notificationManager=i),i},e.getPerfMgr=function(){return r||e.config&&e.config.enablePerfMgr&&(r=new mn(e.getNotifyMgr())),r},e.setPerfMgr=function(e){r=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(Pn(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))}return e.prototype.initialize=function(e,t,n,i){},e.prototype.getTransmissionControls=function(){return null},e.prototype.track=function(e){},e.prototype.getProcessTelContext=function(){return null},e.prototype.getNotifyMgr=function(){return null},e.prototype.getPerfMgr=function(){return null},e.prototype.setPerfMgr=function(e){},e.prototype.eventCnt=function(){return 0},e.prototype.releaseQueue=function(){},e}(),Bn=0,Fn=1,Vn=2,Un=4,Wn=5,zn=function(e){function t(){var n=e.call(this)||this;return dn(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],Vn)}e.initialize=function(e,n,i,r){t.initialize(e,n,i||new gn(e),r||new hn(e))},e.track=function(i){Sn(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){if(null===i)throw n(i),Error("Invalid telemetry item");!function(e){if(Ve.isNullOrUndefined(e.name))throw n(e),Error("telemetry name required")}(i),t.track(i)}),(function(){return{item:i}}),!i.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),setInterval((function(){var n=e.logger?e.logger.queue:[];Ve.arrForEach(n,(function(n){var i={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:Ve.toISOString(new Date),baseType:_n.dataType,baseData:{message:n.message}};e.track(i)})),n.length=0}),n)}})),n}return __extends(t,e),t.prototype.initialize=function(e,t,n,i){},t.prototype.track=function(e){},t.prototype.addNotificationListener=function(e){},t.prototype.removeNotificationListener=function(e){},t.prototype.pollInternalLogs=function(e){return 0},t}(Mn),Gn=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",dn(t,n,(function(e,t){e.initialize=function(n,i,r,o){Sn(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var s=n.propertyStorageOverride;if(s&&(!s.getProperty||!s.setProperty))throw"Invalid property storage override passed.";n.channels&&at(n.channels,(function(t){t&&at(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&at(i,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,i,r,o)}catch(t){e.logger.throwInternal(Fe.CRITICAL,je.ErrorProvidedChannels,"Channels must be provided through config.channels only")}e.pollInternalLogs("InternalLog")}),(function(){return{config:n,extensions:i,logger:r,notificationManager:o}}))},e.track=function(n){Sn(e,(function(){return"AppInsightsCore.track"}),(function(){var i=n;if(i){i.timings=i.timings||{},i.timings.trackStart=Vt(),Ct(i.latency)||(i.latency=Ge);var r=i.ext=i.ext||{};r.sdk=r.sdk||{},r.sdk.ver=Ze;var o=i.baseData=i.baseData||{};o.properties||(o.properties={});var s=o.properties;s.version||(s.version=""),""!=e.pluginVersionString&&(s.version=e.pluginVersionString)}t.track(i)}),(function(){return{item:n}}),!n.sync)}})),n}return __extends(t,e),t.prototype.initialize=function(e,t,n,i){},t.prototype.track=function(e){},t}(zn),Hn=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function Kn(e,t){void 0===t&&(t=Hn);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)jn(i[r],t)&&(n?n+=","+i[r]:n=i[r]);return n}function jn(e,t){if(void 0===t&&(t=Hn),!e||e.length<4)return!1;for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"===i&&e.length<=256){n=!0;break}return n}var qn,Zn=function(){function e(e){this.appExpId=null,this.flightIdNameSpaces=Hn.slice(0),this.expIdCookieName="Treatments",this._propertiesConfig=e;var t=ve();if(t){var n=t.documentElement;t&&(this.locale=n.lang)}this.env=e.env?e.env:this._getMetaDataFromDOM("awa-").env}return e.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},e.prototype._getMetaDataFromDOM=function(e){var t,n={},i=ve();if(i){t=i&&i.querySelectorAll("meta");for(var r=0;r<t.length;r++){var o=t[r];if(o.name)if(0===o.name.toLowerCase().indexOf(e))n[o.name.replace(e,"")]=o.content}}return n},e.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=Kn(e,this.flightIdNameSpaces))},e.prototype._getAppExpId=function(){return this.appExpId},e.prototype._readExpIdFromCookie=function(){return this._setAppExpId(Mt(this.expIdCookieName)),this._getAppExpId()},e.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},e.validateAppExpId=Kn,e._staticInit=void Wt(e.prototype,"expId",e.prototype.getExpId),e}(),Xn=function(){},Jn=void 0,Yn=null;function Qn(e,t,n,i){var r="",o="",s=ve();if(s){i&&(r=";domain="+i);var a=Se();a&&"https:"===a.protocol&&(o=";secure",null===Yn&&(Yn=Dt((ye()||{}).userAgent)),Yn||(n+=";SameSite=None")),Nt()&&(s.cookie=t+"="+n+r+";path=/"+o)}}function $n(){return void 0===Jn&&(Jn=!!ti(qn.LocalStorage)),Jn}function ei(){return $n()?ti(qn.LocalStorage):null}function ti(e){var t,n,i=null;try{var r=he();if(!r)return null;n=new Date,(i=e===qn.LocalStorage?r.localStorage:r.sessionStorage)&&vt(i.setItem)&&(i.setItem(n,n),t=i.getItem(n)!=n,i.removeItem(n),t&&(i=null))}catch(e){i=null}return i}!function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(qn||(qn={}));Ve.isDate;var ni=Ve.toISOString,ii=function(){function e(t,n,i){if(this._logger=i,!t.disableCookiesUsage&&Nt()){var r=Mt("MUID");if(r&&this.setLocalId("t:"+r),n.enableApplicationInsightsUser){var o=Mt(e.userCookieName);if(o){var s=o.split(e.cookieSeparator);s.length>0&&(this.id=s[0])}if(!this.id){this.id=Ve.newId(t&&!Ve.isUndefined(t.idLength)?t.idLength:22);var a=new Date,u=ni(a);this.accountAcquisitionDate=u,a.setTime(a.getTime()+31536e6);var l=[this.id,u],c=n.cookieDomain?n.cookieDomain:void 0;Qn(this._logger,e.userCookieName,l.join(e.cookieSeparator)+";expires="+a.toUTCString(),c)}}}if("undefined"!=typeof navigator){var f=navigator;this.locale=f.userLanguage||f.language}}return e.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e=Mt("MUID");e&&this.setLocalId("t:"+e)},e.prototype.setLocalId=function(e){this._customLocalId=e},e.cookieSeparator="|",e.userCookieName="ai_user",e._staticInit=void Wt(e.prototype,"localId",e.prototype.getLocalId,e.prototype.setLocalId),e}(),ri="MSIE",oi="Chrome",si="Firefox",ai="Safari",ui="Edge",li="Electron",ci="SkypeShell",fi="PhantomJS",di="Opera",hi="([\\d,.]+)",pi="Unknown",_i=function(){function e(e){this._propertiesConfig=e;var t=Se();if(t){var n=t.hostname;n&&(this.domain="file:"===t.protocol?"local":n)}var i="undefined"!=typeof navigator?navigator.userAgent:"";if(e.userAgent&&(i=e.userAgent),e.populateBrowserInfo){if(i){var r=this._getBrowserName(i);this.browser=r,this.browserVer=this._getBrowserVersion(i,r)}var o=this._getScreenResolution();this.screenRes=o.w+"X"+o.h}}return e.prototype.getUserConsent=function(){return this._propertiesConfig.userConsented||!!Mt(this._propertiesConfig.userConsentCookieName||"MSCC")},e.prototype.getUserConsentDetails=function(){try{if(this._propertiesConfig.callback&&this._propertiesConfig.callback.userConsentDetails){var e=this._propertiesConfig.callback.userConsentDetails();if(e)return JSON.stringify({Required:!!e.Required&&e.Required,Analytics:!!e.Analytics&&e.Analytics,SocialMedia:!!e.SocialMedia&&e.SocialMedia,Advertising:!!e.Advertising&&e.Advertising})}}catch(e){}return null},e.prototype._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?di:this._userAgentContainsString(fi,e)?fi:this._userAgentContainsString(ui,e)?ui:this._userAgentContainsString(li,e)?li:this._userAgentContainsString(oi,e)?oi:this._userAgentContainsString("Trident",e)?ri:this._userAgentContainsString(si,e)?si:this._userAgentContainsString(ai,e)?ai:this._userAgentContainsString(ci,e)?ci:pi},e.prototype._userAgentContainsString=function(e,t){return t.indexOf(e)>-1},e.prototype._getBrowserVersion=function(e,t){return t===ri?this._getIeVersion(e):this._getOtherVersion(t,e)},e.prototype._getIeVersion=function(e){var t=e.match(new RegExp(ri+" "+hi));if(t)return t[1];var n=e.match(new RegExp("rv:([\\d,.]+)"));return n?n[1]:void 0},e.prototype._getOtherVersion=function(e,t){e===ai&&(e="Version");var n=t.match(new RegExp(e+"/"+hi));return n?n[1]:pi},e.prototype._getScreenResolution=function(){var e={h:0,w:0},t=ge();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e},e._staticInit=void Wt(e.prototype,"userConsent",e.prototype.getUserConsent),e}(),gi="Windows",vi="Mac OS X",mi="Android",yi=/(windows|win32)/i,Si=/ arm;/i,Ii=/windows\sphone\s\d+\.\d+/i,wi=/(macintosh|mac os x)/i,Ei=/(ipad|iphone|ipod)(?=.*like mac os x)/i,Ti=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,bi=/android/i,xi=/CrOS/i,Ci={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},Ai="Unknown",Ri=function(){function e(e){var t="undefined"!=typeof navigator?navigator.userAgent:"";if(e.userAgent&&(t=e.userAgent),t&&e.populateOperatingSystemInfo){var n=this._getOsName(t.toLowerCase());this.name=n,this.ver=this._getOsVersion(t,n)}}return e.prototype._getOsName=function(e){return e.match(Ii)?"Windows Phone":e.match(Si)?"Windows RT":e.match(yi)?gi:e.match(Ei)?"iOS":e.match(bi)?mi:e.match(Ti)?"Linux":-1!==e.indexOf("x11")?"Unix":-1!==e.indexOf("blackberry")?"BlackBerry":-1!==e.indexOf("symbian")?"Symbian":-1!==e.indexOf("nokia")?"Nokia":e.match(wi)?vi:e.match(xi)?"Chrome OS":Ai},e.prototype._getOsVersion=function(e,t){return t===gi?this._getGenericOsVersion(e,"Windows NT"):t===mi?this._getGenericOsVersion(e,t):t===vi?this._getMacOsxVersion(e):Ai},e.prototype._getGenericOsVersion=function(e,t){var n=e.match(new RegExp(t+" ([\\d,.]+)"));return n?Ci[n[1]]?Ci[n[1]]:n[1]:Ai},e.prototype._getMacOsxVersion=function(e){var t=e.match(new RegExp(vi+" ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var i=this._getDelimiter(n);return i?n.split(i)[0]:n}}return Ai},e.prototype._getDelimiter=function(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null},e}(),ki=function(){function e(e){e.serviceName&&(this.serviceName=e.serviceName)}return e.prototype.getMsfpc=function(){return Mt("MSFPC")},e.prototype.getAnid=function(){return Mt("ANON").slice(0,34)},e._staticInit=(Wt(e.prototype,"msfpc",e.prototype.getMsfpc),void Wt(e.prototype,"anid",e.prototype.getAnid)),e}(),Oi=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Ni=function(){var e=(new Date).getTimezoneOffset(),t=e%60,n=(e-t)/60,i="+";n>0&&(i="-"),n=Math.abs(n),t=Math.abs(t),this.tz=i+(n<10?"0"+n:n.toString())+":"+(t<10?"0"+t:t.toString())},Di=function(){},Pi=function(){function e(){}return e.prototype.setId=function(e){this.customId=e},e.prototype.getId=function(){return pt(this.customId)?this.customId:this.automaticId},e._staticInit=void Wt(e.prototype,"id",e.prototype.getId,e.prototype.setId),e}(),Li=function(e,t,n,i){if(e.enableApplicationInsightsTrace){this.traceId=t||Ve.generateW3CId(),this.parentId=n,this.name=i;var r=Se();r&&r.pathname&&(this.name=r.pathname)}},Mi=function(){function e(){}return e.id="id",e.ver="ver",e.appName="name",e.locale="locale",e.expId="expId",e.env="env",e}(),Bi=function(){function e(){}return e.domain="domain",e.browser="browser",e.browserVer="browserVer",e.screenRes="screenRes",e.userConsent="userConsent",e.consentDetails="consentDetails",e}(),Fi=function(){function e(){}return e.locale="locale",e.localId="localId",e.id="id",e}(),Vi=function(){function e(){}return e.osName="name",e.ver="ver",e}(),Ui=function(){function e(){}return e.ver="ver",e.seq="seq",e.installId="installId",e.epoch="epoch",e}(),Wi=function(){function e(){}return e.msfpc="msfpc",e.anid="anid",e.serviceName="serviceName",e}(),zi=function(){function e(){}return e.popSample="popSample",e.eventFlags="eventFlags",e}(),Gi=function(){function e(){}return e.tz="tz",e}(),Hi=function(){function e(){}return e.sessionId="sesId",e}(),Ki=function(){function e(){}return e.localId="localId",e.deviceClass="deviceClass",e.make="make",e.model="model",e}(),ji=function(){function e(){}return e.role="role",e.roleInstance="roleInstance",e.roleVer="roleVer",e}(),qi=function(){function e(){}return e.traceId="traceID",e.traceName="name",e.parentId="parentID",e}(),Zi=function(){function e(){}return e.UserExt="user",e.DeviceExt="device",e.TraceExt="trace",e.WebExt="web",e.AppExt="app",e.OSExt="os",e.SdkExt="sdk",e.IntWebExt="intweb",e.UtcExt="utc",e.LocExt="loc",e.CloudExt="cloud",e}(),Xi="MicrosoftApplicationsTelemetryDeviceId",Ji=function(){function e(e){if(this._sequenceId=0,this._propertyStorage=e.propertyStorageOverride,this.seq=this._sequenceId,this.epoch=(new Date).getTime().toString(),!e.disableCookiesUsage&&Nt()||this._propertyStorage){var t=this._getData(Xi);t||(t=Ve.newGuid()),this._saveData(Xi,t),this.installId=t}else Lt(Xi)}return e.prototype.getSequenceId=function(){return++this._sequenceId},e.prototype._saveData=function(e,t){var n=this._propertyStorage;n?n.setProperty(e,t):Pt(e,t,365)},e.prototype._getData=function(e){return this._propertyStorage?this._propertyStorage.getProperty(e)||"":Mt(e)},e}(),Yi=function(){function e(t,n){var i,r,o;dn(e,this,(function(s){var a=function(e){return{sessionRenewalMs:e.sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength?e.idLength:22}}}(t);function u(e){var t=s.automaticSession,n=e.split("|");n.length>0&&t.setId(n[0]);try{if(n.length>1){var i=+n[1];t.acquisitionDate=+new Date(i),t.acquisitionDate=t.acquisitionDate>0?t.acquisitionDate:0}if(n.length>2){var o=+n[2];t.renewalDate=+new Date(o),t.renewalDate=t.renewalDate>0?t.renewalDate:0}}catch(e){r.throwInternal(Fe.CRITICAL,je.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0===t.renewalDate&&r.throwInternal(Fe.WARNING,je.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function l(){var e=s.automaticSession,t=(new Date).getTime(),n=s.config.sessionAsGuid();!Ve.isUndefined(n)&&n?Ve.isBoolean(n)?e.setId(Bt()):e.setId(Bt(n)):e.setId(Ve.newId(a&&a.idLength?a.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,c(e.getId(),e.acquisitionDate,e.renewalDate),$n()||r.throwInternal(Fe.WARNING,je.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function c(e,t,n){var r=t+s.config.sessionExpirationMs(),a=n+s.config.sessionRenewalMs(),u=new Date,l=[e,t,n];r<a?u.setTime(r):u.setTime(a);var c=s.config.cookieDomain?s.config.cookieDomain():null;Qn(0,o(),l.join("|")+";expires="+u.toUTCString(),c),i=(new Date).getTime()}r=Ve.isNullOrUndefined(n)?new gn:n,Ve.isFunction(t.sessionExpirationMs)||(a.sessionExpirationMs=function(){return e.acquisitionSpan}),Ve.isFunction(t.sessionRenewalMs)||(a.sessionRenewalMs=function(){return e.renewalSpan}),s.config=a,o=function(){return s.config.namePrefix&&s.config.namePrefix()?e.cookieNameConst+s.config.namePrefix():e.cookieNameConst},s.automaticSession=new Pi,s.update=function(){s.automaticSession.getId()||function(){var e=Mt(o());if(e&&Ve.isFunction(e.split))u(e);else{var t=function(e,t){var n=ei();if(null!==n)try{return n.getItem(t)}catch(t){Jn=!1,e.throwInternal(Fe.CRITICAL,je.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}(r,o());t&&u(t)}s.automaticSession.getId()||l()}();var t=s.automaticSession,n=s.config,a=(new Date).getTime(),f=a-t.acquisitionDate>n.sessionExpirationMs(),d=a-t.renewalDate>n.sessionRenewalMs();if(f||d)l();else{(!i||a-i>e.cookieUpdateInterval)&&(t.renewalDate=a,c(t.getId(),t.acquisitionDate,t.renewalDate))}},s.backup=function(){var e,t,n,i=s.automaticSession;e=i.getId(),t=i.acquisitionDate,n=i.renewalDate,function(e,t,n){var i=ei();if(null!==i)try{i.setItem(t,n)}catch(t){Jn=!1,e.throwInternal(Fe.CRITICAL,je.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}}(r,o(),[e,t,n].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e.cookieNameConst="ai_session",e}(),Qi=pt,$i=function(){function e(e,t,n){this.app=new Zn(t),this.cloud=new Xn,this.user=new ii(e,t,n&&n.logger),this.os=new Ri(t),this.web=new _i(t),this.sdk=new Ji(e),this.intWeb=new ki(t),this.utc=new Oi(t),this.loc=new Ni,this.device=new Di,this.telemetryTrace=new Li(t),this.sessionManager=new Yi(t,n&&n.logger),this.session=new Pi}return e.prototype.getSessionId=function(){var e=this.session;if(e&&Qi(e.customId))return e.customId;var t=this.sessionManager;t.update();var n=t.automaticSession;if(n){var i=n.getId();i&&Qi(i)&&(e.automaticId=i)}return e.automaticId},e.prototype.applyApplicationContext=function(e){var t=this.app;Qi(t.id)&&(e.ext[Zi.AppExt][Mi.id]=t.id),Qi(t.ver)&&(e.ext[Zi.AppExt][Mi.ver]=t.ver),Qi(t.name)&&(e.ext[Zi.AppExt][Mi.appName]=t.name),Qi(t.locale)&&(e.ext[Zi.AppExt][Mi.locale]=t.locale);var n=t.getExpId();Qi(n)&&(e.ext[Zi.AppExt][Mi.expId]=n),Qi(t.env)&&(e.ext[Zi.AppExt][Mi.env]=t.env)},e.prototype.applyUserContext=function(e){var t=this.user,n=t.getLocalId();Qi(n)&&(e.ext[Zi.UserExt][Fi.localId]=n),Qi(t.locale)&&(e.ext[Zi.UserExt][Fi.locale]=t.locale),Qi(t.id)&&(e.ext[Zi.UserExt][Fi.id]=t.id)},e.prototype.applyWebContext=function(e){var t=this.web;Qi(t.domain)&&(e.ext[Zi.WebExt][Bi.domain]=t.domain),Qi(t.browser)&&(e.ext[Zi.WebExt][Bi.browser]=t.browser),Qi(t.browserVer)&&(e.ext[Zi.WebExt][Bi.browserVer]=t.browserVer),Qi(t.screenRes)&&(e.ext[Zi.WebExt][Bi.screenRes]=t.screenRes),e.ext[Zi.WebExt][Bi.userConsent]=t.getUserConsent(),e.ext[Zi.WebExt][Bi.consentDetails]=t.getUserConsentDetails()},e.prototype.applyOsContext=function(e){var t=this.os;Qi(t.name)&&(e.ext[Zi.OSExt][Vi.osName]=t.name),Qi(t.ver)&&(e.ext[Zi.OSExt][Vi.ver]=t.ver)},e.prototype.applySdkContext=function(e){var t=this.sdk;e.ext[Zi.SdkExt][Ui.seq]=t.getSequenceId(),e.ext[Zi.SdkExt][Ui.epoch]=t.epoch,Qi(t.installId)&&(e.ext[Zi.SdkExt][Ui.installId]=t.installId)},e.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=t.getMsfpc();Qi(n)&&(e.ext[Zi.IntWebExt][Wi.msfpc]=n);var i=t.getAnid();Qi(i)&&(e.ext[Zi.IntWebExt][Wi.anid]=i),Qi(t.serviceName)&&(e.ext[Zi.IntWebExt][Wi.serviceName]=t.serviceName)},e.prototype.applyUtcContext=function(e){var t=this.utc;e.ext[Zi.UtcExt][zi.popSample]=t.popSample,t.eventFlags>0&&(e.ext[Zi.UtcExt][zi.eventFlags]=t.eventFlags)},e.prototype.applyLocContext=function(e){e.ext[Zi.LocExt][Gi.tz]=this.loc.tz},e.prototype.applySessionContext=function(e){e.ext[Zi.AppExt][Hi.sessionId]=this.getSessionId()},e.prototype.applyDeviceContext=function(e){var t=this.device;Qi(t.localId)&&(e.ext[Zi.DeviceExt][Ki.localId]=t.localId),Qi(t.make)&&(e.ext[Zi.DeviceExt][Ki.make]=t.make),Qi(t.model)&&(e.ext[Zi.DeviceExt][Ki.model]=t.model),Qi(t.deviceClass)&&(e.ext[Zi.DeviceExt][Ki.deviceClass]=t.deviceClass)},e.prototype.applyCloudContext=function(e){var t=this.cloud;Qi(t.role)&&(e.ext[Zi.CloudExt][ji.role]=t.role),Qi(t.roleInstance)&&(e.ext[Zi.CloudExt][ji.roleInstance]=t.roleInstance),Qi(t.roleVer)&&(e.ext[Zi.CloudExt][ji.roleVer]=t.roleVer)},e.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;Qi(t.traceId)&&(e.ext[Zi.TraceExt][qi.traceId]=t.traceId),Qi(t.name)&&(e.ext[Zi.TraceExt][qi.traceName]=t.name),Qi(t.parentId)&&(e.ext[Zi.TraceExt][qi.parentId]=t.parentId)},e}(),er=function(e){function t(){var n,r=e.call(this)||this;r.identifier="SystemPropertiesCollector",r.priority=3,r.version="2.4.5";var o={};return dn(t,r,(function(t,s){t.initialize=function(i,o,s){e.prototype.initialize.call(r,i,o,s),n=new $i(i,t._getTelCtx().getExtCfg(t.identifier),o)},t.processTelemetry=function(e,r){Gt(e,t.identifier),r=t._getTelCtx(r);var s,a,u=e.ext=e.ext?e.ext:{};e.data=e.data?e.data:{},u[Zi.AppExt]=u[Zi.AppExt]||{},u[Zi.UserExt]=u[Zi.UserExt]||{},u[Zi.WebExt]=u[Zi.WebExt]||{},u[Zi.OSExt]=u[Zi.OSExt]||{},u[Zi.SdkExt]=u[Zi.SdkExt]||{},u[Zi.IntWebExt]=u[Zi.IntWebExt]||{},u[Zi.UtcExt]=u[Zi.UtcExt]||{},u[Zi.LocExt]=u[Zi.LocExt]||{},u[Zi.DeviceExt]=u[Zi.DeviceExt]||{},u[Zi.TraceExt]=u[Zi.TraceExt]||{},u[Zi.CloudExt]=u[Zi.CloudExt]||{},n.applyApplicationContext(e),n.applyUserContext(e),n.applyWebContext(e),n.applyOsContext(e),n.applySdkContext(e),n.applyIntWebContext(e),n.applyUtcContext(e),n.applyLocContext(e),n.applySessionContext(e),n.applyDeviceContext(e),n.applyAITraceContext(e),n.applyCloudContext(e),i.arrForEach(i.objKeys(u),(function(e){0===i.objKeys(u[e]).length&&delete u[e]})),s=o,a=e.data,s&&Kt(s,(function(e,t){a[e]||(a[e]=t)})),t.processNext(e,r)},t.getPropertiesContext=function(){return n},t.setProperty=function(e,t){o[e]=t}})),r}return __extends(t,e),t}(Cn),tr="REAL_TIME",nr=function(){function e(t,n){var i=n?[].concat(n):[],r=Ve.isNullOrUndefined;dn(e,this,(function(n){n.iKey=function(){return t},n.count=function(){return i.length},n.events=function(){return i},n.addEvents=function(e,t){return void 0===t&&(t=!0),e&&e.length>0?(i=t?i.concat(e):e.concat(i),e.length):0},n.split=function(n,o){var s=new e(t);if(n<i.length){var a=i.length-n;r(o)||(a=o<a?o:a),s.addEvents(i.splice(n,a))}return s}}))}return e.create=function(t,n){return new e(t,n)},e}(),ir=2e6,rr=Math.min(ir,65e3),or=function e(t){dn(e,this,(function(e){e.createPayload=function(e,t,n,i){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i}},e.appendPayload=function(n,i,r){var o=n&&i&&!n.overflow;return o&&Sn(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=i.events(),o=n.payloadBlob,s=n.numEvents,a=!1,u=[],l=n.isBeacon,c=l?65e3:3984588,f=l?rr:ir,d=0;d<t.length;){var h=t[d];if(h){if(s>=r){n.overflow=i.split(d);break}var p=e.getEventBlob(h);if(p.length<=f){var _=p.length;if(o.length+_>c){n.overflow=i.split(d);break}o&&(o+="\n"),o+=p,a=!0,s++}else u.concat(t.slice(d,1))}d++}if(u&&u.length>0&&n.sizeExceed.push(nr.create(i.iKey(),u)),a){n.batches.push(i),n.payloadBlob=o,n.numEvents=s;var g=i.iKey();-1===Ve.arrIndexOf(n.apiKeys,g)&&n.apiKeys.push(g)}}),(function(){return{payload:n,theBatch:{iKey:i.iKey(),evts:i.events()},max:r}})),o},e.getEventBlob=function(e){return Sn(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};return t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+Tt(e.iKey),e.ext&&(t.ext={},at(ft(e.ext),(function(n){t.ext[n]={},at(ft(e.ext[n]),(function(i){Et(e.ext[n][i])&&(t.ext[n][i]=At(i,e.ext[n][i]).value)}))}))),t.data={},t.data.baseData={},t.data.baseType=e.baseType,e.baseData&&at(ft(e.baseData),(function(n){var i=At(n,e.baseData[n]);sr(t.data.baseData,n,i),ar(t.ext,"baseData."+n,i)})),e.data&&at(ft(e.data),(function(n){var i=At(n,e.data[n]);sr(t.data,n,i),ar(t.ext,n,i)})),JSON.stringify(t)}),(function(){return{item:e}}))}}))};function sr(e,t,n){if(n){for(var i=e,r=t.split("."),o=0;o<r.length-1;++o)i[r[o]]||(i[r[o]]={}),i=i[r[o]];i[r[r.length-1]]=n.value}}function ar(e,t,n){if(n){var i=Ot(n.value,n.kind,n.propertyType);if(i>-1){var r=e;r.metadata||(r.metadata={}),r.metadata.f||(r.metadata.f={}),r=r.metadata.f;for(var o=t.split("."),s=0;s<o.length-1;++s)r[o[s]]||(r[o[s]]={f:{}}),r=r[o[s]].f;mt(n.value)?r[o[o.length-1]]={a:{t:i}}:r[o[o.length-1]]={t:i}}}}var ur=function(){function e(){}return e.shouldRetryForStatus=function(e){return!(e>=300&&e<500&&408!==e&&429!==e||501===e||505===e)},e.getMillisToBackoffForRetry=function(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)},e}(),lr=function e(){var t={};dn(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var i=(s=e.split(","),a=[],s&&at(s,(function(e){a.push(St(e))})),a);if("this-request-only"===n)return i;for(var r=1e3*parseInt(n,10),o=0;o<i.length;++o)t[i[o]]=Ve.dateNow()+r}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t,i=St(e);return void 0!==n[i]&&n[i]>Ve.dateNow()||(delete n[i],!1)}}))},cr=function e(){var t=!0,n=!0,i=!0,r="use-collector-delta",o=!1;dn(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,o||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){o||(e?(r=e,n=!0,o=!0):n=!1,t=!0)}}))},fr="POST",dr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",hr="drop",pr="send",_r="requeue",gr="rspFail",vr="kill-duration",mr="time-delta-millis",yr=((Ir={})[1]=_r,Ir[100]=_r,Ir[200]="sent",Ir[8004]=hr,Ir[8003]=hr,Ir);function Sr(e){try{return e.responseText}catch(e){}return""}var Ir,wr=function e(t,n,i,r){this._responseHandlers=[];var o,s,a,u="?cors=true&content-type=application/x-json-stream&client-id=NO_AUTH&client-version="+Ze,l=new lr,c=!1,f=new cr,d=!1,h=0,p=!0,_=[],g={},v=[],m=null,y=!0;dn(e,this,(function(e){var S=!0;function I(e,t){var n=new XDomainRequest;n.open(fr,e.urlString),n.onload=function(){var e=Sr(n);T(t,200,{},e),M(e)},n.onerror=function(){T(t,400,{})},n.ontimeout=function(){T(t,500,{})},n.send(e.data)}function w(e,t){var n;fetch(e.urlString,(n={body:e.data,method:fr,credentials:"include"},n[dr]=!0,n.headers=e.headers,n)).then((function(e){var n={},i="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){i=e})),T(t,e.status,n,i),M(i)})).catch((function(e){T(t,0,{})}))}function E(e,t,n){function i(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var i=t.getResponseHeader(n);i&&(e[n]=St(i))}return e}function r(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};if(pt(e)){var n=St(e).split(/[\r\n]+/);at(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var i=St(e.substring(0,n)).toLowerCase(),r=St(e.substring(n+1));t[i]=r}else t[St(e)]=1}}))}return t}(e.getAllResponseHeaders()):(t=i(t,e,mr),t=i(t,e,vr),t=i(t,e,"kill-duration-seconds")),t}function o(e,n){T(t,e.status,r(e),n)}var s=new XMLHttpRequest;try{s[dr]=!0}catch(e){}S&&(s.withCredentials=!0),s.open(fr,e.urlString,!n),at(ft(e.headers),(function(t){s.setRequestHeader(t,e.headers[t])})),s.onload=function(){var e=Sr(s);o(s,e),M(e)},s.onerror=function(){o(s)},s.ontimeout=function(){o(s)},s.send(e.data)}function T(e,t,n,i){try{e(t,n,i)}catch(e){o.diagLog().throwInternal(Fe.WARNING,je.SendPostOnCompleteFailure,e)}}function b(){return!c&&h<n}function x(){var e=v;return v=[],e}function C(e,t,n){var i=!1;return e&&e.length>0&&!c&&s&&m&&(i=t||b()&&(n>0||f.allowRequestSending())),i}function A(e){var t={};return e&&at(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function R(e,n,i,r,o,s){if(e&&0!==e.length)if(c)B(e,1,r);else{var u=e;Sn(a,(function(){return"HttpManager:_sendBatches"}),(function(a){a&&(e=e.slice(0));for(var u=[],c=null,f=Vt();C(e,r,n);){var d=e.shift();d&&d.count()>0&&(l.isTenantKilled(d.iKey())?u.push(d):(c=c||m.createPayload(n,i,r,s&&O()),m.appendPayload(c,d,t)?null!==c.overflow&&(e=[c.overflow].concat(e),c.overflow=null,D(c,f,Vt(),o),f=Vt(),c=null):(D(c,f,Vt(),o),f=Vt(),e=[d].concat(e),c=null)))}c&&D(c,f,Vt(),o),e.length>0&&(v=e.concat(v)),B(u,8004,r)}),(function(){return{batches:A(u),retryCount:n,isTeardown:i,isSynchronous:r,sendReason:o,useSendBeacon:s}}),!r)}}function k(e){var t=u,n="";at(e.apiKeys,(function(e){n.length>0&&(n+=","),n+=e})),n.length>0&&(t+="&apikey="+n),t+="&upload-time="+Ve.dateNow().toString();var i=function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),i=0;i<n.length;i++){var r=(n[i].ext||{}).intweb||{};if(Et(r.msfpc))return encodeURIComponent(r.msfpc)}return""}(e);if(Et(i)&&(t=t+"&ext.intweb.msfpc="+i),f.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+f.getClockSkewHeaderValue()),a.getWParam){var r=a.getWParam();r>=0&&(t+="&w="+r)}for(var o=0;o<_.length;o++)t+="&"+_[o].name+"="+_[o].value;return t}function O(){return!p&&d&&bt()}function N(e,t,n){e[t]=e[t]||{},e[t][o.identifier]=n}function D(t,n,r,u){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var c=k(t),d=Vt();Sn(a,(function(){return"HttpManager:_doPayloadSend"}),(function(){at(t.batches,(function(e){at(e.events(),(function(e){if(y){var t=e.timings=e.timings||{};N(t,"sendEventStart",d),N(t,"serializationStart",n),N(t,"serializationCompleted",r)}e.sendAttempt>0?e.sendAttempt++:e.sendAttempt=1}))})),B(t.batches,1e3+(u||0),t.isSync,!0);var p={data:t.payloadBlob,urlString:c,headers:g};t.payloadBlob=null;var _=null,v=!!e.sendHook;O()&&t.isBeacon?(v=!1,_=function(n){!function(e,t,n){try{if(bt()){var i=ye();if(i.sendBeacon(e.urlString,e.data))return void P(t,200,n,!1);var r=null;at(t.batches,(function(t){if(r&&t&&t.count()>0){for(var n=t.events(),o=0;o<n.length;o++)if(!i.sendBeacon(e.urlString,m.getEventBlob(n[o]))){r.push(t.split(o));break}}else r.push(t.split(0))})),P(t,200,n,!1),B(r,8003,t.isSync,!0)}}catch(e){o.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+e)}}(n,t,u),e.sendListener&&e.sendListener(p,n,t.isSync||t.isTeardown,!0)}):s&&(_=function(n){f.firstRequestSent();var r=function(e,n){!function(e,t,n,r){var o=9e3,s=null,a=!1,u=!1;try{var c=!0;if(typeof e!==Xe){if(t){f.setClockSkew(t[mr]);var d=t["kill-duration"]||t["kill-duration-seconds"];at(l.setKillSwitchTenants(t["kill-tokens"],d),(function(e){at(n.batches,(function(t){if(t.iKey()===e){s=s||[];var i=t.split(0);n.numEvents-=i.count(),s.push(i)}}))}))}if(200===e)return void(o=200);(!ur.shouldRetryForStatus(e)||n.numEvents<=0)&&(c=!1),o=9e3+e%1e3}if(c){o=100;var p=n.retryCnt;n.isSync||(p<i?(a=!0,L((function(){n.isSync||h--,R(n.batches,p+1,n.isTeardown,n.isSync,5,n.isBeacon)}),!0,ur.getMillisToBackoffForRetry(p))):u=!0)}}finally{a||(f.setClockSkew(),P(n,o,r,u)),B(s,8004,n.isSync)}}(e,n,t,u)};try{s.sendPOST(n,r,t.isTeardown||t.isSync),e.sendListener&&e.sendListener(p,n,t.isSync||t.isTeardown,!1)}catch(e){T(r,0,{})}}),Sn(a,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(_)if(t.isSync||h++,v){var n={data:p.data,urlString:p.urlString,headers:p.headers},i=!1;Sn(a,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){i=!0,_(e)}),t.isSync||t.isTeardown)}catch(e){i||_(p)}}))}else _(p)})),B(t.sizeExceed,8003,t.isSync)}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:r,sendReason:u}}),t.isSync)}}function P(t,n,i,r){try{r&&o._backOffTransmission(),200===n&&(r||t.isSync||o._clearBackOff(),function(e){if(y){var t=Vt();at(e,(function(e){var n,i;e&&e.count()>0&&(n=e.events(),i=t,y&&at(n,(function(e){N(e.timings=e.timings||{},"sendEventCompleted",i)})))}))}}(t.batches)),B(t.batches,n,t.isSync,!0)}finally{t.isSync||(h--,5!==i&&e.sendQueuedRequests(i,!t.isSync,t.isBeacon))}}function L(e,t,n){t?e():o._setTimeoutOverride(e,n)}function M(t){var n=e._responseHandlers;try{for(var i=0;i<n.length;i++)try{n[i](t)}catch(e){o.diagLog().throwInternal(Fe.CRITICAL,je.PostResponseHandler,"Response handler failed: "+e)}if(t){var r=JSON.parse(t);Et(r.webResult)&&Et(r.webResult.msfpc)&&Pt("MSFPC",r.webResult.msfpc,365)}}catch(e){}}function B(e,t,n,i){if(e&&e.length>0&&r){var s=r[(u=t,l=yr[u],Et(l)||(l="oth",u>=9e3&&u<=9999?l=gr:u>=8e3&&u<=8999?l=hr:u>=1e3&&u<=1999&&(l=pr)),l)];s&&Sn(a,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){L((function(){try{s.call(r,e,t,n)}catch(e){o.diagLog().throwInternal(Fe.CRITICAL,je.NotificationException,"send request notification failed: "+e)}}),i||n,0)}),(function(){return{batches:A(e),reason:t,isSync:n,sendSync:i}}),!n)}var u,l}e.initialize=function(e,t,n,i){if(u=e+u,y=!(a=t).config.disableEventTimings,o=n,m=new or(t),!(s=i)){p=!1,d=!ht();var r=Se();r&&r.protocol&&"file:"===r.protocol.toLowerCase()&&(S=!1);var l=null;kt()?l=I:ht()?l=w:"undefined"!=typeof XMLHttpRequest&&(l=E),s={sendPOST:l}}},e._getDbgPlgTargets=function(){return[s,l,m]},e.addQueryStringParameter=function(e,t){for(var n=0;n<_.length;n++)if(_[n].name===e)return void(_[n].value=t);_.push({name:e,value:t})},e.addHeader=function(e,t){g[e]=t},e.canSendRequest=function(){return b()&&f.allowRequestSending()},e.sendQueuedRequests=function(e,t,n){var i=!Ve.isNullOrUndefined(t)&&!t;C(v,i,0)&&R(x(),0,!1,i,e||0,!!n)},e.isCompletelyIdle=function(){return!c&&0===h&&0===v.length},e.addBatch=function(e){if(e&&e.count()>0){if(l.isTenantKilled(e.iKey()))return!1;v.push(e)}return!0},e.teardown=function(){v.length>0&&R(x(),0,!0,!0,2,!0)},e.pause=function(){c=!0},e.resume=function(){c=!1,e.sendQueuedRequests(4,!1)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&R([e],0,!1,!0,t||0,!!n)}}))},Er=wt?window:void 0,Tr="eventsDiscarded",br=function(e){function t(){var n,i=e.call(this)||this;i.identifier="PostChannel",i.priority=1011,i.version="2.4.5";var r,o,s,a,u,l=!1,c=[],f=null,d=!1,h=0,p=1e4,_={},g=tr,v=null,m=0,y=0,S={},I=-1;return dn(t,i,(function(e,t){function i(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=Ge),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,e.sync)if(m||d)e.latency=Ke,e.sync=!1;else if(o)return void o.sendSynchronousBatch(nr.create(e.iKey,[e]),3);var n=!1;h<p?n=!k(e,t):(n=!0,function(e,t){var n=Ge;for(;n<=t;){var i=A(e,t,!0);if(i&&i.count()>0){var r=i.split(0,20);if(r.count()>0)return B(Tr,[r],Wn),!0}n++}return!1}(e.iKey,e.latency)&&(n=!k(e,t))),n&&M(Tr,[e],Wn)}function w(e,t,n,i){var r=O(e,t,n);return o.sendQueuedRequests(t,n,i),r}function E(){return h>0}function T(){I>=0&&O(I,u,!0)&&o.sendQueuedRequests(u,!0,!1);var e=_[g][1];!v&&!f&&e>=0&&!d&&(E()?v=b((function(){v=null,w(0===y?Ke:Ge,1,!0),y++,y%=2,T()}),e):y=0)}function b(t,n){0===n&&m&&(n=1);var i=1e3;return m&&(i=ur.getMillisToBackoffForRetry(m-1)),e._setTimeoutOverride(t,n*i)}function x(){null!==v&&(e._clearTimeoutOverride(v),v=null,y=0)}function C(t,n){x(),f&&(e._clearTimeoutOverride(f),f=null),d||w(Ge,t,n,!0)}function A(e,t,n){var i=S[t];i||(i=S[t=Ge]);var r=i.iKeyMap[e];return!r&&n&&(r=nr.create(e),i.batches.push(r),i.iKeyMap[e]=r),r}function R(t,n){o.canSendRequest()&&!m&&(s>0&&h>s&&(n=!0),n&&null==f&&e.flush(t,null,20))}function k(e,t){var n=A(e.iKey,e.latency,!0);return!!n.addEvents([e],t)&&(h++,t&&0===e.sendAttempt&&R(!e.sync,a>0&&n.count()>=a),!0)}function O(t,n,i){var r=!1;return!i||o.canSendRequest()?Sn(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=Ke;n>=t;){var i=S[n];i&&i.batches&&(at(i.batches,(function(t){o.addBatch(t)?r=r||t&&t.count()>0:e=e.concat(t.events()),h-=t.count()})),i.batches=[],i.iKeyMap={}),n--}e.length>0&&M(Tr,e,Un),r&&I>=t&&(I=-1,u=0)}),(function(){return{latency:t,sendReason:n}}),i):(I=I>=0?Math.min(I,t):t,u=Math.max(u,n)),r}function N(e,t){w(Ge,t,!0),D((function(){e&&e(),c.length>0?f=b((function(){return N(c.shift(),t)}),0):(f=null,E()&&T())}))}function D(e){o.isCompletelyIdle()?e():f=b((function(){D(e)}),.25)}function P(){(_={}).REAL_TIME=[2,1],_.NEAR_REAL_TIME=[6,3],_.BEST_EFFORT=[18,9]}function L(t,n){var i=e._notificationManager||{},r=i[t];if(r)try{r.apply(i,n)}catch(n){e.diagLog().throwInternal(Fe.CRITICAL,je.NotificationException,t+" notification failed: "+n)}}function M(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&t.length>0&&L(e,[t].concat(n))}function B(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&t.length>0&&at(t,(function(t){t&&t.count()>0&&L(e,[t.events()].concat(n))}))}function F(){a=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,p/6)}P(),S[Ke]={batches:[],iKeyMap:{}},S[He]={batches:[],iKeyMap:{}},S[Ge]={batches:[],iKeyMap:{}},F(),o=new wr(500,2,1,{requeue:function(t,n){var r=[];at(t,(function(t){t&&t.count()>0&&at(t.events(),(function(t){t&&(t.sync&&(t.latency=Ke,t.sync=!1),t.sendAttempt<6?(Gt(t,e.identifier),i(t,!1)):r.push(t))}))})),r.length>0&&M(Tr,r,Fn)},send:function(e,t,n){e&&e.length>0&&L("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){B("eventsSent",e,t),T()},drop:function(e,t){B(Tr,e,t>=8e3&&t<=8999?t-8e3:Bn)},rspFail:function(e){B(Tr,e,Fn),T()},oth:function(e,t){B(Tr,e,Bn),T()}}),e._getDbgPlgTargets=function(){return[o]},e.initialize=function(i,a,u){Sn(a,(function(){return"PostChannel:initialize"}),(function(){var l=a;t.initialize(i,a,u),e.setInitialized(!1);var c=e._getTelCtx();i.extensionConfig[e.identifier]=i.extensionConfig[e.identifier]||{},n=c.getExtCfg(e.identifier),e._setTimeoutOverride=n.setTimeoutOverride?n.setTimeoutOverride:setTimeout.bind(Er),e._clearTimeoutOverride=n.clearTimeoutOverride?n.clearTimeoutOverride:clearTimeout.bind(Er);var f=l.getWParam;l.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|f()},n.eventsLimitInMem>0&&(p=n.eventsLimitInMem),n.autoFlushEventsLimit>0&&(s=n.autoFlushEventsLimit),F(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(r=n.httpXHROverride),Et(i.anonCookieName)&&o.addQueryStringParameter("anoncknm",i.anonCookieName),o.sendHook=n.payloadPreprocessor,o.sendListener=n.payloadListener;var d=n.overrideEndpointUrl?n.overrideEndpointUrl:i.endpointUrl;e._notificationManager=i.extensionConfig.NotificationManager,o.initialize(d,e.core,e,r),zt((function(){C(2,!1)})),e.setInitialized(!0)}),(function(){return{coreConfig:i,core:a,extensions:u}}))},e.processTelemetry=function(t,r){Gt(t,e.identifier);var o=(r=e._getTelCtx(r)).getExtCfg(e.identifier),s=!!n.disableTelemetry;o&&(s=s||!!o.disableTelemetry);var a=t;s||l||(n.overrideInstrumentationKey&&(a.iKey=n.overrideInstrumentationKey),o&&o.overrideInstrumentationKey&&(a.iKey=o.overrideInstrumentationKey),i(a,!0),T()),e.processNext(a,r)},e.setEventQueueLimits=function(e,t){p=e>0?e:1e4,s=t>0?t:0,F();var n=h>e;if(!n&&a>0)for(var i=Ge;!n&&i<=Ke;i++){var r=S[i];r&&r.batches&&at(r.batches,(function(e){e&&e.count()>=a&&(n=!0)}))}R(!0,n)},e.teardown=function(){C(2,!1),l=!0,o.teardown()},e.pause=function(){x(),d=!0,o.pause()},e.resume=function(){d=!1,o.resume(),T()},e.addResponseHandler=function(e){o._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){x(),P(),g=tr,T(),Kt(e,(function(e,t){if(t.length>=2){if(t.splice(0,t.length-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var n=t[0]/t[1];t[0]=Math.ceil(n)*t[1]}_[e]=t}}))},e.flush=function(e,t,n){void 0===e&&(e=!0),d||(x(),n=n||1,e?(O(Ge,n,e),null==f?f=b((function(){N(t,n)}),0):c.push(t)):(w(Ge,n,!1),null!=t&&t()))},e.setMsaAuthTicket=function(e){o.addHeader("AuthMsaDeviceTicket",e)},e.hasEvents=E,e._setTransmitProfile=function(e){g!==e&&void 0!==_[e]&&(x(),g=e,T())},e._backOffTransmission=function(){m<4&&(m++,x(),T())},e._clearBackOff=function(){m&&(m=0,x(),T())}})),i}return __extends(t,e),t}(Cn),xr=function(e){this._setOverride=function(t,n){e.setOverride(t,n)},this._getOverride=function(t){return e.getOverride(t)}},Cr=function(e){function t(t,n){var i=e.call(this,t)||this,r=i;return r.setId=function(e){r._setOverride(Mi.id,e)},r.getId=function(){return r._getOverride(Mi.id)},r.setVer=function(e){r._setOverride(Mi.ver,e)},r.getVer=function(){return r._getOverride(Mi.ver)},r.setName=function(e){r._setOverride(Mi.appName,e)},r.getName=function(){return r._getOverride(Mi.appName)},r.setLocale=function(e){r._setOverride(Mi.locale,e)},r.getLocale=function(){return r._getOverride(Mi.locale)},r.setEnv=function(e){r._setOverride(Mi.env,e)},r.getEnv=function(){return r._getOverride(Mi.env)},r.setExpId=function(e){r._setOverride(Mi.expId,Zn.validateAppExpId(e))},r.getExpId=function(){return r._getOverride(Mi.expId)},n&&(Ve.isUndefined(n.env)||r.setEnv(n.env),Ve.isNullOrUndefined(n.expId)||r.setExpId(n.expId)),i}return __extends(t,e),t}(xr),Ar=function(e){function t(t){var n=e.call(this,t)||this,i=n;return i.setProperty=function(e,t){i._setOverride(e,t)},i.getProperty=function(e){return i._getOverride(e)},n}return __extends(t,e),t}(xr),Rr=function(e){function t(t){var n=e.call(this,t)||this,i=n;return i.setLocalId=function(e){i._setOverride(Ki.localId,e)},i.getLocalId=function(){return i._getOverride(Ki.localId)},i.setDeviceClass=function(e){i._setOverride(Ki.deviceClass,e)},i.getDeviceClass=function(){return i._getOverride(Ki.deviceClass)},i.setMake=function(e){i._setOverride(Ki.make,e)},i.getMake=function(){return i._getOverride(Ki.make)},i.setModel=function(e){i._setOverride(Ki.model,e)},i.getModel=function(){return i._getOverride(Ki.model)},n}return __extends(t,e),t}(xr),kr=function(e){function t(t,n){var i=e.call(this,t)||this,r=i;if(r.setOsName=function(e){r._setOverride(Vi.osName,e)},r.getOsName=function(){return r._getOverride(Vi.osName)},r.setVer=function(e){r._setOverride(Vi.ver,e)},r.getVer=function(){return r._getOverride(Vi.ver)},n&&n.userAgent&&n.populateOperatingSystemInfo){var o=new Ri(n);r.setOsName(o.name),r.setVer(o.ver)}return i}return __extends(t,e),t}(xr),Or=Ve.isNullOrUndefined,Nr=Ve.arrForEach;function Dr(e,t){if(e)for(var n=0;n<t.length;n++){var i=t[n];Or(e[i])&&(e[i]={}),e=e[i]}return e}var Pr=function(e){var t=this,n=[];t.setOverride=function(e,t){e&&n.push({key:e,value:t})},t.hasOverride=function(e){var t=!1;return Nr(n,(function(n){n.key===e&&(t=!0)})),t},t.getOverride=function(e){var t;return Nr(n,(function(n){n.key===e&&(t=n.value)})),t},t.applyOverrides=function(t,i){if(n.length>0)try{var r=Dr(t,e);Nr(n,(function(e){!function(e,t,n){if(e&&t){var i=t.split("."),r=i[i.length-1];i.length>1&&(e=Dr(e,i.splice(-1,1))),Or(n)?Ve.isUndefined(e[r])||delete e[r]:e[r]=n}}(r,e.key,e.value)}))}catch(e){}}},Lr=function(e){function t(t){var n=e.call(this,t)||this,i=n;return i.setLocalId=function(e){i._setOverride(Fi.localId,e)},i.getLocalId=function(){return i._getOverride(Fi.localId)},i.setLocale=function(e){i._setOverride(Fi.locale,e)},i.getLocale=function(){return i._getOverride(Fi.locale)},i.setId=function(e){i._setOverride(Fi.id,e)},i.getId=function(){return i._getOverride(Fi.id)},n}return __extends(t,e),t}(xr),Mr=function(e){function t(t,n){var i=e.call(this,t)||this,r=i;return r.setDomain=function(e){r._setOverride(Bi.domain,e)},r.getDomain=function(){return r._getOverride(Bi.domain)},r.setBrowser=function(e){r._setOverride(Bi.browser,e)},r.getBrowser=function(){return r._getOverride(Bi.browser)},r.setBrowserVer=function(e){r._setOverride(Bi.browserVer,e)},r.getBrowserVer=function(){return r._getOverride(Bi.browserVer)},r.setScreenRes=function(e){r._setOverride(Bi.screenRes,e)},r.getScreenRes=function(){return r._getOverride(Bi.screenRes)},r.setUserConsent=function(e){r._setOverride(Bi.userConsent,e)},r.getUserContext=function(){return r._getOverride(Bi.userConsent)},n&&(Ve.isUndefined(n.userConsented)||r.setUserConsent(n.userConsented)),i}return __extends(t,e),t}(xr),Br="ext",Fr=function(e,t,n){var i=this,r={};function o(e){for(var t="",n=0;n<e.length;n++)t&&(t+="_"),t+=e[n];return Ve.isUndefined(r[t])&&(r[t]=new Pr(e)),t?r[t]:null}i.data=new Ar(o(["data"])),i.app=new Cr(o([Br,Zi.AppExt]),t),i.user=new Lr(o([Br,Zi.UserExt])),i.os=new kr(o([Br,Zi.OSExt]),t),i.web=new Mr(o([Br,Zi.WebExt]),t),i.device=new Rr(o([Br,Zi.DeviceExt])),i.applyOverrides=function(e,t){var n=ft(r);n&&n.length>0&&Ve.arrForEach(n,(function(n){r[n].applyOverrides(e,t)}))}},Vr=function(e){function t(){var t=e.call(this)||this;t.identifier="OverridePropertiesPlugin",t.priority=4,t.version="1.1.11";var n=t,i=null;return n._baseInit=function(e,n,r){i=new Fr(e,t._getTelCtx().getExtCfg(t.identifier),n)},n.setProperty=function(e,t){i&&i.data.setProperty(e,t)},n.getOverrideContext=function(){return i},t}return __extends(t,e),t.prototype.initialize=function(t,n,i){e.prototype.initialize.call(this,t,n,i),this._baseInit(t,n,i)},t.prototype.processTelemetry=function(e,t){Gt(e,this.identifier),t=this._getTelCtx(t);var n=this.getOverrideContext();n&&n.applyOverrides(e,t),this.processNext(e,t)},t}(Cn);function Ur(e,t){if(t)for(var n=Ve.objKeys(t),i=0;i<n.length;i++){var r=n[i];Ve.hasOwnProperty(e,r)||(e[r]=t[r])}}function Wr(e,t){var n=null;if(t){t.endpointUrl&&(n=t.endpointUrl);var i=(t.extensionConfig||{})[e]||{};i.overrideEndpointUrl&&(n=i.overrideEndpointUrl)}return n}var zr=function(e){function t(n,i){var r=e.call(this)||this;return dn(t,r,(function(e,t){function r(e){var t=[];return e&&at(e,(function(e){e.iKey===n&&t.push(e)})),t}function o(t){if(e[t]&&e.listeners)for(var n=0;n<e.listeners.length;n++){var i=e.listeners[n];if(i&&i[t])return!0}return!1}var s={eventsSent:function(t){if(o("eventsSent")){var n=r(t);n.length>0&&e.eventsSent(n)}},eventsDiscarded:function(t,n){if(o("eventsDiscarded")){var i=r(t);i.length>0&&e.eventsDiscarded(i,n)}},eventsSendRequest:function(t,n){o("eventsSendRequest")&&e.eventsSendRequest(t,n)},perfEvent:function(t){o("perfEvent")&&e.perfEvent(t)}};i.addNotificationListener(s)})),r}return __extends(t,e),t}(hn),Gr=function(){function e(){var t,n,i,r,o,s,a,u={},l=[],c=null,f=[],d=[],h={};dn(e,this,(function(e){function p(e,t){if(void 0===t&&(t=null),e){(function(e){return e.pause&&e.teardown&&e.flush}(e)?d:f).push(e);var n=e.identifier;u.extensionConfig[n]=u.extensionConfig[n]||{},Ur(u.extensionConfig[n],t)}return e}function _(n){if(!c){var o=g(n||u.instrumentationKey||"_not_defined_",{});t=new hn,(c=new Hr(e,e.diagLog(),t)).initialize(o,l),i&&(r=Wr(i.identifier,o))}}function g(e,t){var n={};return n.instrumentationKey=e,n.channels=function(e){var t=[[]];u.channels&&at(u.channels,(function(e,n){Ve.isFunction(e)||(t[n]=t[n]||[],t[n]=t[n].concat(e))}));e&&e.channels&&at(e.channels,(function(e,n){Ve.isFunction(e)||(t[n]=t[n]||[],t[n]=t[n].concat(e))}));return t}(t),function(e){var t=[];u.extensions&&u.extensions.length>0&&(t=t.concat(u.extensions));e&&e.extensions&&e.extensions.length>0&&(t=t.concat(e.extensions));t.length>0&&(e.extensions=t);e.extensionConfig=e.extensionConfig||{},Ur(e.extensionConfig,u.extensionConfig)}(n),Ur(n,t),Ur(n,u),n}e.diagLog=function(){return o||(o=new gn(u)),o},e.getPerfMgr=function(){return a||u&&u.enablePerfMgr&&(a=new mn(e.getNotifyMgr())),a},e.setPerfMgr=function(e){a=e},e.create=function(e,t){var o,s,a,c;o=(u=e||{}).channels||[[]],s=new br,a=s.identifier,c=!1,i=null,r=null,Ve.arrForEach(o,(function(e){Ve.arrForEach(e,(function(e){Ve.isFunction(e)||(p(e),e.identifier===a&&(c=!0,i=e))}))})),c||(o[0].push(s),i=p(s,u.channelConfiguration)),u.channels=o,function(e){l=[],n=p(new er,u.propertyConfiguration),l.push(n),u.extensions&&Ve.arrForEach(u.extensions,(function(e){Ve.isFunction(e)||p(e)})),e&&Ve.arrForEach(e,(function(e){e&&!Ve.isFunction(e)&&l.push(p(e))}))}(t)},e.getInst=function(e){return(h[e]||{}).inst},e.newInst=function(n,o,s){var a=e.getInst(n);if(a)return e.diagLog().throwInternal(Fe.WARNING,je.FailedToInitializeSDK,"Instance already exists for ["+n+"]"),a;_(n);var u=g(n,o);if(i){var c=Wr(i.identifier,u);r&&c&&r!=c&&e.diagLog().throwInternal(Fe.WARNING,je.ErrorProvidedChannels,"The endpointUrl mismatch, shared Url ["+r+"] is different from configured ["+c+"] shared will be used!")}var f=new zr(n,t);return a=new Hr(e,e.diagLog(),f),h[n]={iKey:n,inst:a,notifyMgr:f},a.setPerfMgr(e.getPerfMgr()),a.initialize(u,function(e){var t=[];return l&&l.length>0&&(t=t.concat(l)),e&&e.length>0&&(t=t.concat(e)),t}(s)),a},e.getSharedPlugin=function(e){_();var t=null;return Ve.arrForEach(f,(function(n){e===n.identifier&&(t=n)})),t||Ve.arrForEach(d,(function(n){e===n.identifier&&(t=n)})),t},e.getPropertyManager=function(){return _(),n},e.getPostChannel=function(){return _(),i},e.getNotifyMgr=function(){return s||(s=new hn),s}}))}return e.prototype.getNotifyMgr=function(){return null},e.prototype.getPerfMgr=function(){return null},e.prototype.setPerfMgr=function(e){},e}(),Hr=function(e){function t(n,i,r){var o,s=e.call(this)||this,a=n;return dn(t,s,(function(e,t){e.getSharedPropertyManager=function(){return a.getPropertyManager()},e.getSharedPostChannel=function(){return a.getPostChannel()},e.getOverridePropertyManager=function(){return o},e.initialize=function(n,s){Sn(e,(function(){return"ApplicationInsights:initialize"}),(function(){var a=[o=new Vr];s&&(a=a.concat(s)),n.extensionConfig=n.extensionConfig||[];var u=n.propertyConfiguration||{};n.propertyConfiguration&&delete n.propertyConfiguration,n.extensionConfig[o.identifier]=u;try{t.initialize(n,a,i,r)}catch(t){e.logger.throwInternal(Fe.CRITICAL,je.FailedToInitializeSDK,"Failed to initialize SDK."+t)}}),(function(){return{config:n,extensions:s}}))}})),s}return __extends(t,e),t.prototype.initialize=function(e,t){},t}(Gn),Kr=n("x5YJ"),jr=function(){function e(){this.oneDsLoggers={},this.oneDsManager=new Gr}return e.prototype.initialize=function(e){var t=this;this.initParams=e;var n={instrumentationKey:e.appTokens.default,endpointUrl:e.oneDsCollectorUrl,extensions:[],extensionConfig:[],propertyConfiguration:{populateBrowserInfo:!0,populateOperatingSystemInfo:!0,sessionAsGuid:!0},channelConfiguration:{payloadPreprocessor:e.enableCompression?function(e,n){t.gzipPayload(e,n)}:void 0,eventsLimitInMem:e.eventsLimitInMem,autoFlushEventsLimit:e.eventsLimitInMem*e.autoFlushPercent,ignoreMc1Ms0CookieProcessing:!0}};this.oneDsManager.create(n)},e.prototype.start=function(){this.resume()},e.prototype.stop=function(){this.pause()},e.prototype.pause=function(){this.oneDsManager.getPostChannel().pause()},e.prototype.resume=function(){this.oneDsManager.getPostChannel().resume()},e.prototype.flush=function(e,t){this.oneDsManager.getPostChannel().flush(!!t,(function(){e.postMessage("flushed")}))},e.prototype.createNewLogger=function(e,t){var n;if(this.initParams){var i=this.oneDsManager.newInst(t),r="MSTeamsFix15SecondsProfile";this.oneDsManager.getPostChannel()._loadTransmitProfiles(((n={}).MSTeamsFix15SecondsProfile=[this.initParams.normalPrioritySendTimeInSecs,this.initParams.highPrioritySendTimeInSecs],n)),this.oneDsManager.getPostChannel()._setTransmitProfile(r),this.oneDsLoggers[e]=i}},e.prototype.logEvent=function(e,t){if(e&&t){var n=this.oneDsLoggers[e];if(n){var i=t.properties,r={};for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var s=i[o],a={value:s.value,kind:s.pii};r[o]=a}var u=new Date(t.timestamp).toISOString(),l={name:t.name,baseType:t.eventType,time:u,data:r};n.track(l)}}},e.prototype.setContext=function(e){var t={value:e.value};this.oneDsManager.getPropertyManager().setProperty(e.key,t)},e.prototype.setUserId=function(e){this.oneDsManager.getPropertyManager().setProperty("UserInfo.Id",{value:e,kind:void 0})},e.prototype.logSession=function(e,t){},e.prototype.setUserTenantId=function(e){},e.prototype.setUserRing=function(e){},e.prototype.setAppClientType=function(e){},e.prototype.gzipPayload=function(e,t){e.data=Object(Kr.gzip)(e.data),e.urlString+="&content-encoding=gzip",t(e)},e}(),qr=function(){function e(){}return e.prototype.initialize=function(e){if(!e)throw new Error("WebWorkerRouter did not exist.");this.router=e,this._registerMessageHandlers(e)},e.prototype.Verbose=function(e){this.router&&this.router.postMessage("verbose",e)},e.prototype.Error=function(e){this.router&&this.router.postMessage("error",e)},e.prototype.Info=function(e){this.router&&this.router.postMessage("info",e)},e.prototype._registerMessageHandlers=function(e){var t=this;e.registerMessageHandler("initialize",(function(e){e.enableDebugTrace?e.config.log=t:e.config.log=void 0,e.enableOneDsSdkNs?t.telemetryTransport=new jr:t.telemetryTransport=new ae,t.telemetryTransport.initialize(e)})),e.registerMessageHandler("start",(function(){var e;null===(e=t.telemetryTransport)||void 0===e||e.start()})),e.registerMessageHandler("stop",(function(){var e;null===(e=t.telemetryTransport)||void 0===e||e.stop()})),e.registerMessageHandler("flush",(function(){var n;null===(n=t.telemetryTransport)||void 0===n||n.flush(e)})),e.registerMessageHandler("newLogger",(function(e){var n;null===(n=t.telemetryTransport)||void 0===n||n.createNewLogger(e.key,e.value)})),e.registerMessageHandler("logEvent",(function(e){var n;null===(n=t.telemetryTransport)||void 0===n||n.logEvent(e.key,e.value)})),e.registerMessageHandler("logSession",(function(n){var i;null===(i=t.telemetryTransport)||void 0===i||i.logSession(e,n)})),e.registerMessageHandler("setUserId",(function(e){var n;null===(n=t.telemetryTransport)||void 0===n||n.setUserId(e)})),e.registerMessageHandler("setUserTenantId",(function(e){var n;null===(n=t.telemetryTransport)||void 0===n||n.setUserTenantId(e)})),e.registerMessageHandler("setUserRing",(function(e){var n;null===(n=t.telemetryTransport)||void 0===n||n.setUserRing(e)})),e.registerMessageHandler("setAppClientType",(function(e){var n;null===(n=t.telemetryTransport)||void 0===n||n.setAppClientType(e)})),e.registerMessageHandler("setContext",(function(e){var n;null===(n=t.telemetryTransport)||void 0===n||n.setContext(e)}))},e}(),Zr=function(e){function t(t){var n=e.call(this)||this;return n.worker=t,n.registerMessageHandler("batch",(function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];if(r&&r.name){var o=n.messageHandlers[r.name];o&&o(r.params)}}n.postMessage("batchDone")})),n.worker.onmessage=function(e){return n.onmessageHandler(e)},n.postMessage("workerInitialized"),n}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.postMessage=function(e,t){this.worker.postMessage({name:e,params:t})},t.prototype.registerMessageHandler=function(t,n){e.prototype.registerMessageHandler.call(this,t,n)},t.prototype.unregisterMessageHandler=function(t){e.prototype.unregisterMessageHandler.call(this,t)},t.prototype.onmessageHandler=function(e){if(e&&e.data&&e.data.name){var t=this.messageHandlers[e.data.name];t&&t(e.data.params)}},t}(a);!function(e){if(!e.onmessage){var t=new Zr(e);(new qr).initialize(t)}}(self)},WvWw:function(e,t,n){"use strict";var i=n("XTsk"),r=n("87bM"),o=n("xmh6"),s=n("re3g"),a=n("3Sb9"),u=-2,l=12,c=30;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):u}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):u}function _(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?u:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,p(e))):u}function g(e,t){var n,i;return e?(i=new d,e.state=i,i.window=null,0!==(n=_(e,t))&&(e.state=null),n):u}var v,m,y=!0;function S(e){if(y){var t;for(v=new i.Buf32(512),m=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,m,0,e.work,{bits:5}),y=!1}e.lencode=v,e.lenbits=9,e.distcode=m,e.distbits=5}function I(e,t,n,r){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,t,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=p,t.inflateReset2=_,t.inflateResetKeep=h,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,d,h,p,_,g,v,m,y,w,E,T,b,x,C,A,R,k,O,N,D,P,L,M,B=0,F=new i.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(n=e.state).mode===l&&(n.mode=13),_=e.next_out,h=e.output,v=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,m=n.hold,y=n.bits,w=g,E=v,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(2&n.wrap&&35615===m){n.check=0,F[0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0),m=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=c;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=c;break}if(y-=4,D=8+(15&(m>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=c;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&m?10:l,m=0,y=0;break;case 2:for(;y<16;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=c;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=c;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0)),m=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}n.head&&(n.head.time=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,F[2]=m>>>16&255,F[3]=m>>>24&255,n.check=o(n.check,F,4,0)),m=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0)),m=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0)),m=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((T=n.length)>g&&(T=g),T&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,d,p,T,D)),512&n.flags&&(n.check=o(n.check,d,T,p)),g-=T,p+=T,n.length-=T),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;T=0;do{D=d[p+T++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D))}while(D&&T<g);if(512&n.flags&&(n.check=o(n.check,d,T,p)),g-=T,p+=T,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;T=0;do{D=d[p+T++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D))}while(D&&T<g);if(512&n.flags&&(n.check=o(n.check,d,T,p)),g-=T,p+=T,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=c;break}m=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=l;break;case 10:for(;y<32;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}e.adler=n.check=f(m),m=0,y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=_,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=m,n.bits=y,2;e.adler=n.check=1,n.mode=l;case l:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}switch(n.last=1&m,y-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6===t){m>>>=2,y-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=c}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=c;break}if(n.length=65535&m,m=0,y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(T>g&&(T=g),T>v&&(T=v),0===T)break e;i.arraySet(h,d,p,T,_),g-=T,p+=T,v-=T,_+=T,n.length-=T;break}n.mode=l;break;case 17:for(;y<14;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(n.nlen=257+(31&m),m>>>=5,y-=5,n.ndist=1+(31&m),m>>>=5,y-=5,n.ncode=4+(15&m),m>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=c;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}n.lens[V[n.have++]]=7&m,m>>>=3,y-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},P=a(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid code lengths set",n.mode=c;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(B=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,R=65535&B,!((C=B>>>24)<=y);){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(R<16)m>>>=C,y-=C,n.lens[n.have++]=R;else{if(16===R){for(M=C+2;y<M;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(m>>>=C,y-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=c;break}D=n.lens[n.have-1],T=3+(3&m),m>>>=2,y-=2}else if(17===R){for(M=C+3;y<M;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}y-=C,D=0,T=3+(7&(m>>>=C)),m>>>=3,y-=3}else{for(M=C+7;y<M;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}y-=C,D=0,T=11+(127&(m>>>=C)),m>>>=7,y-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=c;break}for(;T--;)n.lens[n.have++]=D}}if(n.mode===c)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=c;break}if(n.lenbits=9,L={bits:n.lenbits},P=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid literal/lengths set",n.mode=c;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},P=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,P){e.msg="invalid distances set",n.mode=c;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&v>=258){e.next_out=_,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=m,n.bits=y,s(e,E),_=e.next_out,h=e.output,v=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,m=n.hold,y=n.bits,n.mode===l&&(n.back=-1);break}for(n.back=0;A=(B=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,R=65535&B,!((C=B>>>24)<=y);){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(A&&0==(240&A)){for(k=C,O=A,N=R;A=(B=n.lencode[N+((m&(1<<k+O)-1)>>k)])>>>16&255,R=65535&B,!(k+(C=B>>>24)<=y);){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}m>>>=k,y-=k,n.back+=k}if(m>>>=C,y-=C,n.back+=C,n.length=R,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=l;break}if(64&A){e.msg="invalid literal/length code",n.mode=c;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(M=n.extra;y<M;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(B=n.distcode[m&(1<<n.distbits)-1])>>>16&255,R=65535&B,!((C=B>>>24)<=y);){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(0==(240&A)){for(k=C,O=A,N=R;A=(B=n.distcode[N+((m&(1<<k+O)-1)>>k)])>>>16&255,R=65535&B,!(k+(C=B>>>24)<=y);){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}m>>>=k,y-=k,n.back+=k}if(m>>>=C,y-=C,n.back+=C,64&A){e.msg="invalid distance code",n.mode=c;break}n.offset=R,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(M=n.extra;y<M;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=c;break}n.mode=25;case 25:if(0===v)break e;if(T=E-v,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=c;break}T>n.wnext?(T-=n.wnext,b=n.wsize-T):b=n.wnext-T,T>n.length&&(T=n.length),x=n.window}else x=h,b=_-n.offset,T=n.length;T>v&&(T=v),v-=T,n.length-=T;do{h[_++]=x[b++]}while(--T);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;h[_++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===g)break e;g--,m|=d[p++]<<y,y+=8}if(E-=v,e.total_out+=E,n.total+=E,E&&(e.adler=n.check=n.flags?o(n.check,h,E,_-E):r(n.check,h,E,_-E)),E=v,(n.flags?m:f(m))!==n.check){e.msg="incorrect data check",n.mode=c;break}m=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===g)break e;g--,m+=d[p++]<<y,y+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=c;break}m=0,y=0}n.mode=29;case 29:P=1;break e;case c:P=-3;break e;case 31:return-4;case 32:default:return u}return e.next_out=_,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=m,n.bits=y,(n.wsize||E!==e.avail_out&&n.mode<c&&(n.mode<27||4!==t))&&I(e,e.output,e.next_out,E-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,E-=e.avail_out,e.total_in+=w,e.total_out+=E,n.total+=E,n.wrap&&E&&(e.adler=n.check=n.flags?o(n.check,h,E,e.next_out-E):r(n.check,h,E,e.next_out-E)),e.data_type=n.bits+(n.last?64:0)+(n.mode===l?128:0)+(20===n.mode||15===n.mode?256:0),(0===w&&0===E||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?u:(n.head=t,t.done=!1,0):u},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&r(1,t,i,0)!==n.check?-3:I(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):u},t.inflateInfo="pako inflate (from Nodeca project)"},XTsk:function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,r),r+=o.length;return s}},s={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(i)},fGfo:function(e,t,n){"use strict";var i=n("Pmak"),r=n("XTsk"),o=n("7yrl"),s=n("0pPc"),a=n("xeuG"),u=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,c)))throw new Error(s[n]);this._dict_set=!0}}function c(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}l.prototype.push=function(e,t){var n,s,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(l),a.next_out=0,a.avail_out=l),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},re3g:function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,s,a,u,l,c,f,d,h,p,_,g,v,m,y,S,I,w,E,T,b,x;n=e.state,i=e.next_in,b=e.input,r=i+(e.avail_in-5),o=e.next_out,x=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,_=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;e:do{p<15&&(h+=b[i++]<<p,p+=8,h+=b[i++]<<p,p+=8),y=_[h&v];t:for(;;){if(h>>>=S=y>>>24,p-=S,0===(S=y>>>16&255))x[o++]=65535&y;else{if(!(16&S)){if(0==(64&S)){y=_[(65535&y)+(h&(1<<S)-1)];continue t}if(32&S){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}I=65535&y,(S&=15)&&(p<S&&(h+=b[i++]<<p,p+=8),I+=h&(1<<S)-1,h>>>=S,p-=S),p<15&&(h+=b[i++]<<p,p+=8,h+=b[i++]<<p,p+=8),y=g[h&m];n:for(;;){if(h>>>=S=y>>>24,p-=S,!(16&(S=y>>>16&255))){if(0==(64&S)){y=g[(65535&y)+(h&(1<<S)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&y,p<(S&=15)&&(h+=b[i++]<<p,(p+=8)<S&&(h+=b[i++]<<p,p+=8)),(w+=h&(1<<S)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=S,p-=S,w>(S=o-s)){if((S=w-S)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,T=d,0===f){if(E+=l-S,S<I){I-=S;do{x[o++]=d[E++]}while(--S);E=o-w,T=x}}else if(f<S){if(E+=l+f-S,(S-=f)<I){I-=S;do{x[o++]=d[E++]}while(--S);if(E=0,f<I){I-=S=f;do{x[o++]=d[E++]}while(--S);E=o-w,T=x}}}else if(E+=f-S,S<I){I-=S;do{x[o++]=d[E++]}while(--S);E=o-w,T=x}for(;I>2;)x[o++]=T[E++],x[o++]=T[E++],x[o++]=T[E++],I-=3;I&&(x[o++]=T[E++],I>1&&(x[o++]=T[E++]))}else{E=o-w;do{x[o++]=x[E++],x[o++]=x[E++],x[o++]=x[E++],I-=3}while(I>2);I&&(x[o++]=x[E++],I>1&&(x[o++]=x[E++]))}break}}break}}while(i<r&&o<a);i-=I=p>>3,h&=(1<<(p-=I<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=h,n.bits=p}},tGpS:function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},uKge:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},x5YJ:function(e,t,n){"use strict";var i={};(0,n("XTsk").assign)(i,n("fGfo"),n("KdfH"),n("tGpS")),e.exports=i},xeuG:function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},xmh6:function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}}});
ExtensionDeviceLimitNotification=function(i){var g=$(i.body),l=864e5,m=15*l,d=30*l,v=new Date,a,e,t,o,n;return{initialize:function(){var i=bg.get("g_device_limit_releaseTS");if(bg.get("g_show_device_limit_notification")){var e=bg.get("g_uid")+"_deviceLimitNotificationData",t=v,o;try{t=(o=JSON.parse(bg.localStorage_getItem(e))).lastShown}catch(i){console.error("Cannot parse deviceLimitNotification json",bg.localStorage_getItem(e))}i<=v?bg.setDeviceLimitNotification(!1):v!==t?(t<i-d&&v<i-d||i-d<=t&&t<i-m&&i-d<=v&&v<i-m||i-m<=t&&t<i-l&&i-m<=v&&v<i-l||i-l<=t&&t<i&&i-l<=v&&v<i)&&bg.setDeviceLimitNotification(!1):bg.setDeviceLimitNotification(!0)}},initializeLegacyEdge:function(){var n=bg.get("g_device_limit_releaseTS");chrome.runtime.getBackgroundPage(function(e){if(a=e.g_show_device_limit_notification){var t=e.g_uid+"_deviceLimitNotificationData",i=v,o;try{i=(o=JSON.parse(e.localStorage_getItem(t))).lastShown}catch(i){console.error("Cannot parse deviceLimitNotification json",e.localStorage_getItem(t))}n<=v?e.setDeviceLimitNotification(!1):v!==i?(i<n-d&&v<n-d||n-d<=i&&i<n-m&&n-d<=v&&v<n-m||n-m<=i&&i<n-l&&n-m<=v&&v<n-l||n-l<=i&&i<n&&n-l<=v&&v<n)&&e.setDeviceLimitNotification(!1):e.setDeviceLimitNotification(!0)}})},shouldShowForLegacyEdge:function(){return a},setupUI:function(){var i=bg.get("g_device_limit_releaseTS"),e=$("#dialogTitle"),t=document.getElementById("dialogText"),o=$("#dialogImg"),n=bg.get("g_uid")+"_deviceLimitNotificationData",a=$("#deviceLimitDismissBtn"),s=$("#deviceLimitUpgradeBtn");function c(i){bg.localStorage_setItem(n,JSON.stringify({lastShown:(new Date).getTime()})),bg.setDeviceLimitNotification(!1),bg.sendLpImprove("ipm_engage",{messageId:"30 Day Notice",title:i,campaignId:"Multi-Device Paywall",target:"Extension Dropdown"}),bg.openURL("https://www.lastpass.com/buy-premium?cp=LPP2021-DT-25IP"),g.removeClass("deviceLimitNotification panelIsActive"),ExtensionDropdown.setSize()}function r(i){bg.localStorage_setItem(n,JSON.stringify({lastShown:(new Date).getTime()})),bg.setDeviceLimitNotification(!1),bg.sendLpImprove("ipm_dismissed",{messageId:"30 Day Notice",title:i,campaignId:"Multi-Device Paywall",target:"Extension Dropdown"}),g.removeClass("deviceLimitNotification panelIsActive"),ExtensionDropdown.setSize()}v<i-d||i-d<=v&&v<i-m?(e.text(Strings.translateString("Important changes to LastPass Free")),o.attr("src","images/deviceLimitNotification/device_types.svg"),t.innerHTML=Strings.translateString("Starting %sMarch 16, 2021%s, you'll only be able to use LastPass Free on %sone device type%s (either computers or mobile devices). To continue using LastPass everywhere, upgrade now at a 25%% discount.","<b>","</b>","<b>","</b>"),bg.setDeviceLimitNotification(!0),a.click(function(){r("First Notice")}),s.click(function(){c("First Notice")}),bg.sendLpImprove("ipm_shown",{messageId:"30 Day Notice",title:"First Notice",campaignId:"Multi-Device Paywall",target:"Extension Dropdown"})):i-m<=v&&v<i-l?(e.text(Strings.translateString("Grab your 25% discount today!")),o.attr("src","images/deviceLimitNotification/illustration_yellow.svg"),t.innerHTML=Strings.translateString("Starting %sMarch 16, 2021%s, you'll only be able to use LastPass Free on %sone device type%s (either computers or mobile devices). To continue using LastPass everywhere, upgrade now at a 25%% discount.","<b>","</b>","<b>","</b>"),bg.setDeviceLimitNotification(!0),a.click(function(){r("Second Notice")}),s.click(function(){c("Second Notice")}),bg.sendLpImprove("ipm_shown",{messageId:"30 Day Notice",title:"Second Notice",campaignId:"Multi-Device Paywall",target:"Extension Dropdown"})):i-l<=v&&v<i&&(e.text(Strings.translateString("Grab your 25% discount today!")),o.attr("src","images/deviceLimitNotification/illustration_red.svg"),t.innerHTML=Strings.translateString("Starting %stomorrow%s you'll only be able to use LastPass Free on %sone device type%s (either computers or mobile devices). To continue using LastPass everywhere, upgrade now at a 25%% discount.","<b>","</b>","<b>","</b>"),bg.setDeviceLimitNotification(!0),a.click(function(){r("Final Notice")}),s.click(function(){c("Final Notice")}),bg.sendLpImprove("ipm_shown",{messageId:"30 Day Notice",title:"Final Notice",campaignId:"Multi-Device Paywall",target:"Extension Dropdown"})),g.addClass("deviceLimitNotification panelIsActive")}}}(document);